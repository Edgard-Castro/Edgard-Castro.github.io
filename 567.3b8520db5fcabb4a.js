"use strict";(self.webpackChunkMentorsplus=self.webpackChunkMentorsplus||[]).push([[567],{5173:(ae,z,p)=>{p.d(z,{b:()=>$});var u=p(5861),t=p(520),i=p(2340),F=p(7579),v=p(5e3),e=p(7232),k=p(9978),J=p(2290),U=p(2593);let $=(()=>{class A{constructor(a,m,c,I,Z){this.translate=a,this.ambiente=m,this.toastSrv=c,this.http=I,this.clientSvc=Z,this.catalystobs="",this.catalystobs$=new F.x}getcatalystobs$(){return this.catalystobs$.asObservable()}getTodascatalystobs(a){var m=this;return(0,u.Z)(function*(){m.catalystobs=yield m.getAllCatalystbyId(a),m.catalystobs$.next(m.catalystobs)})()}getCatalystById(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/metricasCatalyst/${a}`).toPromise()}addCatalyst(a,m){let c=this.cambiar(a.fechavisita),I=this.cambiar(a.proximavisita),Z=a.comentarios.replace(/(\r\n|\n|\r)/gm," ");const j={locale:"en",dateFormat:"yyyy-MM-dd",TipoVisita_cd_tipoVisita:a.tipovisita,leccionCatalyst_cd_leccion:a.leccion,fechaVisita:c,fechaProximaVisita:I,negocioCatalyst_cd_etapaNegocio:a.negocio,ventas:a.ventas,gastosFijos:a.gastosfijos,costosVariables:a.costosvariables,deudaActual:a.deudaactual,empleadosTC:a.empleadostc,empleadosTP:a.empleadostp,comentario:Z};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/metricasCatalyst/${m}`,j).subscribe(R=>{this.toastSrv.success(this.translate.instant("pop_up.alert.catalyst.metric_added_successfully"))},R=>this.toastSrv.error(this.translate.instant("pop_up.alert.catalyst.error_added_metric")))}updateVisitCatalyst(a){const m=this.cambiar(a.proximavisita),c=this.cambiar(a.fechavisita),I=a.client_id,Z=a.id,j=a.comentarios.replace(/(\r\n|\n|\r)/gm,""),R={locale:"en",dateFormat:"yyyy-MM-dd",TipoVisita_cd_tipoVisita:a.tipovisita,leccionCatalyst_cd_leccion:a.leccion,fechaVisita:c,fechaProximaVisita:m,negocioCatalyst_cd_etapaNegocio:a.negocio,ventas:a.ventas,gastosFijos:a.gastosfijos,costosVariables:a.costosvariables,deudaActual:a.deudaactual,empleadosTC:a.empleadostc,empleadosTP:a.empleadostp,comentario:j};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/metricasCatalyst/${I}/${Z}`,R)}getOneVisitCatalyst(a,m){const c=(new t.LE).set("R_clientId",a).set("R_asOn",m);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteSeleccionarCatalystFecha`,{params:c}).toPromise()}getAllCatalystbyId(a){const m=(new t.LE).set("R_clientId",a);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteMetricasCatalyst`,{params:m}).toPromise()}updateCatalyst(a,m){const c={numeroSocios:(null==a?void 0:a.numeroSocios)?null==a?void 0:a.numeroSocios:"",YesNo_cd_empresaFamiliar:(null==a?void 0:a.empresaFamiliar)?null==a?void 0:a.empresaFamiliar:"",formaJuridica_cd_formaJuridica:(null==a?void 0:a.formaJuridica)?null==a?void 0:a.formaJuridica:"",locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,c).subscribe(I=>{this.toastSrv.success(this.translate.instant("pop_up.alert.catalyst.saved_successfully")),this.clientSvc.getTodoPerfilCliente(m)},I=>this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,c).subscribe(Z=>{this.toastSrv.success(this.translate.instant("pop_up.alert.catalyst.record_successfully")),this.clientSvc.getTodoPerfilCliente(m)},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.additional_data.error_saving"))))}cambiar(a){let c=a.toString().split(",");return c[1]<10&&(c[1]="0"+c[1]),c[2]<10&&(c[2]="0"+c[2]),c=c.join(),c=c.replace(",","-"),c=c.replace(",","-"),c}}return A.\u0275fac=function(a){return new(a||A)(v.LFG(e.sK),v.LFG(k.j),v.LFG(J._W),v.LFG(t.eN),v.LFG(U.a))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},2593:(ae,z,p)=>{p.d(z,{a:()=>$});var u=p(5861),t=p(520),i=p(2340),F=p(7579),v=p(4004),e=p(5e3),k=p(7232),J=p(9978),U=p(2290);let $=(()=>{class A{constructor(a,m,c,I){this.translate=a,this.http=m,this.ambiente=c,this.toastSrv=I,this.direccionescliente$=new F.x,this.notascliente$=new F.x,this.documentoscliente$=new F.x,this.Familycliente$=new F.x,this.fotocliente$=new F.x,this.perfilcliente$=new F.x,this.perfilTcliente$=new F.x,this.familycliente$=new F.x}getClientePorOficina(a,m="ASC",c=1e3){const I=(new t.LE).set("officeId",a).set("limit",c.toString()).set("sortOrder",m);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients`,{params:I}).pipe((0,v.U)(Z=>Z.pageItems))}getbloqueclienteClasificacion(a=0,m,c,I,Z="DESC",j=200){let R=(new t.LE).set("limit",j.toString()).set("offset",a);return m&&(R=R.set("sqlSearch",`c.client_classification_cv_id=${m}`)),c&&(R=R.set("officeId",c)),I&&(R=R.set("sqlSearch",`c.display_Name like "%${I}%"`)),this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients`,{params:R}).toPromise()}getbloqueclienteClasificaciontodo(a){let m=new t.LE;return m=m.set("sqlSearch",`c.client_classification_cv_id=${a}`).set("limit",-1),this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients`,{params:m}).toPromise()}getClientBySql(a){const m=(new t.LE).set("query",a).set("resource","clients,clientIdentifiers,parentId").set("exactMatch","false");return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/search`,{params:m})}getClientByOfficeSql(a,m){const c=(new t.LE).set("R_accountNo",a).set("R_officeId",m);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteListadoClientes`,{params:c})}getDiasSinVisitarCliente(a){const m=(new t.LE).set("R_accountNo",a);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteDiasSinVisitar`,{params:m})}getHistoricoProyecto(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/historico_proyecto/${a}`)}getClientTemplate(){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/template`)}getOtrosDatosTemplate(){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales`).pipe((0,v.U)(a=>a.columnHeaderData))}getMetricasCatalyst(){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/metricasCatalyst`).toPromise()}getLoanById(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/accounts`).pipe((0,v.U)(m=>m.loanAccounts.sort((c,I)=>c.status.value>I.status.value)))}updateClient(a,m){let c=this.cambiar(a.dateOfBirth);const I={externalId:null==a?void 0:a.externalId,firstname:null==a?void 0:a.firstname,middlename:null==a?void 0:a.middlename,lastname:null==a?void 0:a.lastname,mobileNo:null==a?void 0:a.mobileNo,dateOfBirth:c,genderId:null==a?void 0:a.gender,clientTypeId:null==a?void 0:a.clientType,clientClassificationId:null==a?void 0:a.clientClassification,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}`,I).subscribe(Z=>{this.toastSrv.success(this.translate.instant("pop_up.alert.client.updated_successfully")),this.getTodoPerfilCliente(m),this.getTodoTPerfilCliente(m)},Z=>{this.toastSrv.error(this.translate.instant("pop_up.alert.client.error_updating"))})}updateNegocio(a,m){let c=this.cambiar(a.Experiencia);const I={TipodeNegocio_cd_Tipo_de_Negocio:(null==a?void 0:a.TipodeNegocio_cd_Tipo_de_Negocio)?null==a?void 0:a.TipodeNegocio_cd_Tipo_de_Negocio:"",Negocio_cd_Negocio:(null==a?void 0:a.Negocio_cd_Negocio)?null==a?void 0:a.Negocio_cd_Negocio:"",Experiencia:c||"",Empleados:(null==a?void 0:a.Empleados)?null==a?void 0:a.Empleados:"",locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,I).subscribe(Z=>{this.toastSrv.success(this.translate.instant("pop_up.alert.business.saved_successfully")),this.getTodoPerfilCliente(m)},Z=>this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,I).subscribe(j=>{this.toastSrv.success(this.translate.instant("pop_up.alert.business.created_successfully")),this.getTodoPerfilCliente(m)},j=>this.toastSrv.error(this.translate.instant("pop_up.alert.additional_data.error_saving"))))}addOtrosDatos(a,m){const c=a.Experiencia?this.cambiar(null==a?void 0:a.Experiencia):"",I={EstadoCivil_cd_Estado_Civil:a.EstadoCivil_cd_Estado_Civil,Dependientes:a.Dependientes,NivelEducacion_cd_Nivel_de_Educacion:a.NivelEducacion_cd_Nivel_de_Educacion,Religion_cd_Religion:a.Religion_cd_Religion,Estacas_cd_Estaca:a.Estacas_cd_Estaca,numeroSocios:a.numeroSocios,YesNo_cd_empresaFamiliar:a.empresaFamiliar,formaJuridica_cd_formaJuridica:a.formaJuridica,TipodeNegocio_cd_Tipo_de_Negocio:a.TipodeNegocio_cd_Tipo_de_Negocio,Negocio_cd_Negocio:a.Negocio_cd_Negocio,Experiencia:c,Empleados:a.Empleados,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,I).subscribe(Z=>this.toastSrv.success(this.translate.instant("pop_up.alert.additional_data.saved")),Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.additional_data.error_saving")))}addHistoricoProyecto(a,m){const c={idTipoProyecto:a.idTipoProyecto,fechaInicial:null==a?void 0:a.fechaInicial,idMentor:a.idMentor,periodo:a.periodo,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/historico_proyecto/${m}`,c).subscribe(I=>this.toastSrv.success(this.translate.instant("Historico creado")),I=>this.toastSrv.error(this.translate.instant("Historico no agregado")))}updateOtrosDatos(a,m){const c={EstadoCivil_cd_Estado_Civil:(null==a?void 0:a.EstadoCivil_cd_Estado_Civil)?null==a?void 0:a.EstadoCivil_cd_Estado_Civil:"",Dependientes:(null==a?void 0:a.Dependientes)?null==a?void 0:a.Dependientes:"",NivelEducacion_cd_Nivel_de_Educacion:(null==a?void 0:a.NivelEducacion_cd_Nivel_de_Educacion)?null==a?void 0:a.NivelEducacion_cd_Nivel_de_Educacion:"",Religion_cd_Religion:(null==a?void 0:a.Religion_cd_Religion)?null==a?void 0:a.Religion_cd_Religion:"",Estacas_cd_Estaca:(null==a?void 0:a.Estacas_cd_Estaca)?null==a?void 0:a.Estacas_cd_Estaca:"",locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,c).subscribe(I=>{this.toastSrv.success(this.translate.instant("pop_up.alert.additional_data.saved")),this.getTodoPerfilCliente(m)},I=>this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${m}`,c).subscribe(Z=>{this.toastSrv.success(this.translate.instant("pop_up.alert.additional_data.saved")),this.getTodoPerfilCliente(m)},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.additional_data.error_updating"))))}cambiar(a){let c=a.toString().split(",");return c[1]<10&&(c[1]="0"+c[1]),c[2]<10&&(c[2]="0"+c[2]),c=c.join(),c=c.replace(",","-"),c=c.replace(",","-"),c}guardarCliente(a){const m=this.cambiar(a.dateOfBirth),c=this.cambiar(a.submittedOnDate),I={officeId:a.officeId,firstname:a.firstname,lastname:a.lastname,externalId:a.externalId,dateFormat:"yyyy-MM-dd",locale:"en",active:a.active,activationDate:c,submittedOnDate:c,middlename:a.middlename,mobileNo:a.mobileNo,dateOfBirth:m,genderId:a.gender,clientTypeId:a.clientType,clientClassificationId:a.clientClassification,staffId:a.Staff?a.Staff:"false",isStaff:a.isStaff?a.isStaff:"false",legalFormId:1};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/`,I).toPromise()}actualizarclasificacion(a,m){let c;return console.log("recibido",a,"h",m),c=a.clientType?{clientClassificationId:null==a?void 0:a.clientClassification,clientTypeId:null==a?void 0:a.clientType,locale:"en",dateFormat:"yyyy-MM-dd"}:{clientClassificationId:null==a?void 0:a.clientClassification,locale:"en",dateFormat:"yyyy-MM-dd"},console.log("actualizando clasificacion",c),console.log(a),this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a.clientId}`,c).toPromise()}uploadClientProfileImage(a,m){let c=(new t.WM).set("Content-Type","text/plain").set("Access-Control-Allow-Origin","*.*");return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/images`,m,{headers:c}).subscribe(I=>{this.toastSrv.success(this.translate.instant("pop_up.alert.image.uploaded_successfully")),this.getTodoFotoCliente(a)},I=>this.toastSrv.error(this.translate.instant("pop_up.alert.image.error_saving")))}updateClientProfileImage(a,m){let c=(new t.WM).set("Content-Type","text/plain").set("Access-Control-Allow-Origin","*.*");return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/images`,m,{headers:c}).subscribe(I=>{this.getTodoFotoCliente(a),this.toastSrv.success(this.translate.instant("pop_up.alert.image.updated_successfully"))},I=>this.toastSrv.error(this.translate.instant("pop_up.alert.image.error_updating")))}guardardireccion(a,m){const c=a.addressTypeId,I={isActive:!0,street:a.street,addressLine1:a.addressLine1,addressLine2:a.addressLine2,addressLine3:a.addressLine3,stateProvinceId:a.stateProvinceId,postalCode:a.postalCode,countryId:a.countryId,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/client/${m}/addresses?type=${c}`,I).subscribe(Z=>{this.getTodasDirecciones(m),this.toastSrv.success(this.translate.instant("pop_up.alert.address.saved_successfully"))},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.address.error_saving")))}guardardocumento(a,m){const c={status:"Active",documentTypeId:a.documentTypeId,documentKey:a.documentKey,description:a.descripcion};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}/identifiers`,c).subscribe(I=>{this.getTodosDocumentos(m),this.toastSrv.success(this.translate.instant("pop_up.alert.identifiers.saved_successfully"))},I=>this.toastSrv.error(this.translate.instant("pop_up.alert.identifiers.error_saving")))}actualizardocumento(a){const m=a.clientId,c=a.identifierId,I={documentKey:a.documentKey,description:a.description,documentTypeId:a.documentTypeId};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}/identifiers/${c}`,I).subscribe(Z=>{this.getTodosDocumentos(m),this.toastSrv.success(this.translate.instant("pop_up.alert.identifiers.updated_successfully"))},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.identifiers.error_uploading_id_file")))}actualizarnota(a){const m=a.client_id,c=a.idnota,I={note:a.nota};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}/notes/${c}`,I).subscribe(Z=>{this.getTodasNotas(m),this.toastSrv.success(this.translate.instant("pop_up.alert.notes.updated_successfull"))},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.notes.error_updating")))}guardarnota(a){const m=a.client_id,c={note:a.nota};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}/notes`,c).subscribe(I=>{this.getTodasNotas(m),this.toastSrv.success(this.translate.instant("pop_up.alert.notes.saved_successfully"))},I=>this.toastSrv.error(this.translate.instant("pop_up.alert.notes.error_saving")))}actualizardireccion(a){const m=a.client_id,c=a.addressTypeId,I={addressId:a.addressId,isActive:a.isActive,street:a.street,addressLine1:a.addressLine1,addressLine2:a.addressLine2,addressLine3:a.addressLine3,stateProvinceId:a.stateProvinceId,postalCode:a.postalCode,countryId:a.countryId,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/client/${m}/addresses?type=${c}`,I).subscribe(Z=>{this.getTodasDirecciones(m),this.toastSrv.success(this.translate.instant("pop_up.alert.address.updated_successfully"))},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.address.error_updating")))}guardarfamily(a){const m=a.clientId,c=this.cambiar(a.dateOfBirth),I={firstName:a.firstName,middleName:a.middleName,lastName:a.lastName,relationshipId:a.relationshipId,maritalStatusId:a.maritalStatusId,genderId:a.genderId,dateOfBirth:c,professionId:a.professionId,mobileNumber:a.mobileNumber,isDependent:a.isDependent,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}/familymembers`,I).subscribe(Z=>{this.getTodosFamily(m),this.toastSrv.success(this.translate.instant("pop_up.alert.client.family_members.saved_successfully"))},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.client.family_members.error_saving")))}actualizarfamily(a){const m=a.clientId,c=a.id,I=this.cambiar(a.dateOfBirth),Z={firstName:a.firstName,middleName:a.middleName,lastName:a.lastName,relationshipId:a.relationshipId,maritalStatusId:a.maritalStatusId,genderId:a.genderId,dateOfBirth:I,professionId:a.professionId,mobileNumber:a.mobileNumber,isDependent:a.isDependent,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${m}/familymembers/${c}`,Z).subscribe(j=>{this.getTodosFamily(m),this.toastSrv.success(this.translate.instant("pop_up.alert.client.family_members.edited_successfully"))},j=>this.toastSrv.error(this.translate.instant("pop_up.alert.client.family_members.error_adding")))}getNotas$(){return this.notascliente$.asObservable()}getTodasNotas(a){var m=this;return(0,u.Z)(function*(){m.notascliente=yield m.getNotas(a),m.notascliente$.next(m.notascliente)})()}getNotas(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/notes`).toPromise()}getDirecciones$(){return this.direccionescliente$.asObservable()}getTodasDirecciones(a){var m=this;return(0,u.Z)(function*(){m.direcccionescliente=yield m.getDirecciones(a),m.direccionescliente$.next(m.direcccionescliente)})()}getDirecciones(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/client/${a}/addresses`).toPromise()}getFamily$(){return this.Familycliente$.asObservable()}getTodosFamily(a){var m=this;return(0,u.Z)(function*(){m.Familycliente=yield m.getFamily(a),m.Familycliente$.next(m.Familycliente)})()}getFamily(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/familymembers`).toPromise()}getDocumentos$(){return this.documentoscliente$.asObservable()}getTodosDocumentos(a){var m=this;return(0,u.Z)(function*(){m.documentoscliente=yield m.getDocumentos(a),m.documentoscliente$.next(m.documentoscliente)})()}getDocumentos(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/identifiers`).toPromise()}getPerfil$(){return this.perfilcliente$.asObservable()}getAllPerfilClient(a){const m=(new t.LE).set("R_clientId",a);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteResumenCliente`,{params:m}).toPromise()}getTodoPerfilCliente(a){var m=this;return(0,u.Z)(function*(){m.perfilcliente=yield m.getAllPerfilClient(a),m.perfilcliente$.next(m.perfilcliente)})()}getDatosPersonales(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Datos_Adicionales/${a}`).toPromise()}getTPerfil$(){return this.perfilTcliente$.asObservable()}getById(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}`).toPromise()}getAllTPerfilClient(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}`).toPromise()}getTodoTPerfilCliente(a){var m=this;return(0,u.Z)(function*(){m.perfilTcliente=yield m.getAllTPerfilClient(a),m.perfilTcliente$.next(m.perfilTcliente)})()}getFotoPerfil$(){return this.fotocliente$.asObservable()}getClientProfileImagePromesa(a){const m=(new t.LE).set("maxHeight","150");return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${a}/images`,{params:m,responseType:"text"}).toPromise()}getTodoFotoCliente(a){var m=this;return(0,u.Z)(function*(){m.fotocliente=yield m.getClientProfileImagePromesa(a),m.fotocliente$.next(m.fotocliente)})()}reactivarcliente(a){const m=this.hoy(),c={reactivationDate:m,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.post(`${this.ambiente.getUrlComplete()}/clients/${a}?command=reactivate`,c).subscribe(I=>{const Z={activationDate:m,locale:"en",dateFormat:"yyyy-MM-dd"};return this.http.post(`${this.ambiente.getUrlComplete()}/clients/${a}?command=Activate`,Z).subscribe(j=>{this.toastSrv.success(this.translate.instant("pop_up.alert.client.reactivado_exitoso")),this.getTodoPerfilCliente(a)},j=>this.toastSrv.error(this.translate.instant("pop_up.alert.client.error_reactivando")))},I=>this.toastSrv.error(this.translate.instant("pop_up.alert.client.error_activando")))}cerrarcliente(a){console.log("cerrando cliente");const m=this.hoy(),c=a.clientId,I={closureDate:m,closureReasonId:a.motivo,locale:"en",dateFormat:"yyyy-MM-dd"};console.log("cuerpo",I),this.http.post(`${this.ambiente.getUrlComplete()}/clients/${c}?command=close`,I).subscribe(Z=>{this.getTodoPerfilCliente(c),this.toastSrv.success(this.translate.instant("pop_up.alert.client.cerrado_exitoso"))},Z=>this.toastSrv.error(this.translate.instant("pop_up.alert.client.error_cerrando"),Z))}postHistoricoClasificacion(a){const m=a.idcliente,c={locale:"en_US",dateFormat:"yyyy-MM-dd",clasifId:a.clasifId,fechaInicial:a.FechaVisita,periodo:a.periodo,mentorId:a.mentorId};return console.log("tabla historico agregando",c),this.http.post(`${this.ambiente.getUrlComplete()}/datatables/historico_clasificacion/${m}`,c).toPromise()}putHistoricoClasificacion(a,m,c){const I={fechaFinal:c.FechaVisita,locale:"en_US",dateFormat:"yyyy-MM-dd"};return console.log("tabla historico actualizando",I),this.http.put(`${this.ambiente.getUrlComplete()}/datatables/historico_clasificacion/${a}/${m}`,I).toPromise()}getUltimoHistoricoId(a){const m=(new t.LE).set("R_clientId",a);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteClasificacionUltimoCambio`,{params:m}).toPromise()}hoy(){const a=new Date;return`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`}}return A.\u0275fac=function(a){return new(a||A)(e.LFG(k.sK),e.LFG(t.eN),e.LFG(J.j),e.LFG(U._W))},A.\u0275prov=e.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},4682:(ae,z,p)=>{p.d(z,{a:()=>e});var u=p(5861),t=p(2340),i=p(5e3),F=p(520),v=p(9978);let e=(()=>{class k{constructor(U,$){this.http=U,this.ambiente=$}getCodes(){return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/codes`).toPromise()}getTabla(U,$){return $?this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/codes/${U}/codevalues/${$}`).toPromise():this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/codes/${U}/codevalues`).toPromise()}getTablaobservable(U,$){return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/codes/${U}/codevalues`)}filtrarcodigos(U){return this.codigos.filter($=>$.name===U)}codesindividual(U,$){var A=this;return(0,u.Z)(function*(){return A.getCodes().then(P=>{A.codigos=P;const a=A.filtrarcodigos(U);return A.getTabla(a[0].id,$).then(m=>(A.valoraregresar=m,m))})})()}getdatoindividual(U,$){return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/codes/${U}/codevalues/${$}`).toPromise()}gettipocambio(){const U=JSON.parse(localStorage.user).officeId;return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/tipodecambio/${U}`).toPromise()}getPresupuesto(){const U=JSON.parse(localStorage.user).officeId;return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/Presupuesto/${U}`).toPromise()}}return k.\u0275fac=function(U){return new(U||k)(i.LFG(F.eN),i.LFG(v.j))},k.\u0275prov=i.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},4647:(ae,z,p)=>{p.d(z,{X:()=>i});var u=p(5e3),t=p(7232);let i=(()=>{class F{constructor(e){this.translate=e}arregloUnicoIndividual(e){let k;const J=e.data[0].row,U=e.columnHeaders;if(J.length<=0)return{};let $=0;for(let A of U)k[A.columnName]=J[$],$++;return k}arregloDobleAIndividual(e){let k=[];const J=e.data,U=e.columnHeaders;let $;for(let A=0;A<J.length;A++){$={};for(let P=0;P<U.length;P++)$[U[P].columnName]=J[A].row[P];k.push($)}return k}quitarguiones(e){let k=e.target.value;k=k.toString();for(let J of k)"-"==J&&(k=k.replace("-"," "));return k.trim()}calcularEdad(e){const k=e.split("-"),J=k[2],U=k[1],$=k[0],A=new Date,P=A.getFullYear(),a=A.getMonth()+1,m=A.getDate();var c=P-$;return a<U&&c--,U==a&&m<J&&c--,c>1900&&(c-=1900),m<J&&new Date(P,a-1,0).getDate(),c}}return F.\u0275fac=function(e){return new(e||F)(u.LFG(t.sK))},F.\u0275prov=u.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},887:(ae,z,p)=>{p.d(z,{J:()=>J});var u=p(5861),t=p(520),i=p(7579),F=p(5e3),v=p(7232),e=p(2290),k=p(9978);let J=(()=>{class U{constructor(A,P,a,m){this.translate=A,this.toastSrv=P,this.http=a,this.ambiente=m,this.groupsobs="",this.groupsobs$=new i.x,this.gruposcliente$=new i.x}getgroupsobs$(){return this.groupsobs$.asObservable()}getTodasgroupsobs(){var A=this;return(0,u.Z)(function*(){A.groupsobs=yield A.getAllgroupsbyId(),A.groupsobs$.next(A.groupsobs)})()}getAllgroupsbyId(){return this.http.get(`${this.ambiente.getUrlComplete()}/groups`).toPromise()}getGrupos$(){return this.gruposcliente$.asObservable()}getTodosGrupos(A){var P=this;return(0,u.Z)(function*(){P.gruposcliente=yield P.getGrupos(A),P.gruposcliente$.next(P.gruposcliente)})()}getGrupos(A){return this.http.get(`${this.ambiente.getUrlComplete()}/groups/${A}?associations=clientMembers`).toPromise()}getGroupTemplate(){return this.http.get(`${this.ambiente.getUrlComplete()}/groups/template`)}getGroupAccount(A){return this.http.get(`${this.ambiente.getUrlComplete()}/groups/${A}/accounts`).toPromise()}getGroupSummary(A){const P=(new t.LE).set("R_groupId",A).set("genericResultSet","false");return this.http.get(`${this.ambiente.getUrlComplete()}/runreports/GroupSummaryCounts`,{params:P}).toPromise()}guardarGrupo(A){let P=[];for(const c of A.cliente)P.push(c.clienteid);const a=this.cambiar(A.submittedOnDate),m={staffId:A.staffId,officeId:A.officeId,name:A.name,active:A.active,externalId:A.externalId,clientMembers:P,activationDate:a,submittedOnDate:a,dateFormat:"yyyy-MM-dd",locale:"en"};return this.http.post(`${this.ambiente.getUrlComplete()}/groups`,m).subscribe(c=>this.toastSrv.success(this.translate.instant("pop_up.alert.grupo.agregado_exitoso")),c=>this.toastSrv.error(this.translate.instant("pop_up.alert.grupo.error_agregando")))}AgregarClienteGrupo(A,P){let a=[];for(const c of A.cliente)a.push(c.clienteid);const m={clientMembers:a};return this.http.post(`${this.ambiente.getUrlComplete()}/groups/${P}?command=associateClients`,m).subscribe(c=>{this.toastSrv.success(this.translate.instant("pop_up.alert.grupo.cliente.agregado_exitoso")),this.getTodosGrupos(P)},c=>this.toastSrv.error(this.translate.instant("pop_up.alert.grupo.cliente.error_agregando")))}EliminarClienteGrupo(A,P){const a={clientMembers:[A]};return this.http.post(`${this.ambiente.getUrlComplete()}/groups/${P}?command=disassociateClients`,a).subscribe(m=>{this.toastSrv.success(this.translate.instant("pop_up.alert.grupo.cliente.retirado_exitoso")),this.getTodosGrupos(P)},m=>this.toastSrv.error(this.translate.instant("pop_up.alert.grupo.cliente.error_retirando")))}cambiar(A){let a=A.toString().split(",");return a[1]<10&&(a[1]="0"+a[1]),a[2]<10&&(a[2]="0"+a[2]),a=a.join(),a=a.replace(",","-"),a=a.replace(",","-"),a}getGrupoBySql(A){const P=(new t.LE).set("R_accountNo",A);return this.http.get(`${this.ambiente.getUrlComplete()}/runreports/ReporteSeleccionarGrupo`,{params:P})}}return U.\u0275fac=function(A){return new(A||U)(F.LFG(v.sK),F.LFG(e._W),F.LFG(t.eN),F.LFG(k.j))},U.\u0275prov=F.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},5902:(ae,z,p)=>{p.d(z,{k:()=>P});var u=p(5861),t=p(7579),i=p(5e3),F=p(7232),v=p(4682),e=p(8157),k=p(1759),J=p(1506),U=p(2593),$=p(4647),A=p(2290);let P=(()=>{class a{constructor(c,I,Z,j,R,X,D,ue,ce){this.translate=c,this.codesSvc=I,this.db=Z,this.visitaSvc=j,this.ppiSvc=R,this.clientsSVC=X,this.ppiSVC=D,this.funcionesSvc=ue,this.toastSrv=ce,this.selectleccion=[],this.selectnegocio=[],this.selectempleo=[],this.selecteducacion=[],this.selecttipovisita=[],this.selectclasificacion=[],this.selecttipocliente=[],this.groupfamilia=[],this.groupsalario=[],this.groupestudiando=[],this.groupestudio=[],this.grouppiso=[],this.groupparedes=[],this.grouphabitaciones=[],this.groupcombustible=[],this.groupsanitario=[],this.grouprefrigerador=[],this.groupmovil=[],this.groupvehiculo=[],this.groupvivienda=[],this.visitasobs="",this.visitasobs$=new t.x}cargarSelect(){var c=this;return(0,u.Z)(function*(){yield c.codesSvc.codesindividual("TipoVisita").then(I=>{I.forEach(Z=>{c.updateTablaLocal({nametable:"TipoVisita",name:Z.name,id:Z.id,position:Z.position},"codevalue")})}),yield c.visitaSvc.getVisitaTemplate().then(I=>{c.selecteducacion=I.columnHeaderData.find(Z=>"Educacion_cd_Educacion"==Z.columnName).columnValues,c.selectleccion=I.columnHeaderData.find(Z=>"Leccion_cd_Leccion"==Z.columnName).columnValues,c.selectnegocio=I.columnHeaderData.find(Z=>"NegocioPropio_cd_Negocio"==Z.columnName).columnValues,c.selectempleo=I.columnHeaderData.find(Z=>"Trabajo_cd_Empleo"==Z.columnName).columnValues,c.selecteducacion.forEach(Z=>{c.updateTablaLocal({nametable:"Educacion",name:Z.value,id:Z.id},"codevalue")}),c.selectleccion.forEach(Z=>{c.updateTablaLocal({nametable:"Leccion",name:Z.value,id:Z.id},"codevalue")}),c.selectnegocio.forEach(Z=>{c.updateTablaLocal({nametable:"NegocioPropio",name:Z.value,id:Z.id},"codevalue")}),c.selectempleo.forEach(Z=>{c.updateTablaLocal({nametable:"Trabajo",name:Z.value,id:Z.id},"codevalue")})}),yield c.ppiSvc.getTemplatePPI().then(I=>{c.groupfamilia=I.columnHeaderData.find(Z=>"PPI_MI-1_miembros_cd_Miembros de Familia"==Z.columnName).columnValues,c.groupsalario=I.columnHeaderData.find(Z=>"PPI_MI-2_salario_cd_Cuantos Reciben Salario"==Z.columnName).columnValues,c.groupestudiando=I.columnHeaderData.find(Z=>"PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando"==Z.columnName).columnValues,c.groupestudio=I.columnHeaderData.find(Z=>"PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto"==Z.columnName).columnValues,c.grouppiso=I.columnHeaderData.find(Z=>"PPI_MI-5_piso_cd_Material del Piso"==Z.columnName).columnValues,c.groupparedes=I.columnHeaderData.find(Z=>"PPI_MI-6_paredes_cd_Material de las Paredes"==Z.columnName).columnValues,c.grouphabitaciones=I.columnHeaderData.find(Z=>"PPI_MI-7_habitaciones_cd_Habitaciones en Casa"==Z.columnName).columnValues,c.groupcombustible=I.columnHeaderData.find(Z=>"PPI_MI-8_combustible_cd_Combustible Para Cocinar"==Z.columnName).columnValues,c.groupsanitario=I.columnHeaderData.find(Z=>"PPI_MI-9_sanitario_cd_Servicio Sanitario"==Z.columnName).columnValues,c.grouprefrigerador=I.columnHeaderData.find(Z=>"PPI_MI-10_refri_cd_Tiene Refrigerador"==Z.columnName).columnValues,c.groupmovil=I.columnHeaderData.find(Z=>"PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone"==Z.columnName).columnValues,c.groupvehiculo=I.columnHeaderData.find(Z=>"PPI_MI-12_vehiculo_cd_Tipo de Vehiculo"==Z.columnName).columnValues,c.groupvivienda=I.columnHeaderData.find(Z=>"PPI_MI-13_vivienda_cd_Vivienda"==Z.columnName).columnValues,c.groupfamilia.forEach(Z=>{c.updateTablaLocal({nametable:"groupfamilia",name:Z.value,id:Z.id},"codevalue")}),c.groupsalario.forEach(Z=>{c.updateTablaLocal({nametable:"groupsalario",name:Z.value,id:Z.id},"codevalue")}),c.groupestudiando.forEach(Z=>{c.updateTablaLocal({nametable:"groupestudiando",name:Z.value,id:Z.id},"codevalue")}),c.groupestudio.forEach(Z=>{c.updateTablaLocal({nametable:"groupestudio",name:Z.value,id:Z.id},"codevalue")}),c.grouppiso.forEach(Z=>{c.updateTablaLocal({nametable:"grouppiso",name:Z.value,id:Z.id},"codevalue")}),c.groupparedes.forEach(Z=>{c.updateTablaLocal({nametable:"groupparedes",name:Z.value,id:Z.id},"codevalue")}),c.grouphabitaciones.forEach(Z=>{c.updateTablaLocal({nametable:"grouphabitaciones",name:Z.value,id:Z.id},"codevalue")}),c.groupcombustible.forEach(Z=>{c.updateTablaLocal({nametable:"groupcombustible",name:Z.value,id:Z.id},"codevalue")}),c.groupsanitario.forEach(Z=>{c.updateTablaLocal({nametable:"groupsanitario",name:Z.value,id:Z.id},"codevalue")}),c.grouprefrigerador.forEach(Z=>{c.updateTablaLocal({nametable:"grouprefrigerador",name:Z.value,id:Z.id},"codevalue")}),c.groupmovil.forEach(Z=>{c.updateTablaLocal({nametable:"groupmovil",name:Z.value,id:Z.id},"codevalue")}),c.groupvehiculo.forEach(Z=>{c.updateTablaLocal({nametable:"groupvehiculo",name:Z.value,id:Z.id},"codevalue")}),c.groupvivienda.forEach(Z=>{c.updateTablaLocal({nametable:"groupvivienda",name:Z.value,id:Z.id},"codevalue")})})})()}cargarClientes(){var c=this;return(0,u.Z)(function*(){yield c.codesSvc.codesindividual("ClientType").then(function(){var I=(0,u.Z)(function*(Z){c.selecttipocliente=Z,Z.forEach(j=>{c.updateTablaLocal({nametable:"ClientType",name:j.name,id:j.id,position:j.position},"codevalue")})});return function(Z){return I.apply(this,arguments)}}()),yield c.codesSvc.codesindividual("ClientClassification").then(function(){var I=(0,u.Z)(function*(Z){c.selectclasificacion=Z,Z.forEach(j=>{c.updateTablaLocal({nametable:"ClientClassification",name:j.name,id:j.id,position:j.position},"codevalue")}),yield c.clientsSVC.getbloqueclienteClasificaciontodo(Z.find(j=>"1"==j.position).id).then(j=>{j.pageItems.forEach(R=>{c.db.table("referencia"),c.updateTablaLocal({id:R.id,displayName:R.displayName,mobileNo:R.mobileNo,officeId:R.officeId,staffId:R.staffId,staffName:R.staffName,clientClassification:R.clientClassification,active:R.active},"referencia")})}),yield c.clientsSVC.getbloqueclienteClasificaciontodo(Z.find(j=>"2"==j.position).id).then(j=>{j.pageItems.forEach(R=>{c.ppiSVC.getLastPPI(R.id).then(X=>{let D=c.funcionesSvc.arregloDobleAIndividual(X);c.updateTablaLocal({clientId:D[0].client_id,fechavisita:D[0].fechavisita,tipovisita:D[0].posicion,periodo:D[0].Periodo,MI_PPI_1:D[0]["PPI_MI-1_miembros_cd_Miembros de Familia"],MI_PPI_2:D[0]["PPI_MI-2_salario_cd_Cuantos Reciben Salario"],MI_PPI_3:D[0]["PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando"],MI_PPI_4:D[0]["PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto"],MI_PPI_5:D[0]["PPI_MI-5_piso_cd_Material del Piso"],MI_PPI_6:D[0]["PPI_MI-6_paredes_cd_Material de las Paredes"],MI_PPI_7:D[0]["PPI_MI-7_habitaciones_cd_Habitaciones en Casa"],MI_PPI_8:D[0]["PPI_MI-8_combustible_cd_Combustible Para Cocinar"],MI_PPI_9:D[0]["PPI_MI-9_sanitario_cd_Servicio Sanitario"],MI_PPI_10:D[0]["PPI_MI-10_refri_cd_Tiene Refrigerador"],MI_PPI_11:D[0]["PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone"],MI_PPI_12:D[0]["PPI_MI-12_vehiculo_cd_Tipo de Vehiculo"],MI_PPI_13:D[0]["PPI_MI-13_vivienda_cd_Vivienda"]},"ppi")}),c.updateTablaLocal({id:R.id,displayName:R.displayName,mobileNo:R.mobileNo,officeId:R.officeId,staffId:R.staffId,staffName:R.staffName,clientClassification:R.clientClassification,active:R.active},"preparacion")})}),yield c.clientsSVC.getbloqueclienteClasificaciontodo(Z.find(j=>"3"==j.position).id).then(j=>{j.pageItems.forEach(R=>{c.ppiSVC.getLastPPI(R.id).then(X=>{let D=c.funcionesSvc.arregloDobleAIndividual(X);D.length>0&&c.updateTablaLocal({clientId:D[0].client_id,fechavisita:D[0].fechavisita,tipovisita:D[0].posicion,periodo:D[0].Periodo,MI_PPI_1:D[0]["PPI_MI-1_miembros_cd_Miembros de Familia"],MI_PPI_2:D[0]["PPI_MI-2_salario_cd_Cuantos Reciben Salario"],MI_PPI_3:D[0]["PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando"],MI_PPI_4:D[0]["PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto"],MI_PPI_5:D[0]["PPI_MI-5_piso_cd_Material del Piso"],MI_PPI_6:D[0]["PPI_MI-6_paredes_cd_Material de las Paredes"],MI_PPI_7:D[0]["PPI_MI-7_habitaciones_cd_Habitaciones en Casa"],MI_PPI_8:D[0]["PPI_MI-8_combustible_cd_Combustible Para Cocinar"],MI_PPI_9:D[0]["PPI_MI-9_sanitario_cd_Servicio Sanitario"],MI_PPI_10:D[0]["PPI_MI-10_refri_cd_Tiene Refrigerador"],MI_PPI_11:D[0]["PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone"],MI_PPI_12:D[0]["PPI_MI-12_vehiculo_cd_Tipo de Vehiculo"],MI_PPI_13:D[0]["PPI_MI-13_vivienda_cd_Vivienda"]},"ppi")}),c.updateTablaLocal({id:R.id,displayName:R.displayName,mobileNo:R.mobileNo,officeId:R.officeId,staffId:R.staffId,staffName:R.staffName,clientClassification:R.clientClassification,active:R.active},"enfoque")})}),yield c.clientsSVC.getbloqueclienteClasificaciontodo(Z.find(j=>"4"==j.position).id).then(j=>{j.pageItems.forEach(R=>{c.ppiSVC.getLastPPI(R.id).then(X=>{let D=c.funcionesSvc.arregloDobleAIndividual(X);c.db.table("ppi").add({clientId:D[0].client_id,fechavisita:D[0].fechavisita,tipovisita:D[0].posicion,periodo:D[0].Periodo,MI_PPI_1:D[0]["PPI_MI-1_miembros_cd_Miembros de Familia"],MI_PPI_2:D[0]["PPI_MI-2_salario_cd_Cuantos Reciben Salario"],MI_PPI_3:D[0]["PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando"],MI_PPI_4:D[0]["PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto"],MI_PPI_5:D[0]["PPI_MI-5_piso_cd_Material del Piso"],MI_PPI_6:D[0]["PPI_MI-6_paredes_cd_Material de las Paredes"],MI_PPI_7:D[0]["PPI_MI-7_habitaciones_cd_Habitaciones en Casa"],MI_PPI_8:D[0]["PPI_MI-8_combustible_cd_Combustible Para Cocinar"],MI_PPI_9:D[0]["PPI_MI-9_sanitario_cd_Servicio Sanitario"],MI_PPI_10:D[0]["PPI_MI-10_refri_cd_Tiene Refrigerador"],MI_PPI_11:D[0]["PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone"],MI_PPI_12:D[0]["PPI_MI-12_vehiculo_cd_Tipo de Vehiculo"],MI_PPI_13:D[0]["PPI_MI-13_vivienda_cd_Vivienda"]}).catch(ue=>console.log("*"))}),c.db.table("exitoso").add({id:R.id,displayName:R.displayName,mobileNo:R.mobileNo,officeId:R.officeId,staffId:R.staffId,staffName:R.staffName,clientClassification:R.clientClassification,active:R.active}).catch(X=>console.log("*"))})})});return function(Z){return I.apply(this,arguments)}}()).then(I=>c.toastSrv.success(c.translate.instant("labels.offline.ready_to_work")))})()}sClasificacion(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("ClientClassification").toArray()})()}sClientType(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("ClientType").toArray()})()}sTipoVisita(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("TipoVisita").toArray()})()}sEducacion(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("Educacion").toArray()})()}sTrabajo(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("Trabajo").toArray()})()}sNegocioPropio(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("NegocioPropio").toArray()})()}sLeccion(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("Leccion").toArray()})()}ppifamilia(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupfamilia").toArray()})()}ppisalario(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupsalario").toArray()})()}ppiestudiando(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupestudiando").toArray()})()}ppiestudio(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupestudio").toArray()})()}ppipiso(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("grouppiso").toArray()})()}ppiparedes(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupparedes").toArray()})()}ppihabitaciones(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("grouphabitaciones").toArray()})()}ppicombustible(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupcombustible").toArray()})()}ppisanitario(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupsanitario").toArray()})()}ppirefrigerador(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("grouprefrigerador").toArray()})()}ppimovil(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupmovil").toArray()})()}ppivehiculo(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupvehiculo").toArray()})()}ppivivienda(){var c=this;return(0,u.Z)(function*(){return yield c.db.table("codevalue").where("nametable").equals("groupvivienda").toArray()})()}sEnfoque(c){var I=this;return(0,u.Z)(function*(){let Z=parseInt(c);return Z>0?yield I.db.table("enfoque").where("officeId").equals(Z).toArray():yield I.db.table("enfoque").toArray()})()}sReferencia(c){var I=this;return(0,u.Z)(function*(){let Z=parseInt(c);return Z>0?yield I.db.table("referencia").where("officeId").equals(Z).toArray():yield I.db.table("referencia").toArray()})()}sPreparacion(c){var I=this;return(0,u.Z)(function*(){let Z=parseInt(c);return Z>0?yield I.db.table("preparacion").where("officeId").equals(Z).toArray():yield I.db.table("preparacion").toArray()})()}sExitoso(c){var I=this;return(0,u.Z)(function*(){let Z=parseInt(c);return Z>0?yield I.db.table("exitoso").where("officeId").equals(Z).toArray():yield I.db.table("exitoso").toArray()})()}sPPI(c){var I=this;return(0,u.Z)(function*(){return yield I.db.table("ppi").where("clientId").equalsIgnoreCase(c).toArray()})()}getvisitasobs$(){return this.visitasobs$.asObservable()}getTodasVisitasObs(){var c=this;return(0,u.Z)(function*(){c.visitasobs=yield c.db.table("visitas").toArray(),c.visitasobs$.next(c.visitasobs)})()}updateTablaLocal(c,I){var Z=this;return(0,u.Z)(function*(){return yield Z.db.table(I).put(c)})()}deleteTablaLocal(c,I){var Z=this;return(0,u.Z)(function*(){return yield Z.db.table(I).delete(c)})()}updateEnfoque(c,I,Z){var j=this;return(0,u.Z)(function*(){return console.log(I),yield j.db.table(Z).update(c,{"clientClassification.name":I.name,"clientClassification.id":I.id})})()}verificaClasificacion(c){var I=this;return(0,u.Z)(function*(){return yield I.db.table("codevalue").where("id").equals(parseInt(c)).toArray().then(Z=>{switch(Z[0].position){case 1:default:return"referencia";case 2:return"preparacion";case 3:return"enfoque";case 4:return"exitoso"}})})()}moverClienteTabla(c,I,Z){var j=this;return(0,u.Z)(function*(){let R=yield j.verificaClasificacion(I),X=yield j.verificaClasificacion(Z);yield j.db.table(R).where("id").equals(c).toArray().then(D=>{D.length>0&&j.updateTablaLocal(D[0],X),j.deleteTablaLocal(c,R)})})()}}return a.\u0275fac=function(c){return new(c||a)(i.LFG(F.sK),i.LFG(v.a),i.LFG(e.M),i.LFG(k.N),i.LFG(J.V),i.LFG(U.a),i.LFG(J.V),i.LFG($.X),i.LFG(A._W))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},932:(ae,z,p)=>{p.d(z,{a:()=>v});var u=p(2340),t=p(5e3),i=p(520),F=p(9978);let v=(()=>{class e{constructor(J,U){this.http=J,this.ambiente=U}getAllOficinas(){return this.http.get(`${this.ambiente.getAmbiente()}${u.N.segundaparte}/offices`).toPromise()}getStaffOffice(J){return this.http.get(`${this.ambiente.getAmbiente()}${u.N.segundaparte}/staff?officeId=${J}`).toPromise()}}return e.\u0275fac=function(J){return new(J||e)(t.LFG(i.eN),t.LFG(F.j))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},1506:(ae,z,p)=>{p.d(z,{V:()=>J});var u=p(520),t=p(2340),i=p(5e3),F=p(7232),v=p(9978),e=p(2290),k=p(1759);let J=(()=>{class U{constructor(A,P,a,m,c){this.translate=A,this.http=P,this.ambiente=a,this.toastSrv=m,this.visitaSvc=c,this.ppiobs=[]}getPpiById(A){const P=(new u.LE).set("R_clientId",A);return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/runreports/MI_PPI`,{params:P}).toPromise()}getTemplatePPI(){return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/MI_PPI`).toPromise()}getLastPPI(A){const P=(new u.LE).set("R_clientId",A);return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/runreports/UltimoPPI`,{params:P}).toPromise()}getPpiByIdpaFiltrar(A){return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/MI_PPI/${A}`).toPromise()}getPpiQuestion(){return"https://milatam.mifos.io"===this.ambiente.getAmbiente()?this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/surveys/3`).toPromise():this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/surveys`).toPromise()}updatePPI(A){const P=A.clientid,a=A.ppiid,c={locale:"en",dateFormat:"yyyy-MM-dd",Fecha:this.cambiar(A.fechavisita),"PPI_MI-1_miembros_cd_Miembros de Familia":A["PPI_MI-1_miembros_cd_Miembros de Familia"],"PPI_MI-2_salario_cd_Cuantos Reciben Salario":A["PPI_MI-2_salario_cd_Cuantos Reciben Salario"],"PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando":A["PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando"],"PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto":A["PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto"],"PPI_MI-5_piso_cd_Material del Piso":A["PPI_MI-5_piso_cd_Material del Piso"],"PPI_MI-6_paredes_cd_Material de las Paredes":A["PPI_MI-6_paredes_cd_Material de las Paredes"],"PPI_MI-7_habitaciones_cd_Habitaciones en Casa":A["PPI_MI-7_habitaciones_cd_Habitaciones en Casa"],"PPI_MI-8_combustible_cd_Combustible Para Cocinar":A["PPI_MI-8_combustible_cd_Combustible Para Cocinar"],"PPI_MI-9_sanitario_cd_Servicio Sanitario":A["PPI_MI-9_sanitario_cd_Servicio Sanitario"],"PPI_MI-10_refri_cd_Tiene Refrigerador":A["PPI_MI-10_refri_cd_Tiene Refrigerador"],"PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone":A["PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone"],"PPI_MI-12_vehiculo_cd_Tipo de Vehiculo":A["PPI_MI-12_vehiculo_cd_Tipo de Vehiculo"],"PPI_MI-13_vivienda_cd_Vivienda":A["PPI_MI-13_vivienda_cd_Vivienda"]};return this.http.put(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/MI_PPI/${P}/${a}`,c).subscribe(I=>{this.visitaSvc.getTodasVisitasObs(P),this.toastSrv.success(this.translate.instant("pop_up.alert.ppi.updated_successfully"))},I=>{this.toastSrv.error(this.translate.instant("pop_up.alert.ppi.error_updating")+I)})}updateDatePPI(A,P,a){const c={locale:"en",dateFormat:"yyyy-MM-dd",Fecha:this.cambiar(a)};return this.http.put(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/MI_PPI/${P}/${A}`,c).subscribe(I=>{this.visitaSvc.getTodasVisitasObs(P),this.toastSrv.success(this.translate.instant("pop_up.alert.ppi.updated_successfully"))},I=>{this.toastSrv.error(this.translate.instant("pop_up.alert.ppi.error_updating")+I)})}getOnePPIbyId(A,P){const a=(new u.LE).set("R_clientId",A).set("R_asOn",P);return this.http.get(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/runreports/ReporteSeleccionarPPI`,{params:a}).toPromise()}addPPI(A,P){let a=this.cambiar(A.fechavisita);if(A.ppi){const m={locale:"en",dateFormat:"yyyy-MM-dd",Fecha:a,"PPI_MI-1_miembros_cd_Miembros de Familia":A.ppi[0].MI_PPI_1,"PPI_MI-2_salario_cd_Cuantos Reciben Salario":A.ppi[0].MI_PPI_2,"PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando":A.ppi[0].MI_PPI_3,"PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto":A.ppi[0].MI_PPI_4,"PPI_MI-5_piso_cd_Material del Piso":A.ppi[0].MI_PPI_5,"PPI_MI-6_paredes_cd_Material de las Paredes":A.ppi[0].MI_PPI_6,"PPI_MI-7_habitaciones_cd_Habitaciones en Casa":A.ppi[0].MI_PPI_7,"PPI_MI-8_combustible_cd_Combustible Para Cocinar":A.ppi[0].MI_PPI_8,"PPI_MI-9_sanitario_cd_Servicio Sanitario":A.ppi[0].MI_PPI_9,"PPI_MI-10_refri_cd_Tiene Refrigerador":A.ppi[0].MI_PPI_10,"PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone":A.ppi[0].MI_PPI_11,"PPI_MI-12_vehiculo_cd_Tipo de Vehiculo":A.ppi[0].MI_PPI_12,"PPI_MI-13_vivienda_cd_Vivienda":A.ppi[0].MI_PPI_13};return this.http.post(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/MI_PPI/${P}`,m)}{const m={locale:"en",dateFormat:"yyyy-MM-dd",Fecha:a,"PPI_MI-1_miembros_cd_Miembros de Familia":A["PPI_MI-1_miembros_cd_Miembros de Familia"],"PPI_MI-2_salario_cd_Cuantos Reciben Salario":A["PPI_MI-2_salario_cd_Cuantos Reciben Salario"],"PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando":A["PPI_MI-3_estudiando_cd_Hijos de 6 a 17 Estudiando"],"PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto":A["PPI_MI-4_estudio_cd_Nivel de Estudio Mas Alto"],"PPI_MI-5_piso_cd_Material del Piso":A["PPI_MI-5_piso_cd_Material del Piso"],"PPI_MI-6_paredes_cd_Material de las Paredes":A["PPI_MI-6_paredes_cd_Material de las Paredes"],"PPI_MI-7_habitaciones_cd_Habitaciones en Casa":A["PPI_MI-7_habitaciones_cd_Habitaciones en Casa"],"PPI_MI-8_combustible_cd_Combustible Para Cocinar":A["PPI_MI-8_combustible_cd_Combustible Para Cocinar"],"PPI_MI-9_sanitario_cd_Servicio Sanitario":A["PPI_MI-9_sanitario_cd_Servicio Sanitario"],"PPI_MI-10_refri_cd_Tiene Refrigerador":A["PPI_MI-10_refri_cd_Tiene Refrigerador"],"PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone":A["PPI_MI-11_pc_movil_cd_Tiene PC o Smartphone"],"PPI_MI-12_vehiculo_cd_Tipo de Vehiculo":A["PPI_MI-12_vehiculo_cd_Tipo de Vehiculo"],"PPI_MI-13_vivienda_cd_Vivienda":A["PPI_MI-13_vivienda_cd_Vivienda"]};return this.http.post(`${this.ambiente.getAmbiente()}${t.N.segundaparte}/datatables/MI_PPI/${P}`,m)}}cambiar(A){let a=A.toString().split(",");return a[1]<10&&(a[1]="0"+a[1]),a[2]<10&&(a[2]="0"+a[2]),a=a.join(),a=a.replace(",","-"),a=a.replace(",","-"),a}}return U.\u0275fac=function(A){return new(A||U)(i.LFG(F.sK),i.LFG(u.eN),i.LFG(v.j),i.LFG(e._W),i.LFG(k.N))},U.\u0275prov=i.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},8045:(ae,z,p)=>{p.d(z,{O:()=>J});var u=p(5861),t=p(520),i=p(2340),F=p(7579),v=p(5e3),e=p(9978),k=p(2290);let J=(()=>{class U{constructor(A,P,a){this.ambiente=A,this.toastSrv=P,this.http=a,this.transferirobs="",this.transferirobs$=new F.x}gettransferirobs$(){return this.transferirobs$.asObservable()}getTodastransferirobs(A){var P=this;return(0,u.Z)(function*(){P.transferirobs=yield P.getTransfer(A),P.transferirobs$.next(P.transferirobs)})()}getTransfer(A){const P=(new t.LE).set("R_officeId",A);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/ReporteClientTransferPendientes`,{params:P}).toPromise()}transferircliente(A){const P=A.idcliente,a=A.oficina,m={destinationOfficeId:a,note:A.nota};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${P}?command=proposeTransfer`,m).subscribe(c=>{this.getTodastransferirobs(a),this.toastSrv.success(this.translate.instant("pop_up.alert.transfer_client.transfered"))},c=>this.toastSrv.error(this.translate.instant("pop_up.alert.transfer_client.error_transfering")))}aceptarTransferencia(A,P,a,m){const c={staffId:P,note:a};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${A}?command=acceptTransfer`,c).subscribe(I=>{this.getTodastransferirobs(m),this.toastSrv.success(this.translate.instant("pop_up.alert.transfer_client.transfered"))},I=>this.toastSrv.error(this.translate.instant("pop_up.alert.transfer_client.error_transfering")))}rechazarTransferencia(A,P,a){const m={note:P};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/clients/${A}?command=rejectTransfer`,m).subscribe(c=>{this.getTodastransferirobs(a),this.toastSrv.success(this.translate.instant("pop_up.alert.transfer_client.rejected_successfully"))},c=>this.toastSrv.error(this.translate.instant("pop_up.alert.transfer_client.error_rejecting")))}}return U.\u0275fac=function(A){return new(A||U)(v.LFG(e.j),v.LFG(k._W),v.LFG(t.eN))},U.\u0275prov=v.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},1759:(ae,z,p)=>{p.d(z,{N:()=>$});var u=p(5861),t=p(520),i=p(2340),F=p(7579),v=p(5e3),e=p(7232),k=p(9978),J=p(2290),U=p(4682);let $=(()=>{class A{constructor(a,m,c,I,Z){this.translate=a,this.http=m,this.ambiente=c,this.toastSrv=I,this.codesSvc=Z,this.visitasobs="",this.visitasobs$=new F.x}getvisitasobs$(){return this.visitasobs$.asObservable()}getTodasVisitasObs(a){var m=this;return(0,u.Z)(function*(){m.visitasobs=yield m.getAllVisitbyId(a),m.visitasobs$.next(m.visitasobs)})()}addVisit(a,m){let c=this.cambiar(a.fechavisita),I=this.cambiar(a.proximavisita),Z=a.comentarios.replace(/(\r\n|\n|\r)/gm,"");const j={locale:"en",dateFormat:"yyyy-MM-dd","Fecha de Visita":c,Ingreso:a.ingresos,Ahorro:a.ahorros,Deuda:a.deudas,Empleados:a.Empleados,Comentario:Z,Leccion_cd_Leccion:a.leccion,NegocioPropio_cd_Negocio:a.negocio,Trabajo_cd_Empleo:a.empleo,Educacion_cd_Educacion:a.educacion,"TipoVisita_cd_Tipo de Visita":a.tipovisita,"Proxima Visita":I,Periodo:a.Periodo};return this.http.post(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Reporte de Progreso/${m}`,j)}updateVisit(a,m,c){let I=this.cambiar(a["Proxima Visita"]),Z=this.cambiar(a["Fecha de Visita"]),j=a.Comentario.replace(/(\r\n|\n|\r)/gm," ");const R={locale:"en",dateFormat:"yyyy-MM-dd","Fecha de Visita":Z,Ingreso:a.Ingreso,Ahorro:a.Ahorro,Deuda:a.Deuda,Empleados:a.Empleados,Comentario:j,Leccion_cd_Leccion:a.Leccion_cd_Leccion,NegocioPropio_cd_Negocio:a.NegocioPropio_cd_Negocio,Trabajo_cd_Empleo:a.Trabajo_cd_Empleo,Educacion_cd_Educacion:a.Educacion_cd_Educacion,"TipoVisita_cd_Tipo de Visita":a["TipoVisita_cd_Tipo de Visita"],"Proxima Visita":I};return this.http.put(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Reporte de Progreso/${m}/${c}`,R)}cambiar(a){let c=a.toString().split(",");return c[1]<10&&(c[1]="0"+c[1]),c[2]<10&&(c[2]="0"+c[2]),c=c.join(),c=c.replace(",","-"),c=c.replace(",","-"),c}getVisitaById(a){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Reporte de Progreso/${a}`).toPromise().then(m=>m)}getVisitaTemplate(){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Reporte de Progreso`).toPromise()}getAllVisitbyId(a){const m=(new t.LE).set("R_clientId",a);return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/runreports/Reporte de Visitas`,{params:m}).toPromise()}getVisitaByVisit(a,m){return this.http.get(`${this.ambiente.getAmbiente()}${i.N.segundaparte}/datatables/Reporte de Progreso/${a}/${m}`).toPromise()}}return A.\u0275fac=function(a){return new(a||A)(v.LFG(e.sK),v.LFG(t.eN),v.LFG(k.j),v.LFG(J._W),v.LFG(U.a))},A.\u0275prov=v.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},7285:(ae,z,p)=>{p.d(z,{H:()=>d});var u=p(5861),t=p(9808),i=p(3075),F=p(8372),v=p(4968),e=p(5e3),k=p(7232),J=p(2593),U=p(433),$=p(5041),A=p(4647),P=p(4682);let a=(()=>{class l{constructor(r){this.codesSvc=r}ngOnInit(){}getValor(){return this.valor}setValor(r){this.valor=r}}return l.\u0275fac=function(r){return new(r||l)(e.LFG(P.a))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var m=p(5902),c=p(9685),I=p(575),Z=p(8489);function j(l,h){if(1&l&&(e.TgZ(0,"option",36),e.ALo(1,"json"),e._uU(2),e.qZA()),2&l){const r=h.$implicit;e.s9C("value",e.lcZ(1,2,r)),e.xp6(2),e.Oqu(r.name)}}function R(l,h){if(1&l){const r=e.EpF();e.TgZ(0,"a",37),e.NdJ("click",function(){const C=e.CHM(r).$implicit;return e.oxw().onChangeBig(C)}),e.TgZ(1,"span",29),e._uU(2),e.qZA()()}if(2&l){const r=h.$implicit,_=e.oxw();e.xp6(1),e.Q6J("ngClass",(null==_.filtroactual?null:_.filtroactual.name)===r.name?"tab-activo":"tab-inactivo "),e.xp6(1),e.Oqu(r.name)}}function X(l,h){1&l&&(e.TgZ(0,"div")(1,"p",38),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"labels.not_contains_clients_in_category")))}function D(l,h){if(1&l){const r=e.EpF();e.TgZ(0,"div",47),e.NdJ("click",function(){e.CHM(r);const b=e.oxw().$implicit;return e.oxw(3).agregarVisita(b)}),e.O4$(),e.TgZ(1,"svg",48),e._UZ(2,"path",49),e.qZA()()}}function ue(l,h){if(1&l&&(e.TgZ(0,"div",43),e.YNc(1,D,3,0,"div",44),e.TgZ(2,"div")(3,"p",45),e._uU(4),e.qZA(),e.TgZ(5,"p",46),e._uU(6),e.qZA()()()),2&l){const r=h.$implicit,_=e.oxw(3);e.xp6(1),e.Q6J("ngIf",_.mentorProfesional),e.xp6(3),e.Oqu(null==r?null:r.displayName),e.xp6(2),e.Oqu(null==r?null:r.mobileNo)}}function ce(l,h){if(1&l&&(e.ynx(0),e.YNc(1,ue,7,3,"div",42),e.BQk()),2&l){const r=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",r.linesToWrite)}}function ne(l,h){if(1&l&&e._UZ(0,"app-client-tarjeta",51),2&l){const _=h.index;e.Q6J("foo",h.$implicit)("indice",_+1)("modo",1)("opcion","todo")}}function re(l,h){if(1&l&&e.YNc(0,ne,1,4,"app-client-tarjeta",50),2&l){const r=e.oxw(2);e.Q6J("ngForOf",r.linesToWrite)}}function de(l,h){if(1&l){const r=e.EpF();e.TgZ(0,"div",39),e.NdJ("scrolled",function(){return e.CHM(r),e.oxw().onScroll()}),e.YNc(1,ce,2,1,"ng-container",40),e.YNc(2,re,1,1,"ng-template",null,41,e.W1O),e.qZA()}if(2&l){const r=e.MAs(3),_=e.oxw();e.xp6(1),e.Q6J("ngIf","offline"===_.netStatus)("ngIfElse",r)}}function me(l,h){if(1&l){const r=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){return e.CHM(r),e.oxw().onScrollTop()}),e.O4$(),e.TgZ(1,"svg",53),e._UZ(2,"rect",54)(3,"path",55),e.qZA()()}}function q(l,h){if(1&l){const r=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){return e.CHM(r),e.oxw().toggleModal()}),e.qZA()}}function H(l,h){if(1&l){const r=e.EpF();e.TgZ(0,"div",57)(1,"div",58)(2,"div",59)(3,"div",60)(4,"div",61)(5,"div",62)(6,"app-agregar-visita",63),e.NdJ("cierrame",function(){return e.CHM(r),e.oxw().toggleModal()}),e.qZA()()()()()()()}if(2&l){const r=e.oxw();e.xp6(6),e.Q6J("foo",r.foo)}}let d=(()=>{class l{constructor(r,_,b,C,Q,Y,B,ee,K){this.translate=r,this.clientsSVC=_,this.activatedroute=b,this.document=C,this.fb=Q,this.AppComponentInst=Y,this.funciones=B,this.filtroSvc=ee,this.loadSVC=K,this.IdOficina=0,this.loading=!1,this.users=[],this.idoficinastaff=0,this.statusfiltrado=!1,this.mentorProfesional=!1,this.MentorSolucion=!1,this.showModalAgregarVisita=!1,this.jefe=!1,this.linesToWrite=[],this.LangSelected="",this.clasificacionCliente=[],this.cargar=0,this.cargados=0,this.totalfiltrados=0;let ie=localStorage.getItem("user");ie&&(this.usuario=JSON.parse(ie)),this.mostrarmenuordenar=!1,this.textodesupaleft=1,this.verBarra=!0,this.verBarraDerecha=!0,this.cargar=0,this.cargados=200,this.showButton=!1,this.scrollHeight=500,this.total=0,this.parar=!1,this.formulario=this.fb.group({palabra:new i.NI("",[i.kI.required])})}cargarEnfoqueDato(){var r=this;return(0,u.Z)(function*(){var _;r.clasificacionCliente=yield r.loadSVC.sClasificacion();let b=yield r.loadSVC.sClasificacion().then(C=>C.find(Q=>3==Q.position));r.filtroSvc.setValor(b),r.filtroactual=r.filtroSvc.getValor(),r.statusfiltrado=r.filtroactual.name,r.clientClasificacion=r.filtroactual.id,r.loading=!0,r.linesToWrite=new Array,null===(_=r.activatedroute.parent)||void 0===_||_.params.subscribe(C=>{var Q;r.idstaff=C.staffId,null===(Q=r.activatedroute.parent)||void 0===Q||Q.queryParams.subscribe(Y=>{r.idoficinastaff=Y.officeid}),r.getClientes()})})()}ngOnInit(){this.usuario.roles.find(r=>{"Super user"==r.name&&(this.MentorSolucion=!0,this.mentorProfesional=!0,this.jefe=!0),"CountryManager"==r.name&&(this.MentorSolucion=!0,this.mentorProfesional=!0,this.jefe=!0),"MentorCatalyst"==r.name&&(this.MentorSolucion=!0),"MentorProfesional"==r.name&&(this.mentorProfesional=!0)}),this.cargarEnfoqueDato(),(0,v.R)(window,"offline").pipe((0,F.b)(100)).subscribe(r=>{this.netStatus=r.type}),(0,v.R)(window,"online").pipe((0,F.b)(100)).subscribe(r=>{this.netStatus=r.type})}getClientes(){var r=this;return(0,u.Z)(function*(){let _;if(r.statusfiltrado){let b=r.clasificacionCliente.find(C=>C.id==r.clientClasificacion).position;console.log("pos",b),4==b?(_=yield r.loadSVC.sExitoso(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)):3==b?(_=yield r.loadSVC.sEnfoque(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)):2==b?(_=yield r.loadSVC.sPreparacion(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)):1==b?(_=yield r.loadSVC.sReferencia(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)):"offline"==r.netStatus?(_=yield r.loadSVC.sEnfoque(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)):r.clientsSVC.getbloqueclienteClasificacion(r.cargar,r.clientClasificacion,r.idoficinastaff).then(C=>{r.totalfiltrados=C.totalFilteredRecords,r.users=C.pageItems,r.arrFinal=C.pageItems,r.add40lines(20)}).catch(function(){var C=(0,u.Z)(function*(Q){alert("no conexi\xf3n a mifos"),_=yield r.loadSVC.sEnfoque(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)});return function(Q){return C.apply(this,arguments)}}())}else console.log("sin estatus filtrado"),r.clientsSVC.getbloqueclienteClasificacion(r.cargar,r.clientClasificacion,r.idoficinastaff).then(b=>{r.totalfiltrados=b.totalFilteredRecords,r.users=b.pageItems,r.arrFinal=b.pageItems,r.add40lines(20)}).catch(function(){var b=(0,u.Z)(function*(C){_=yield r.loadSVC.sEnfoque(r.idoficinastaff),r.totalfiltrados=_.length,r.users=_,r.arrFinal=_,r.add40lines(20)});return function(C){return b.apply(this,arguments)}}())})()}filtrarcodigos(r){return this.codigos.filter(_=>_.name===r)}add40lines(r){var _,b;const C=(null===(_=this.arrFinal)||void 0===_?void 0:_.length)?(null===(b=this.arrFinal)||void 0===b?void 0:b.length)-this.total:1;C<10&&(r=C);let Q=this.linesToWrite.length;if(this.arrFinal.length>0)for(let Y=this.total;Y<this.total+r;Y++)this.arrFinal.indexOf(this.arrFinal[Y])+1==this.arrFinal.length&&(this.parar=!0),this.linesToWrite.push(this.arrFinal[Y]),Q++;this.total=Q,this.total+100==this.users.length&&(this.cargar++,this.cargados+=200,this.clientsSVC.getbloqueclienteClasificacion(this.cargar,this.clientClasificacion,this.idoficinastaff).then(Y=>{this.users=this.users.concat(Y.pageItems),this.arrFinal=this.arrFinal.concat(Y.pageItems)}))}cambiarestado(){this.mostrarmenuordenar=!this.mostrarmenuordenar}onIdRecibido(r){this.textodesupaleft=r}onVerBarraRecibido(r){this.verBarra=r}onScrollTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}onScroll(){0==this.parar&&this.add40lines(10)}onWindowScroll(){const r=window.pageYOffset;this.showButton=(r||this.document.documentElement.scrollTop)>this.scrollHeight}onChange(r){const _=JSON.parse(r.target.value);this.onChangeBig(_)}onChangeBig(r){console.log(r),this.cargar=0,this.users=[],this.arrFinal=[],this.linesToWrite.length=0,"ALL"==r.name?(this.arrFinal=this.users,this.filtroactual.name=r.name,this.clientClasificacion="",this.getClientes()):(this.filtroSvc.setValor(r),console.log(this.filtroSvc.getValor()),this.statusfiltrado=r.name,this.clientClasificacion=r.id,this.getClientes(),this.filtroactual.name=r.name),this.loading=!1,this.total=0,this.parar=!1}onSubmit(){""==this.formulario.value.palabra.trim()?(this.linesToWrite.length=0,this.total=0,this.parar=!1,this.arrFinal=this.users,this.add40lines(20)):this.clientsSVC.getbloqueclienteClasificacion(this.cargar,this.clientClasificacion,this.idoficinastaff,this.formulario.value.palabra).then(r=>{this.sqlcliente=r,this.linesToWrite.length=0,this.total=0,this.parar=!1,this.totalfiltrados=r.totalFilteredRecords,this.users=r.pageItems,this.arrFinal=r.pageItems,this.add40lines(10)})}agregarVisita(r){this.foo=r,this.showModalAgregarVisita=!0}toggleModal(){this.showModalAgregarVisita=!1}}return l.\u0275fac=function(r){return new(r||l)(e.Y36(k.sK),e.Y36(J.a),e.Y36(U.gz),e.Y36(t.K0),e.Y36(i.qu),e.Y36($.y),e.Y36(A.X),e.Y36(a),e.Y36(m.k))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-client"]],hostBindings:function(r,_){1&r&&e.NdJ("scroll",function(){return _.onWindowScroll()},!1,e.Jf7)},inputs:{IdOficina:"IdOficina"},decls:54,vars:37,consts:[[1,"flex","flex-col","md:flex-row","justify-center","items-center","gap-x-2"],[1,"dark:text-white","text-teal-900"],[1,"dark:text-white"],[1,"text-sm","text-gray-500","group-hover:text-gray-900","dark:text-white"],[1,"flex","justify-center"],[1,"mt-2","flex","items-center",3,"formGroup","ngSubmit"],[1,"relative","pull-right","pl-4","pr-4","md:pr-0"],["type","search","placeholder","Search","formControlName","palabra","name","search","id","search",1,"w-full","inputsearch","text-sm","text-gray-400","transition","border","bg-gray-200","dark:bg-gray-600","dark:border-gray-800","focus:outline-none","focus:border-gray-600","rounded","py-1","px-2","pl-10","appearance-none","leading-normal"],[1,"absolute","search-icon",2,"top","0.375rem","left","1.75rem"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","pointer-events-none","text-gray-500","w-4","h-4"],["d","M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"],[1,"flex"],["for","search",1,"sr-only"],["type","submit",1,"inline-flex","px-3.5","py-2","text-sm","font-medium","rounded-md","text-gray-700","bg-white","dark:bg-gray-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-pink-500",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-4","w-4","text-gray-400","hover:text-gray-800","dark:hover:text-gray-100"],["fill-rule","evenodd","d","M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule","evenodd"],[1,"sr-only"],[1,"flex-grow","max-w-6xl","mx-auto","xl:flex"],[1,"lg:min-w-0","lg:flex-1","p-2","dark:text-white"],[1,"rounded-lg","max-w-3xl","p-2","dark:text-white"],[1,"flex","items-center"],[1,"sm:hidden","w-full","dark:text-blue-900","p-3"],["for","tabs",1,"sr-only"],["id","tabs","name","tabs",1,"block","w-full","focus:ring-indigo-500","focus:border-indigo-500","border-gray-300","rounded-md","dark:text-white","dark:bg-Slate-900",3,"change"],["value","ALL"],[3,"value",4,"ngFor","ngForOf"],[1,"hidden","sm:block","w-full"],["aria-label","Tabs",1,"flex","justify-between"],["aria-current","page",1,"cursor-pointer",3,"click"],[1,"dark:text-white",3,"ngClass"],["value","item.position","class"," cursor-pointer",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3","infiniteScroll","",3,"scrolled",4,"ngIf"],["class","boton ",3,"click",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black cursor-pointer",3,"click",4,"ngIf"],["class","fixed inset-0 overflow-hidden z-50 ","aria-labelledby","slide-over-title","role","dialog","aria-modal","true",4,"ngIf"],[3,"value"],["value","item.position",1,"cursor-pointer",3,"click"],[1,"text-center"],["infiniteScroll","",1,"grid","grid-cols-1","gap-6","sm:grid-cols-2","lg:grid-cols-3",3,"scrolled"],[4,"ngIf","ngIfElse"],["enlinea",""],["class","flex items-center p-4 bg-white border-2 border-gray-200 rounded-lg shadow-sm dark:bg-gray-800",4,"ngFor","ngForOf"],[1,"flex","items-center","p-4","bg-white","border-2","border-gray-200","rounded-lg","shadow-sm","dark:bg-gray-800"],["class","p-3 mr-4 bg-blue-500 text-white rounded-full",3,"click",4,"ngIf"],[1,"mb-2","text-sm","font-medium","text-gray-900"],[1,"text-sm","font-normal","text-gray-800"],[1,"p-3","mr-4","bg-blue-500","text-white","rounded-full",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"],[3,"foo","indice","modo","opcion",4,"ngFor","ngForOf"],[3,"foo","indice","modo","opcion"],[1,"boton",3,"click"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 20 20","height","36px","viewBox","0 0 20 20","width","36px","fill","currentcolor"],["fill","none","height","20","width","20"],["d","M10,2c-4.42,0-8,3.58-8,8s3.58,8,8,8s8-3.58,8-8S14.42,2,10,2z M10,12.6L6.63,9.23l1.06-1.06L10,10.48l2.31-2.31l1.06,1.06 L10,12.6z"],[1,"opacity-25","fixed","inset-0","z-40","bg-black","cursor-pointer",3,"click"],["aria-labelledby","slide-over-title","role","dialog","aria-modal","true",1,"fixed","inset-0","overflow-hidden","z-50"],[1,"absolute","inset-0","overflow-hidden"],["aria-hidden","true",1,"absolute","inset-0"],[1,"fixed","inset-y-0","right-0","pl-10","max-w-full","flex","sm:pl-16"],[1,"w-screen","max-w-md"],[1,"h-full","flex","flex-col","bg-white","dark:bg-BlueGray-800","dark:text-white","shadow-xl","overflow-y-scroll","p-3"],[3,"foo","cierrame"]],template:function(r,_){1&r&&(e.TgZ(0,"div",0)(1,"h4",1),e._uU(2),e.qZA(),e.TgZ(3,"h4",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"h4",3),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",4)(10,"form",5),e.NdJ("ngSubmit",function(){return _.onSubmit()}),e.TgZ(11,"div",6),e._UZ(12,"input",7),e.TgZ(13,"div",8),e.O4$(),e.TgZ(14,"svg",9),e._UZ(15,"path",10),e.qZA()()(),e.kcU(),e.TgZ(16,"div",11)(17,"label",12),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"label",12),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",13),e.O4$(),e.TgZ(24,"svg",14),e._UZ(25,"path",15),e.qZA(),e.kcU(),e.TgZ(26,"span",16),e._uU(27),e.ALo(28,"translate"),e.qZA()()()(),e.TgZ(29,"div",17)(30,"div",18)(31,"div",19)(32,"div",20)(33,"div",21)(34,"label",22),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"select",23),e.NdJ("change",function(C){return _.onChange(C)}),e.TgZ(38,"option",24),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.YNc(41,j,3,4,"option",25),e.qZA()(),e.TgZ(42,"div",26)(43,"nav",27)(44,"a",28),e.NdJ("click",function(){return _.onChangeBig("ALL")}),e.TgZ(45,"span",29),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.YNc(48,R,3,2,"a",30),e.qZA()()()(),e.YNc(49,X,4,3,"div",31),e.YNc(50,de,4,2,"div",32),e.YNc(51,me,4,0,"button",33),e.qZA()(),e.YNc(52,q,1,0,"div",34),e.YNc(53,H,7,1,"div",35)),2&r&&(e.xp6(2),e.Oqu(null==_.filtroactual?null:_.filtroactual.name),e.xp6(2),e.AsE(" ",e.lcZ(5,21,"labels.total_clients"),": ",_.totalfiltrados,""),e.xp6(3),e.AsE(" ",e.lcZ(8,23,"labels.mostrando"),": ",null!=_.arrFinal&&_.arrFinal.length?null==_.arrFinal?null:_.arrFinal.length:"0"," "),e.xp6(3),e.Q6J("formGroup",_.formulario),e.xp6(8),e.Oqu(e.lcZ(19,25,"labels.search_by_name")),e.xp6(3),e.Oqu(e.lcZ(22,27,"labels.search")),e.xp6(2),e.Q6J("disabled",!_.formulario.valid),e.xp6(4),e.Oqu(e.lcZ(28,29,"labels.search")),e.xp6(8),e.Oqu(e.lcZ(36,31,"labels.selected_tab")),e.xp6(4),e.Oqu(e.lcZ(40,33,"labels.filterstate.ALL")),e.xp6(2),e.Q6J("ngForOf",_.clasificacionCliente),e.xp6(4),e.Q6J("ngClass","ALL"==(null==_.filtroactual?null:_.filtroactual.name)?"tab-activo":"tab-inactivo "),e.xp6(1),e.Oqu(e.lcZ(47,35,"labels.filterstate.ALL")),e.xp6(2),e.Q6J("ngForOf",_.clasificacionCliente),e.xp6(1),e.Q6J("ngIf",0==(null==_.arrFinal?null:_.arrFinal.length)),e.xp6(1),e.Q6J("ngIf",_.linesToWrite.length>0),e.xp6(1),e.Q6J("ngIf",_.showButton),e.xp6(1),e.Q6J("ngIf",_.showModalAgregarVisita),e.xp6(1),e.Q6J("ngIf",_.showModalAgregarVisita))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.YN,i.Kr,t.sg,t.mk,t.O5,c.Ry,I.s,Z.R],pipes:[k.X$,t.Ts],styles:[".gris[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity))}.blanco[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.navegador[_ngcontent-%COMP%]{position:fixed;top:0;cursor:pointer;width:100%}.boton[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:30px;z-index:3;background-color:tomato;color:#fff;cursor:pointer;font-size:1.5rem;width:50px;height:50px;display:flex;justify-content:center;align-items:center;border-color:tomato;border-radius:30%;transform:rotate(180deg);transition:all .4s ease-in-out}.boton[_ngcontent-%COMP%]:hover{background-color:#8c43e6;font-size:2rem}"]}),l})()},8489:(ae,z,p)=>{p.d(z,{R:()=>T});var u=p(5861),t=p(5e3),i=p(3075),F=p(7232),v=p(4682),e=p(433),k=p(1759),J=p(2593),U=p(1506),$=p(4647),A=p(8157),P=p(5902),a=p(2290),m=p(9808);function c(x,f){if(1&x){const n=t.EpF();t.TgZ(0,"div",28)(1,"label",29)(2,"div",30)(3,"input",31),t.NdJ("click",function(){const S=t.CHM(n).$implicit;return t.oxw(2).quevisita(null==S?null:S.position)}),t.qZA(),t.TgZ(4,"span",32),t._uU(5),t.qZA()(),t.TgZ(6,"p",33),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}if(2&x){const n=f.$implicit;t.xp6(3),t.s9C("value",null==n?null:n.id),t.xp6(2),t.Oqu(null==n?null:n.name),t.xp6(2),t.hij(" ",t.lcZ(8,3,null==n?null:n.description),"")}}function I(x,f){1&x&&(t.TgZ(0,"p",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.select_visit_type"),""))}function Z(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function j(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_a_valid_option"),""))}function R(x,f){if(1&x&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&x){const n=t.oxw(2);t.xp6(1),t.hij(" ",n.formulario.value.fechavisita,"")}}function X(x,f){1&x&&t._UZ(0,"input",37)}function D(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.select_a_valid_date"),""))}function ue(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.select_a_valid_date"),""))}function ce(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_your_incomes"),""))}function ne(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.savings"),""))}function re(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_your_debts"),""))}function de(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1," Las Empleados no pueden ser menores a cero"),t.qZA())}function me(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function q(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_a_valid_option"),""))}function H(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function d(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_a_valid_option"),""))}function l(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.hij(" ",null==n?null:n.name," ")}}function h(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_a_valid_option"),""))}function r(x,f){if(1&x&&(t.TgZ(0,"div")(1,"div")(2,"label",14),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",18),t._UZ(6,"input",38),t.YNc(7,ce,3,3,"p",21),t.qZA()(),t.TgZ(8,"div")(9,"label",14),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",18),t._UZ(13,"input",39),t.YNc(14,ne,3,3,"p",21),t.qZA()(),t.TgZ(15,"div")(16,"label",14),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"div",18),t._UZ(20,"input",40),t.YNc(21,re,3,3,"p",21),t.qZA()(),t.TgZ(22,"div")(23,"label",14),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",18),t._UZ(27,"input",41),t.qZA(),t.YNc(28,de,2,0,"p",21),t.qZA(),t.TgZ(29,"div")(30,"label",14),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",18)(34,"select",42),t.YNc(35,me,2,2,"option",20),t.qZA(),t.YNc(36,q,3,3,"p",21),t.qZA()(),t.TgZ(37,"div")(38,"label",14),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"div",18)(42,"select",43),t.YNc(43,H,2,2,"option",20),t.qZA(),t.YNc(44,d,3,3,"p",21),t.qZA()(),t.TgZ(45,"div")(46,"label",14),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div",18)(50,"select",44),t.YNc(51,l,2,2,"option",20),t.qZA(),t.YNc(52,h,3,3,"p",21),t.qZA()()()),2&x){const n=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,17,"labels.incomes")," "),t.xp6(4),t.Q6J("ngIf",n.formulario.controls.ingresos.errors&&n.formulario.controls.ingresos.touched),t.xp6(3),t.hij(" ",t.lcZ(11,19,"labels.savings")," "),t.xp6(4),t.Q6J("ngIf",n.formulario.controls.ahorros.errors&&n.formulario.controls.ahorros.touched),t.xp6(3),t.hij(" ",t.lcZ(18,21,"catalyst.debts")," "),t.xp6(4),t.Q6J("ngIf",n.formulario.controls.deudas.errors&&n.formulario.controls.deudas.touched),t.xp6(3),t.hij(" ",t.lcZ(25,23,"labels.count_employees")," "),t.xp6(4),t.Q6J("ngIf",n.formulario.controls.Empleados.errors&&n.formulario.controls.Empleados.touched),t.xp6(3),t.hij(" ",t.lcZ(32,25,"labels.job")," "),t.xp6(4),t.Q6J("ngForOf",n.selectempleo),t.xp6(1),t.Q6J("ngIf",n.formulario.controls.empleo.errors&&n.formulario.controls.empleo.touched),t.xp6(3),t.hij(" ",t.lcZ(40,27,"labels.business")," "),t.xp6(4),t.Q6J("ngForOf",n.selectnegocio),t.xp6(1),t.Q6J("ngIf",n.formulario.controls.negocio.errors&&n.formulario.controls.negocio.touched),t.xp6(3),t.hij(" ",t.lcZ(48,29,"labels.education")," "),t.xp6(4),t.Q6J("ngForOf",n.selecteducacion),t.xp6(1),t.Q6J("ngIf",n.formulario.controls.educacion.errors&&n.formulario.controls.educacion.touched)}}function _(x,f){1&x&&(t.TgZ(0,"p",36),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"errors.enter_a_comentary"),""))}function b(x,f){if(1&x){const n=t.EpF();t.TgZ(0,"span",50),t.NdJ("click",function(){return t.CHM(n),t.oxw(3).editarPPI=!0}),t.O4$(),t.TgZ(1,"svg",51),t._UZ(2,"path",52),t.qZA()()}}function C(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function Q(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function Y(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function B(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function ee(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function K(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function ie(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function le(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function se(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function he(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function oe(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function ge(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function _e(x,f){if(1&x&&(t.TgZ(0,"option",35),t._uU(1),t.qZA()),2&x){const n=f.$implicit;t.Q6J("value",null==n?null:n.id),t.xp6(1),t.Oqu(null==n?null:n.name)}}function Ae(x,f){if(1&x&&(t.TgZ(0,"div",53)(1,"div")(2,"label",54),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",55),t.YNc(6,C,2,2,"option",20),t.qZA(),t.TgZ(7,"label",54),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"select",56),t.YNc(11,Q,2,2,"option",20),t.qZA(),t.TgZ(12,"label",54),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"select",57),t.YNc(16,Y,2,2,"option",20),t.qZA(),t.TgZ(17,"label",54),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"select",58),t.YNc(21,B,2,2,"option",20),t.qZA(),t.TgZ(22,"label",54),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"select",59),t.YNc(26,ee,2,2,"option",20),t.qZA(),t.TgZ(27,"label",54),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"select",60),t.YNc(31,K,2,2,"option",20),t.qZA(),t.TgZ(32,"label",54),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"select",61),t.YNc(36,ie,2,2,"option",20),t.qZA(),t.TgZ(37,"label",54),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"select",62),t.YNc(41,le,2,2,"option",20),t.qZA(),t.TgZ(42,"label",54),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"select",63),t.YNc(46,se,2,2,"option",20),t.qZA(),t.TgZ(47,"label",54),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"select",64),t.YNc(51,he,2,2,"option",20),t.qZA(),t.TgZ(52,"label",54),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"select",65),t.YNc(56,oe,2,2,"option",20),t.qZA(),t.TgZ(57,"label",54),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"select",66),t.YNc(61,ge,2,2,"option",20),t.qZA(),t.TgZ(62,"label",54),t._uU(63),t.ALo(64,"translate"),t.qZA(),t.TgZ(65,"select",67),t.YNc(66,_e,2,2,"option",20),t.qZA()()()),2&x){const n=t.oxw().index,N=t.oxw(2);t.Q6J("formGroupName",n),t.xp6(3),t.hij(" ",t.lcZ(4,27,"PPI.family_members")," "),t.xp6(3),t.Q6J("ngForOf",N.groupfamilia),t.xp6(2),t.hij(" ",t.lcZ(9,29,"PPI.salary")," "),t.xp6(3),t.Q6J("ngForOf",N.groupsalario),t.xp6(2),t.hij(" ",t.lcZ(14,31,"PPI.studying")," "),t.xp6(3),t.Q6J("ngForOf",N.groupestudiando),t.xp6(2),t.hij(" ",t.lcZ(19,33,"PPI.academic")," "),t.xp6(3),t.Q6J("ngForOf",N.groupestudio),t.xp6(2),t.hij(" ",t.lcZ(24,35,"PPI.floor")," "),t.xp6(3),t.Q6J("ngForOf",N.grouppiso),t.xp6(2),t.hij(" ",t.lcZ(29,37,"PPI.walls")," "),t.xp6(3),t.Q6J("ngForOf",N.groupparedes),t.xp6(2),t.hij(" ",t.lcZ(34,39,"PPI.rooms")," "),t.xp6(3),t.Q6J("ngForOf",N.grouphabitaciones),t.xp6(2),t.hij(" ",t.lcZ(39,41,"PPI.technology")," "),t.xp6(3),t.Q6J("ngForOf",N.groupmovil),t.xp6(2),t.hij(" ",t.lcZ(44,43,"PPI.fuel")," "),t.xp6(3),t.Q6J("ngForOf",N.groupcombustible),t.xp6(2),t.hij(" ",t.lcZ(49,45,"PPI.toilet")," "),t.xp6(3),t.Q6J("ngForOf",N.groupsanitario),t.xp6(2),t.hij(" ",t.lcZ(54,47,"PPI.refrigerator")," "),t.xp6(3),t.Q6J("ngForOf",N.grouprefrigerador),t.xp6(2),t.hij(" ",t.lcZ(59,49,"PPI.vehicle")," "),t.xp6(3),t.Q6J("ngForOf",N.groupvehiculo),t.xp6(2),t.hij(" ",t.lcZ(64,51,"PPI.housing")," "),t.xp6(3),t.Q6J("ngForOf",N.groupvivienda)}}function ve(x,f){if(1&x&&(t.TgZ(0,"fieldset",45)(1,"div",46)(2,"h2",47),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.YNc(5,b,3,0,"span",48),t.qZA(),t.YNc(6,Ae,67,53,"div",49),t.qZA()),2&x){const n=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,3,"labels.ppi_poll")," "),t.xp6(2),t.Q6J("ngIf",!n.editarPPI),t.xp6(1),t.Q6J("ngIf",n.editarPPI)}}function xe(x,f){if(1&x&&(t.TgZ(0,"button",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x){const n=t.oxw(3);t.s9C("value",n.formulario.valid),t.Q6J("disabled",!n.formulario.valid),t.xp6(1),t.hij(" ",t.lcZ(2,3,"buttons.save_visit")," ")}}function be(x,f){if(1&x&&(t.TgZ(0,"button",72),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&x){const n=t.oxw(3);t.Q6J("disabled",n.formulario.valid),t.xp6(1),t.hij(" ",t.lcZ(2,2,"buttons.fill_out_the_form")," ")}}function Ze(x,f){if(1&x&&(t.TgZ(0,"div",68),t.YNc(1,xe,3,5,"button",69),t.YNc(2,be,3,4,"button",70),t.qZA()),2&x){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.formulario.valid),t.xp6(1),t.Q6J("ngIf",!n.formulario.valid)}}function w(x,f){1&x&&(t.TgZ(0,"p"),t._uU(1,"Formulario enviado ..."),t.qZA())}function E(x,f){if(1&x){const n=t.EpF();t.TgZ(0,"form",10),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw().onSubmit()})("keydown",function(M){return t.CHM(n),t.oxw().teclaenter(M)}),t.TgZ(1,"div",11)(2,"aside",12)(3,"div",13)(4,"div")(5,"label",14),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"fieldset"),t.YNc(9,c,9,5,"div",15),t.YNc(10,I,3,3,"p",16),t.qZA()(),t.TgZ(11,"div")(12,"div",17)(13,"div")(14,"label",14),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"div",18)(18,"select",19),t.YNc(19,Z,2,2,"option",20),t.qZA(),t.YNc(20,j,3,3,"p",21),t.qZA()(),t.TgZ(21,"div")(22,"label",14),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"div",18),t.YNc(26,R,2,1,"p",22),t.YNc(27,X,1,0,"input",23),t.YNc(28,D,3,3,"p",21),t.qZA()(),t.TgZ(29,"div")(30,"label",14),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"div",18),t._UZ(34,"input",24),t.YNc(35,ue,3,3,"p",21),t.qZA()(),t.YNc(36,r,53,31,"div",22),t.TgZ(37,"div")(38,"label",14),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"div",18),t._UZ(42,"textarea",25),t.YNc(43,_,3,3,"p",21),t.qZA()()()()(),t.YNc(44,ve,7,5,"fieldset",26),t.YNc(45,Ze,3,2,"div",27),t.YNc(46,w,2,0,"p",22),t.qZA()()()}if(2&x){const n=t.oxw();t.Q6J("formGroup",n.formulario),t.xp6(6),t.hij(" ",t.lcZ(7,19,"labels.visit_type")," "),t.xp6(3),t.Q6J("ngForOf",n.selecttipovisita),t.xp6(1),t.Q6J("ngIf",n.formulario.controls.tipovisita.errors&&n.formulario.controls.tipovisita.touched),t.xp6(5),t.hij(" ",t.lcZ(16,21,"labels.lesson")," "),t.xp6(4),t.Q6J("ngForOf",n.selectleccion),t.xp6(1),t.Q6J("ngIf",n.formulario.controls.leccion.errors&&n.formulario.controls.leccion.touched),t.xp6(3),t.hij(" ",t.lcZ(24,23,"labels.visit_date")," "),t.xp6(3),t.Q6J("ngIf",n.clasificacionPosition&&6==n.clasificacionPosition.position||n.selecttipovisita&&1==n.selecttipovisita[0].position),t.xp6(1),t.Q6J("ngIf",6!=n.clasificacionPosition.position||1!=n.selecttipovisita[0].position),t.xp6(1),t.Q6J("ngIf",n.formulario.controls.fechavisita.errors&&n.formulario.controls.fechavisita.touched),t.xp6(3),t.hij(" ",t.lcZ(32,25,"labels.next_date_of_visit")," "),t.xp6(4),t.Q6J("ngIf",n.formulario.controls.proximavisita.errors&&n.formulario.controls.proximavisita.touched),t.xp6(1),t.Q6J("ngIf",n.visitamensual),t.xp6(3),t.hij(" ",t.lcZ(40,27,"errors.enter_a_comentary")," "),t.xp6(4),t.Q6J("ngIf",n.formulario.controls.comentarios.errors&&n.formulario.controls.comentarios.touched),t.xp6(1),t.Q6J("ngForOf",n.ppi.controls),t.xp6(1),t.Q6J("ngIf",!n.enviado),t.xp6(1),t.Q6J("ngIf",n.enviado)}}let T=(()=>{class x{constructor(n,N,M,S,O,V,W,te,G,fe,ye,Me){this.translate=n,this.codesSvc=N,this.activatedRoute=M,this.visitasService=S,this.clientservice=O,this.fb=V,this.ppiSvc=W,this.router=te,this.funcionesSvc=G,this.db=fe,this.loadSvc=ye,this.toastSrv=Me,this.ultimavisitaOfL=[],this.ultimaclasifOfL=[],this.ultimaPpiOfl=[],this.enviado=!1,this.idcliente=0,this.nombrecliente="",this.cierrame=new t.vpe,this.textovisita="",this.periodoMayor="",this.periodonuevo=!1,this.verformulario=!1,this.primervisita=!1,this.selectleccion=[],this.selectempleo=[],this.selectnegocio=[],this.selecttipovisita=[],this.visitaseguimiento=!1,this.invocador="",this.arrLista=[],this.groupfamilia=[],this.groupsalario=[],this.groupestudiando=[],this.groupestudio=[],this.grouppiso=[],this.groupparedes=[],this.grouphabitaciones=[],this.groupcombustible=[],this.groupsanitario=[],this.grouprefrigerador=[],this.groupmovil=[],this.groupvehiculo=[],this.groupvivienda=[],this.historico=0,this.visitamensual=!1,this.verBarraDerecha=!0,this.editarPPI=!1,this.formulario=this.fb.group({ppi:this.fb.array([]),tipovisita:new i.NI("",i.kI.required),leccion:new i.NI(""),voluntariado:new i.NI(""),fechavisita:new i.NI(this.clientservice.hoy(),i.kI.required),proximavisita:new i.NI("",i.kI.required),comentarios:new i.NI("",i.kI.required),ingresos:new i.NI(""),ahorros:new i.NI(""),deudas:new i.NI(""),Empleados:new i.NI(""),empleo:new i.NI(""),negocio:new i.NI(""),educacion:new i.NI(""),Periodo:new i.NI("",i.kI.required)})}ngOnInit(){var n=this;return(0,u.Z)(function*(){var N,M,S,O;n.idcliente=null===(N=n.foo)||void 0===N?void 0:N.id,n.nombrecliente=(null===(M=n.foo)||void 0===M?void 0:M.displayName)?null===(S=n.foo)||void 0===S?void 0:S.displayName:null===(O=n.foo)||void 0===O?void 0:O.entityName,n.posicion=n.foo.clientClassification,n.staffid=n.foo.IdMentorActual?n.foo.IdMentorActual:n.foo.staffId,n.clasificacionPosition=yield n.loadSvc.sClasificacion().then(V=>V.find(W=>W.id==n.posicion.id)),yield n.loadSvc.sPPI(`${n.idcliente}`).then(function(){var V=(0,u.Z)(function*(W){let te=yield n.loadSvc.sTipoVisita();W&&W.length>0?(console.log(" tiene ppi",W),n.valor=W,n.periodoMayor=W[0].periodo,6==n.clasificacionPosition.position?(console.log(" tiene ppi y esta inactivo"),n.textovisita=n.translate.instant("pop_up.alert.periodo.creando_periodo")+` ${n.periodoMayor+1} `+n.translate.instant("pop_up.alert.periodo.enviando_cliente_a_preparacion"),n.selecttipovisita.push(te.find(G=>1==G.position)),n.periodonuevo=!0,n.verformulario=!0,n.primervisita=!0):(console.log("tiene ppi y la posici\xf3n no es inactivo"),n.periodoMayor-=1,n.textovisita=n.translate.instant("labels.visita_del_periodo")+`: ${n.periodoMayor+1}`,n.selecttipovisita=te.filter(G=>1!=G.position),n.periodonuevo=!1,n.verformulario=!0,n.primervisita=!1)):(console.log("no Tiene ppi"),6==n.clasificacionPosition.position?(console.log("no tiene ppi y esta inactivo"),n.textovisita=n.translate.instant("errors.clasificacion_requerida_para_agregar_visita"),n.periodonuevo=!1,n.verformulario=!1,n.primervisita=!1):(console.log("no tiene ppi y esta activo"),n.textovisita=n.translate.instant("descripcion.visitas.inicial"),n.selecttipovisita.push(te.find(G=>1==G.position)),n.periodoMayor=0,n.periodonuevo=!0,n.verformulario=!0,n.primervisita=!0)),n.formulario.patchValue({Periodo:n.periodoMayor+1})});return function(W){return V.apply(this,arguments)}}()),n.selectleccion=yield n.loadSvc.sLeccion(),n.selectnegocio=yield n.loadSvc.sNegocioPropio(),n.selectempleo=yield n.loadSvc.sTrabajo(),n.selecteducacion=yield n.loadSvc.sEducacion(),n.groupfamilia=yield n.loadSvc.ppifamilia(),n.groupsalario=yield n.loadSvc.ppisalario(),n.groupestudiando=yield n.loadSvc.ppiestudiando(),n.groupestudio=yield n.loadSvc.ppiestudio(),n.grouppiso=yield n.loadSvc.ppipiso(),n.groupparedes=yield n.loadSvc.ppiparedes(),n.grouphabitaciones=yield n.loadSvc.ppihabitaciones(),n.groupcombustible=yield n.loadSvc.ppicombustible(),n.groupsanitario=yield n.loadSvc.ppisanitario(),n.grouprefrigerador=yield n.loadSvc.ppirefrigerador(),n.groupmovil=yield n.loadSvc.ppimovil(),n.groupvehiculo=yield n.loadSvc.ppivehiculo(),n.groupvivienda=yield n.loadSvc.ppivivienda(),n.clientservice.getUltimoHistoricoId(n.idcliente).then(V=>{V.data.length>0&&(n.historico=V.data[0].row[0])})})()}onRefresh(){this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.navigateByUrl(this.router.url+"?").then(()=>{this.router.navigated=!1,this.router.navigate([this.router.url])})}get ppi(){return this.formulario.get("ppi")}anadirPPI(n){const N=this.fb.group({MI_PPI_1:new i.NI("",i.kI.required),MI_PPI_2:new i.NI("",i.kI.required),MI_PPI_3:new i.NI("",i.kI.required),MI_PPI_4:new i.NI("",i.kI.required),MI_PPI_5:new i.NI("",i.kI.required),MI_PPI_6:new i.NI("",i.kI.required),MI_PPI_7:new i.NI("",i.kI.required),MI_PPI_8:new i.NI("",i.kI.required),MI_PPI_9:new i.NI("",i.kI.required),MI_PPI_10:new i.NI("",i.kI.required),MI_PPI_11:new i.NI("",i.kI.required),MI_PPI_12:new i.NI("",i.kI.required),MI_PPI_13:new i.NI("",i.kI.required)});2==n&&(this.valor?N.patchValue({MI_PPI_1:this.valor[0].MI_PPI_1,MI_PPI_2:this.valor[0].MI_PPI_2,MI_PPI_3:this.valor[0].MI_PPI_3,MI_PPI_4:this.valor[0].MI_PPI_4,MI_PPI_5:this.valor[0].MI_PPI_5,MI_PPI_6:this.valor[0].MI_PPI_6,MI_PPI_7:this.valor[0].MI_PPI_7,MI_PPI_8:this.valor[0].MI_PPI_8,MI_PPI_9:this.valor[0].MI_PPI_9,MI_PPI_10:this.valor[0].MI_PPI_10,MI_PPI_11:this.valor[0].MI_PPI_11,MI_PPI_12:this.valor[0].MI_PPI_12,MI_PPI_13:this.valor[0].MI_PPI_13}):this.editarPPI=!0),this.ppi.push(N)}borrarTrabajo(n){this.ppi.removeAt(n)}refrescar(){this.ppi.controls.splice(0,this.ppi.length)}quevisita(n){2==n||1==n?(this.editarPPI=1==n,this.visitamensual=!0,this.visitaseguimiento=!1,this.borrarTrabajo(0),this.anadirPPI(n),this.formulario.controls.Empleados.addValidators(i.kI.required),this.formulario.controls.empleo.addValidators(i.kI.required),this.formulario.controls.negocio.addValidators(i.kI.required),this.formulario.controls.educacion.addValidators(i.kI.required),this.formulario.controls.ingresos.addValidators([i.kI.required,i.kI.min(1)]),this.formulario.controls.ahorros.addValidators([i.kI.required,i.kI.min(1)]),this.formulario.controls.ppi.addValidators([i.kI.required])):(this.visitaseguimiento=!0,this.visitamensual=!1,this.editarPPI=!1,this.formulario.controls.Empleados.clearValidators(),this.formulario.controls.empleo.clearValidators(),this.formulario.controls.negocio.clearValidators(),this.formulario.controls.educacion.clearValidators(),this.formulario.controls.ingresos.clearValidators(),this.formulario.controls.ahorros.clearValidators(),this.formulario.controls.ppi.clearValidators(),this.formulario.controls.Empleados.updateValueAndValidity(),this.formulario.controls.empleo.updateValueAndValidity(),this.formulario.controls.negocio.updateValueAndValidity(),this.formulario.controls.educacion.updateValueAndValidity(),this.formulario.controls.ingresos.updateValueAndValidity(),this.formulario.controls.ahorros.updateValueAndValidity(),this.borrarTrabajo(0))}recargarSelect(){var n=this;return(0,u.Z)(function*(){n.selecttipovisita=yield(yield n.loadSvc.sTipoVisita()).filter(N=>N.id!==n.idvisitainicial)})()}onSubmit(){var n=this;return(0,u.Z)(function*(){let N=n.translate.instant(n.visitaseguimiento?"labels.visitas.seguimiento":"labels.visitas.mensual");n.formulario.valid?(n.enviado=!0,n.db.table("visitas").add({clientId:n.idcliente,nombrecliente:n.nombrecliente,tipovisita:n.formulario.value.tipovisita,textotipovisita:N,leccion:n.formulario.value.leccion,fechavisita:n.formulario.value.fechavisita,proximavisita:n.formulario.value.proximavisita,comentarios:n.formulario.value.comentarios,ingresos:n.formulario.value.ingresos,ahorros:n.formulario.value.ahorros,deudas:n.formulario.value.deudas,Empleados:n.formulario.value.Empleados,empleo:n.formulario.value.empleo,negocio:n.formulario.value.negocio,educacion:n.formulario.value.educacion,Periodo:n.formulario.value.Periodo}).then(M=>{n.ultimavisitaOfL.push(M)}).catch(M=>console.log(M.message)),n.visitasService.addVisit(n.formulario.value,n.idcliente).subscribe(M=>{n.clientservice.getTodoTPerfilCliente(n.idcliente),n.db.table("visitas").bulkDelete(n.ultimavisitaOfL).then(S=>S).catch(S=>console.log("no pudimos eliminar la visita del local",S)),n.toastSrv.success(n.translate.instant("pop_up.alert.visit.added_successfully")),n.visitasService.getTodasVisitasObs(n.idcliente)},M=>{n.toastSrv.error("la visita se guardar\xe1 cuando tenga conexi\xf3n a internet"),console.log("error",M)}),n.visitaseguimiento||(n.db.table("ppivisita").add({clientId:n.idcliente,fechavisita:n.formulario.value.fechavisita,ppi:n.formulario.value.ppi}).then(M=>{n.ultimaPpiOfl.push(M)}).catch(M=>console.log(M.message)),n.ppiSvc.addPPI(n.formulario.value,n.idcliente).subscribe(M=>{n.db.table("ppivisita").bulkDelete(n.ultimaPpiOfl).then(S=>{}).catch(S=>console.log("ppi sin poderse borrar",S)),n.visitasService.getTodasVisitasObs(n.idcliente),n.toastSrv.success(n.translate.instant("pop_up.alert.ppi.added_successfully"))},M=>{})),1!=n.visitamensual||(console.log("clasificacion",n.clasificacionPosition.position),n.periodonuevo)||(yield n.loadSvc.sClasificacion().then(S=>S.find(O=>3==O.position)).then(S=>n.guardarNuevo(S)),n.actualizarlocal("enfoque",{id:n.foo.id,active:n.foo.active,clientClassification:n.foo.clientClassification,displayName:n.foo.displayName,mobileNo:n.foo.mobileNo,officeId:n.foo.officeId,staffId:n.foo.staffId,staffName:n.foo.staffName,FechaVisita:n.formulario.value.fechavisita})),n.periodonuevo&&(yield n.loadSvc.sClasificacion().then(S=>S.find(O=>2==O.position)).then(S=>n.guardarNuevo(S)),n.actualizarlocal("preparacion",{id:n.foo.id,active:n.foo.active,clientClassification:n.foo.clientClassification,displayName:n.foo.displayName,mobileNo:n.foo.mobileNo,officeId:n.foo.officeId,staffId:n.foo.staffId,staffName:n.foo.staffName,FechaVisita:n.formulario.value.fechavisita})),n.formulario.reset(),n.recargarSelect(),n.borrarTrabajo(0),n.toggleModal()):alert(n.translate.instant("pop_up.alert.form_invalido"))})()}toggleModal(){this.cierrame.emit(!1)}actualizarlocal(n,N){var M=this;return(0,u.Z)(function*(){yield M.loadSvc.updateTablaLocal(N,n).then(S=>console.log("cliente ha sido actualizado")).catch(S=>console.log("no pudimos guardar ",S))})()}guardarNuevo(n){console.log("creando nuevo dato local",n);const M={idcliente:this.idcliente,clasifId:n.id,periodo:this.periodoMayor+1,mentorId:this.staffid,FechaVisita:this.formulario.value.fechavisita};this.clientservice.actualizarclasificacion({clientClassification:n.id,clientId:this.idcliente},M),this.db.table("histClasif").add(M).then(O=>{this.ultimaclasifOfL.push(O)}).catch(O=>console.log(O.message)),this.loadSvc.moverClienteTabla(this.idcliente,n.id-1,n.id),this.historico>0?this.clientservice.putHistoricoClasificacion(this.idcliente,this.historico,M).finally(()=>this.clientservice.postHistoricoClasificacion(M)):this.clientservice.postHistoricoClasificacion(M),this.actualizarlocal("ppi",{clientId:`${this.idcliente}`,fechavisita:this.formulario.value.fechavisita,MI_PPI_1:this.formulario.value.ppi[0].MI_PPI_1,MI_PPI_2:this.formulario.value.ppi[0].MI_PPI_2,MI_PPI_3:this.formulario.value.ppi[0].MI_PPI_3,MI_PPI_4:this.formulario.value.ppi[0].MI_PPI_4,MI_PPI_5:this.formulario.value.ppi[0].MI_PPI_5,MI_PPI_6:this.formulario.value.ppi[0].MI_PPI_6,MI_PPI_7:this.formulario.value.ppi[0].MI_PPI_7,MI_PPI_8:this.formulario.value.ppi[0].MI_PPI_8,MI_PPI_9:this.formulario.value.ppi[0].MI_PPI_9,MI_PPI_10:this.formulario.value.ppi[0].MI_PPI_10,MI_PPI_11:this.formulario.value.ppi[0].MI_PPI_11,MI_PPI_12:this.formulario.value.ppi[0].MI_PPI_12,MI_PPI_13:this.formulario.value.ppi[0].MI_PPI_13,periodo:`${this.periodoMayor+1}`,tipovisita:"1"})}teclaenter(n){}}return x.\u0275fac=function(n){return new(n||x)(t.Y36(F.sK),t.Y36(v.a),t.Y36(e.gz),t.Y36(k.N),t.Y36(J.a),t.Y36(i.qu),t.Y36(U.V),t.Y36(e.F0),t.Y36($.X),t.Y36(A.M),t.Y36(P.k),t.Y36(a._W))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-agregar-visita"]],inputs:{foo:"foo"},outputs:{cierrame:"cierrame"},decls:16,vars:12,consts:[[1,"px-6","pt-20"],[1,"flex","items-start","justify-between"],["id","slide-over-title",1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"ml-3","h-7","flex","items-center",3,"click"],["type","button",1,"bg-white","rounded-md","text-gray-400","hover:text-gray-500","focus:ring-2","focus:ring-indigo-500"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"p-2"],["class","  bg-white dark:bg-gray-800 dark:text-white",3,"formGroup","ngSubmit","keydown",4,"ngIf"],[1,"bg-white","dark:bg-gray-800","dark:text-white",3,"formGroup","ngSubmit","keydown"],[1,"h-full","rounded-lg","lg:block"],[1,"w-full","p-6"],[1,"pb-6","space-y-6"],["for","project-name",1,"block","text-sm","font-medium","text-gray-500","py-3"],["class","relative bg-white dark:bg-gray-700 dark:text-white rounded-md -space-y-px",4,"ngFor","ngForOf"],["class","mt-2 text-red-500",4,"ngIf"],[1,"mt-2","border-t","border-b","border-gray-200","divide-y","divide-gray-200"],[1,"mt-1"],["formControlName","leccion",1,"detalleinput"],[3,"value",4,"ngFor","ngForOf"],["class","mt-2 text-red-500 text-sm",4,"ngIf"],[4,"ngIf"],["formControlName","fechavisita","type","date","class","detalleinput",4,"ngIf"],["formControlName","proximavisita","type","date",1,"detalleinput"],["rows","10","formControlName","comentarios",1,"detalleinput"],["class","p-4","formArrayName","ppi",4,"ngFor","ngForOf"],["class","flex pt-3",4,"ngIf"],[1,"relative","bg-white","dark:bg-gray-700","dark:text-white","rounded-md","-space-y-px"],[1,"rounded-tl-md","rounded-tr-md","relative","border","p-4","flex","flex-col","cursor-pointer","md:pl-4","md:pr-6","md:grid","md:grid-cols-2","focus:outline-none"],[1,"flex","items-center","text-sm"],["type","radio","formControlName","tipovisita",1,"h-4","w-4","text-indigo-600","border-gray-300","focus:ring-indigo-500",3,"value","click"],[1,"ml-3","font-medium"],[1,"font-medium","text-gray-500","ml-6","pl-1","text-sm","md:ml-0","md:pl-0","md:text-right"],[1,"mt-2","text-red-500"],[3,"value"],[1,"mt-2","text-red-500","text-sm"],["formControlName","fechavisita","type","date",1,"detalleinput"],["formControlName","ingresos","type","number","min","0","step","10",1,"detalleinput"],["formControlName","ahorros","type","number","min","0","step","10",1,"detalleinput"],["formControlName","deudas","type","number","min","0","step","10",1,"detalleinput"],["formControlName","Empleados","type","number","min","0",1,"detalleinput"],["formControlName","empleo",1,"detalleinput"],["formControlName","negocio",1,"detalleinput"],["formControlName","educacion",1,"detalleinput"],["formArrayName","ppi",1,"p-4"],[1,"flex","align-middle","justify-evenly","bg-gray-800","py-4"],["id","slide-over-title",1,"text-lg","font-medium","text-white"],["class","p-3",3,"click",4,"ngIf"],[3,"formGroupName",4,"ngIf"],[1,"p-3",3,"click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","pencil-alt","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-pencil-alt","fa-w-16","w-5","text-Yellow-300","h-5"],["fill","currentColor","d","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"],[3,"formGroupName"],["for","project-name",1,"block","text-sm","font-medium","text-gray-500","dark:text-white","py-3"],["formControlName","MI_PPI_1",1,"detalleinput"],["formControlName","MI_PPI_2",1,"detalleinput"],["formControlName","MI_PPI_3",1,"detalleinput"],["formControlName","MI_PPI_4",1,"detalleinput"],["formControlName","MI_PPI_5",1,"detalleinput"],["formControlName","MI_PPI_6",1,"detalleinput"],["formControlName","MI_PPI_7",1,"detalleinput"],["formControlName","MI_PPI_11",1,"detalleinput"],["formControlName","MI_PPI_8",1,"detalleinput"],["formControlName","MI_PPI_9",1,"detalleinput"],["formControlName","MI_PPI_10",1,"detalleinput"],["formControlName","MI_PPI_12",1,"detalleinput"],["formControlName","MI_PPI_13",1,"detalleinput"],[1,"flex","pt-3"],["type","button","type","submit","class","flex-1 bg-indigo-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"disabled","value",4,"ngIf"],["class","flex-1 bg-gray-300 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ",3,"disabled",4,"ngIf"],["type","button","type","submit",1,"flex-1","bg-indigo-600","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled","value"],[1,"flex-1","bg-gray-300","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"disabled"]],template:function(n,N){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",3),t.NdJ("click",function(){return N.toggleModal()}),t.TgZ(7,"button",4)(8,"span",5),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.O4$(),t.TgZ(11,"svg",6),t._UZ(12,"path",7),t.qZA()()()()(),t.kcU(),t.TgZ(13,"p",8),t._uU(14),t.qZA(),t.YNc(15,E,47,29,"form",9)),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,6,"labels.add_visit")," | ",t.lcZ(5,8,"labels.client")," ",N.idcliente," "),t.xp6(6),t.Oqu(t.lcZ(10,10,"labels.close_panel")),t.xp6(5),t.Oqu(N.textovisita),t.xp6(1),t.Q6J("ngIf",N.verformulario))},directives:[m.O5,i._Y,i.JL,i.sg,m.sg,i._,i.Fj,i.JJ,i.u,i.EJ,i.YN,i.Kr,i.wV,i.qQ,i.CE,i.x0],pipes:[F.X$],styles:[".ocultar[_ngcontent-%COMP%]{display:none}"]}),x})()},9567:(ae,z,p)=>{p.r(z),p.d(z,{HomeModule:()=>E});var u=p(9808),t=p(433),i=p(5e3),F=p(7232);let v=(()=>{class T{constructor(){}ngOnInit(){}}return T.\u0275fac=function(f){return new(f||T)},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-process-constrution"]],decls:8,vars:6,consts:[[1,"flex","justify-center","items-center"],[1,"flex","flex-col","items-center"],[1,"sm:text-3xl","text-2xl","font-medium","pt-8","mt-8","title-font","mb-2","text-gray-900","dark:text-white"],[1,"text-gray-600","leading-relaxed","text-base"]],template:function(f,n){1&f&&(i.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.TgZ(5,"p",3),i._uU(6),i.ALo(7,"translate"),i.qZA()()()),2&f&&(i.xp6(3),i.Oqu(i.lcZ(4,2,"404.construction")),i.xp6(3),i.Oqu(i.lcZ(7,4,"404.construction_info")))},pipes:[F.X$],encapsulation:2}),T})();var e=p(5861);const k=[{id:1,grupo:1,texto:"Home",icono:"fas fa-home"},{id:2,grupo:1,texto:"Reportes",icono:"fas fa-fire"},{id:4,grupo:2,texto:"clientes",icono:"fas fa-home"},{id:5,grupo:2,texto:"Agregar Cliente",icono:"fas fa-fire"},{id:6,grupo:2,texto:"Crear Pr\xe9stamo",icono:"fas fa-folder"},{id:10,grupo:2,texto:"Ver Historias",icono:"fas fa-monument"},{id:11,grupo:2,texto:"Galer\xeda de Fotos",icono:"fas fa-id-card-alt"},{id:7,grupo:3,texto:"staff",icono:"fas fa-home"},{id:8,grupo:3,texto:"Agregar Staff",icono:"fas fa-fire"}],J=[{id:1,titulo:"labels.dashboard.family_finances",icono:"fas fa-user-cog",texto:"labels.dashboard.family_finances_text",page:"/reports/FinanzaxFamilia"},{id:2,titulo:"labels.dashboard.client_per_status",icono:"fas fa-atlas",texto:"labels.dashboard.client_per_status_text",page:"/reports/ClientesporStatus"},{id:3,titulo:"labels.dashboard.rdi",icono:"fas fa-chart-pie",texto:"labels.dashboard.rdi_text",page:"/reports/clientRDI"},{id:4,titulo:"PPI all client",icono:"fas fa-money-check-alt",texto:"Ppi inicial y ppi final de todos los clientes del pa\xeds actual",page:"/reports/allppi"},{id:5,titulo:"labels.dashboard.loans_written_off",icono:"fas fa-money-check-alt",texto:"labels.dashboard.loans_written_off_text",page:"/construction"},{id:6,titulo:"labels.dashboard.outlays",icono:"fas fa-money-check-alt",texto:"labels.dashboard.outlays_text",page:"/construction"},{id:7,titulo:"labels.dashboard.refunds",icono:"fas fa-money-check-alt",texto:"labels.dashboard.refunds_text",page:"/construction"},{id:8,titulo:"labels.dashboard.cir",icono:"fas fa-money-check-alt",texto:"labels.dashboard.cir_text",page:"/reports/Embeded"}];let U=(()=>{class T{constructor(){}getById(f){return new Promise((n,N)=>{n(k.filter(S=>S.grupo===f))})}getDashboard(){return new Promise((f,n)=>{f(J)})}}return T.\u0275fac=function(f){return new(f||T)},T.\u0275prov=i.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var $=p(9978),A=p(8045),P=p(4647),a=p(575);function m(T,x){if(1&T&&(i.TgZ(0,"div",8),i._UZ(1,"app-client-tarjeta",9),i.qZA()),2&T){const f=x.$implicit;i.xp6(1),i.Q6J("foo",f)("botones",!1)("transferir",!0)}}function c(T,x){if(1&T&&(i.TgZ(0,"div",1)(1,"div",2)(2,"a")(3,"div",3)(4,"p",4),i._uU(5),i.ALo(6,"translate"),i.qZA(),i._UZ(7,"p",5),i.TgZ(8,"div",6),i.YNc(9,m,2,3,"div",7),i.qZA()()()()()),2&T){const f=i.oxw();i.xp6(5),i.Oqu(i.lcZ(6,2,"labels.transfer_client.pending_transfers")),i.xp6(4),i.Q6J("ngForOf",f.transferencias)}}let I=(()=>{class T{constructor(f,n){this.transferSvc=f,this.funcionesSvc=n}ngOnInit(){var f=this;return(0,e.Z)(function*(){const n=localStorage.getItem("user");n&&(f.usuario=JSON.parse(n)),f.transferSvc.gettransferirobs$().subscribe(N=>f.transferencias=f.funcionesSvc.arregloDobleAIndividual(N)),yield f.transferSvc.getTodastransferirobs(parseInt(f.usuario.officeId))})()}}return T.\u0275fac=function(f){return new(f||T)(i.Y36(A.O),i.Y36(P.X))},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-transfers"]],decls:1,vars:1,consts:[["class","relative grid gap-5 sm:grid-cols-2 lg:grid-cols-4 dark:text-white",4,"ngIf"],[1,"relative","grid","gap-5","sm:grid-cols-2","lg:grid-cols-4","dark:text-white"],[1,"dark:bg-gray-800","flex","flex-col","justify-between","overflow-hidden","text-left","transition-shadow","duration-200","rounded","shadow-xl","group"],[1,"p-5"],[1,"mb-2","font-bold","dark:text-white","text-center"],[1,"text-sm","leading-5","text-gray-900","dark:text-gray-100"],[1,"flex","flex-col","w-full"],["class","justify-start px-4 max-w-sm mx-auto",4,"ngFor","ngForOf"],[1,"justify-start","px-4","max-w-sm","mx-auto"],[3,"foo","botones","transferir"]],template:function(f,n){1&f&&i.YNc(0,c,10,4,"div",0),2&f&&i.Q6J("ngIf",n.transferencias&&n.transferencias.length>0)},directives:[u.O5,u.sg,a.s],pipes:[F.X$],styles:[""]}),T})();var Z=p(4968),j=p(8372),R=p(8157),X=p(5902),D=p(2593),ue=p(1506),ce=p(1759);function ne(T,x){if(1&T){const f=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(){return i.CHM(f),i.oxw(2).verRecord()}),i._uU(1," Subir todas las visitas pendientes"),i.qZA()}}function re(T,x){if(1&T&&(i.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"a",9)(4,"h2",10),i._uU(5),i.qZA()()(),i.TgZ(6,"div",11)(7,"div",12),i.O4$(),i.TgZ(8,"svg",13),i._UZ(9,"path",14),i.qZA(),i.kcU(),i.TgZ(10,"div",15),i._uU(11),i.ALo(12,"translate"),i.qZA()(),i.TgZ(13,"div",16),i.O4$(),i.TgZ(14,"svg",13),i._UZ(15,"path",17),i.qZA(),i.kcU(),i.TgZ(16,"div",18),i._uU(17),i.qZA()(),i.TgZ(18,"div",16),i.O4$(),i.TgZ(19,"svg",13),i._UZ(20,"path",19),i.qZA(),i.kcU(),i.TgZ(21,"div",18),i._uU(22),i.qZA()()()()()),2&T){const f=x.$implicit;i.xp6(5),i.Oqu(f.nombrecliente),i.xp6(6),i.AsE(" ",i.lcZ(12,5,"labels.id"),": ",f.clientId,""),i.xp6(6),i.Oqu(f.textotipovisita),i.xp6(5),i.Oqu(f.fechavisita)}}function de(T,x){if(1&T&&(i.TgZ(0,"div")(1,"h3",1),i._uU(2),i.ALo(3,"translate"),i.qZA(),i.TgZ(4,"div",2),i.YNc(5,ne,2,0,"button",3),i.YNc(6,re,23,7,"div",4),i.qZA()()),2&T){const f=i.oxw();i.xp6(2),i.Oqu(i.lcZ(3,3,"labels.offline.visitas_pendientes_subir")),i.xp6(3),i.Q6J("ngIf","offline"!=f.netStatus),i.xp6(1),i.Q6J("ngForOf",f.visitOff)}}let me=(()=>{class T{constructor(f,n,N,M,S,O){this.translate=f,this.db=n,this.loadSvc=N,this.clientservice=M,this.ppiSvc=S,this.visitasService=O,this.agregadoV=[],this.agregadoP=[],this.agregadoH=[],this.usuario=localStorage.getItem("user"),this.staffid=JSON.parse(this.usuario).userId}ngOnInit(){(0,Z.R)(window,"offline").pipe((0,j.b)(100)).subscribe(f=>{this.netStatus=f.type}),(0,Z.R)(window,"online").pipe((0,j.b)(100)).subscribe(f=>{this.netStatus=f.type}),this.loadSvc.getvisitasobs$().subscribe(f=>this.visitOff=f),this.loadSvc.getTodasVisitasObs()}verRecord(){var f=this;return(0,e.Z)(function*(){f.db.table("visitas").each(N=>{console.log("visitas",N),f.visitasService.addVisit(N,N.clientId).subscribe(M=>{f.agregadoV.push(parseInt(N.visitId)),f.deleteRecord("visitas",f.agregadoV)},M=>{console.log("existen visitas que no podemos guardar")})}),f.db.table("ppivisita").each(N=>{console.log("ppi",N),console.log("guardaremos el siguiente dato ",N),f.ppiSvc.addPPI(N,N.clientId).subscribe(M=>{f.agregadoP.push(N.ppiId),f.deleteRecord("ppivisita",f.agregadoP)},M=>{console.log("no pudimos guardar el ppi")})});let n=yield f.db.table("histClasif").count();if(n>0){const N=S=>new Promise(O=>setTimeout(()=>O(f.db.table("histClasif").get(S).then(V=>(console.log("datos de historico",V,S,n),f.agregadoH.push(V.histId),f.clientservice.actualizarclasificacion({clientClassification:V.clasifId,clientId:V.idcliente},V).then(()=>f.clientservice.getUltimoHistoricoId(V.idcliente).then(W=>(console.log("todo el historico m",W),W.data[0]?(console.log("tiene historico"),f.clientservice.putHistoricoClasificacion(V.idcliente,W.data[0].row,V).then(()=>f.clientservice.postHistoricoClasificacion(V).then(G=>(console.log("visita agregada con exito",G),S>=n?"ok":"no")))):(console.log("no tiene historico"),f.clientservice.postHistoricoClasificacion(V).then(G=>S>=n?"ok":"no")))))))),1500)),M=S=>N(S).then(O=>{if(console.log("obtuvimos",O),"ok"!==O)return console.log(S),M(S+1);console.log("yay")});M(1).then(()=>{console.log("all done!"),f.deleteRecord("histClasif",f.agregadoH)})}f.loadSvc.getTodasVisitasObs()})()}deleteRecord(f,n){console.log("borrando tabla",f,"valor",n),this.db.table(f).bulkDelete(n).then(N=>console.log(`tabla ${f} vaciada con exito`,N)).catch(N=>console.log(`no pudimos vaciar la tabla ${f} `,N))}}return T.\u0275fac=function(f){return new(f||T)(i.Y36(F.sK),i.Y36(R.M),i.Y36(X.k),i.Y36(D.a),i.Y36(ue.V),i.Y36(ce.N))},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-visit-offline"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"p-2","m-2"],[1,"mx-20","grid"],["class"," mt-4 bg-gradient-to-tr from-indigo-600 to-purple-600 text-white py-2 rounded-md text-lg font-semibold",3,"click",4,"ngIf"],["class","flex flex-row rounded-lg border border-gray-200/80 bg-white p-6",4,"ngFor","ngForOf"],[1,"mt-4","bg-gradient-to-tr","from-indigo-600","to-purple-600","text-white","py-2","rounded-md","text-lg","font-semibold",3,"click"],[1,"flex","flex-row","rounded-lg","border","border-gray-200/80","bg-white","p-6"],[1,"flex","flex-col","px-6"],[1,"flex","h-8","flex-row"],["href","https://github.com/EgoistDeveloper/","target","_blank"],[1,"text-lg","font-semibold"],[1,"my-2","flex","flex-row","space-x-2","items-center"],[1,"flex","flex-row","items-center"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","width","24","height","24","viewBox","0 0 24 24",1,"mr-2","h-4","w-4","fill-gray-500/80"],["d","M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7.07,18.28C7.5,17.38 10.12,16.5 12,16.5C13.88,16.5 16.5,17.38 16.93,18.28C15.57,19.36 13.86,20 12,20C10.14,20 8.43,19.36 7.07,18.28M18.36,16.83C16.93,15.09 13.46,14.5 12,14.5C10.54,14.5 7.07,15.09 5.64,16.83C4.62,15.5 4,13.82 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,13.82 19.38,15.5 18.36,16.83M12,6C10.06,6 8.5,7.56 8.5,9.5C8.5,11.44 10.06,13 12,13C13.94,13 15.5,11.44 15.5,9.5C15.5,7.56 13.94,6 12,6M12,11A1.5,1.5 0 0,1 10.5,9.5A1.5,1.5 0 0,1 12,8A1.5,1.5 0 0,1 13.5,9.5A1.5,1.5 0 0,1 12,11Z"],[1,"text-xs","text-green-400/80","hover:text-gray-400","bg-neutral-900","p-2","rounded-md"],[1,"flex","flex-row"],["d","M12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5M12,2A7,7 0 0,1 19,9C19,14.25 12,22 12,22C12,22 5,14.25 5,9A7,7 0 0,1 12,2M12,4A5,5 0 0,0 7,9C7,10 7,12 12,18.71C17,12 17,10 17,9A5,5 0 0,0 12,4Z"],[1,"text-xs","text-gray-400/80","hover:text-gray-400"],["d","M12,15C12.81,15 13.5,14.7 14.11,14.11C14.7,13.5 15,12.81 15,12C15,11.19 14.7,10.5 14.11,9.89C13.5,9.3 12.81,9 12,9C11.19,9 10.5,9.3 9.89,9.89C9.3,10.5 9,11.19 9,12C9,12.81 9.3,13.5 9.89,14.11C10.5,14.7 11.19,15 12,15M12,2C14.75,2 17.1,3 19.05,4.95C21,6.9 22,9.25 22,12V13.45C22,14.45 21.65,15.3 21,16C20.3,16.67 19.5,17 18.5,17C17.3,17 16.31,16.5 15.56,15.5C14.56,16.5 13.38,17 12,17C10.63,17 9.45,16.5 8.46,15.54C7.5,14.55 7,13.38 7,12C7,10.63 7.5,9.45 8.46,8.46C9.45,7.5 10.63,7 12,7C13.38,7 14.55,7.5 15.54,8.46C16.5,9.45 17,10.63 17,12V13.45C17,13.86 17.16,14.22 17.46,14.53C17.76,14.84 18.11,15 18.5,15C18.92,15 19.27,14.84 19.57,14.53C19.87,14.22 20,13.86 20,13.45V12C20,9.81 19.23,7.93 17.65,6.35C16.07,4.77 14.19,4 12,4C9.81,4 7.93,4.77 6.35,6.35C4.77,7.93 4,9.81 4,12C4,14.19 4.77,16.07 6.35,17.65C7.93,19.23 9.81,20 12,20H17V22H12C9.25,22 6.9,21 4.95,19.05C3,17.1 2,14.75 2,12C2,9.25 3,6.9 4.95,4.95C6.9,3 9.25,2 12,2Z"]],template:function(f,n){1&f&&i.YNc(0,de,7,5,"div",0),2&f&&i.Q6J("ngIf",n.visitOff&&n.visitOff.length>0)},directives:[u.O5,u.sg],pipes:[F.X$],styles:[""]}),T})(),q=(()=>{class T{constructor(){const f=new Date;this.anioactual=f.getFullYear()}ngOnInit(){}}return T.\u0275fac=function(f){return new(f||T)},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-footer"]],decls:2,vars:1,template:function(f,n){1&f&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&f&&(i.xp6(1),i.hij("\xa9 ",n.anioactual,". Mentors International. Version 2.0."))},styles:[""]}),T})();function H(T,x){if(1&T&&(i.TgZ(0,"div",5)(1,"div",6)(2,"p",4),i._UZ(3,"i",7),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"p",8),i._uU(7),i.ALo(8,"translate"),i.qZA()()()),2&T){const f=x.$implicit;i.xp6(1),i.Q6J("routerLink",f.page),i.xp6(2),i.Tol(f.icono),i.xp6(1),i.hij(" ",i.lcZ(5,5,f.titulo),""),i.xp6(3),i.hij(" ",i.lcZ(8,7,f.texto)," ")}}let d=(()=>{class T{constructor(f,n,N){this.translate=f,this.dashSvc=n,this.ambienteService=N,this.arrDashboard=[]}ngOnInit(){var f=this;return(0,e.Z)(function*(){f.getDashboard(),f.ambienteService.getTema$().subscribe(n=>{f.tema=n})})()}getDashboard(){var f=this;return(0,e.Z)(function*(){f.arrDashboard=yield f.dashSvc.getDashboard()})()}}return T.\u0275fac=function(f){return new(f||T)(i.Y36(F.sK),i.Y36(U),i.Y36($.j))},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-dashboard"]],decls:10,vars:1,consts:[[1,""],[1,"relative","grid","gap-5","sm:grid-cols-2","lg:grid-cols-4"],["class","cursor-pointer dark:bg-gray-800 flex flex-col justify-between overflow-hidden  text-left transition-shadow duration-200 rounded shadow-xl group hover:shadow-2xl",4,"ngFor","ngForOf"],[1,"header","flex","flex-col"],[1,"mb-2","font-bold","dark:text-white"],[1,"cursor-pointer","dark:bg-gray-800","flex","flex-col","justify-between","overflow-hidden","text-left","transition-shadow","duration-200","rounded","shadow-xl","group","hover:shadow-2xl"],[1,"p-5",3,"routerLink"],["aria-hidden","true",1,"w-10","h-10","text-deep-purple-accent-400"],[1,"text-sm","leading-5","text-gray-900","dark:text-gray-100"]],template:function(f,n){1&f&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,H,9,9,"div",2),i.qZA()(),i._UZ(3,"app-transfers")(4,"app-visit-offline")(5,"br")(6,"br"),i.TgZ(7,"footer",3)(8,"p",4),i._UZ(9,"app-footer"),i.qZA()()),2&f&&(i.xp6(2),i.Q6J("ngForOf",n.arrDashboard))},directives:[u.sg,t.rH,I,me,q],pipes:[F.X$],styles:["footer[_ngcontent-%COMP%]{position:fixed;text-align:center;left:0px;bottom:0px;height:24px;width:100%}"]}),T})();var l=p(9327),h=p(2313),r=p(5041);const _=function(){return["/"]},b=function(){return["/staff"]},C=function(){return["/staff/addstaff"]},Q=function(){return["/client"]},Y=function(){return["/client/addclient"]},B=function(){return["/groups"]},ee=function(){return["/groups/add"]},K=function(){return["/reports/historicoMentor"]},ie=function(){return["construction"]};function le(T,x){if(1&T){const f=i.EpF();i.TgZ(0,"div",39)(1,"button",40),i.NdJ("click",function(){return i.CHM(f),i.oxw().menumobil=!1}),i.TgZ(2,"span",41),i._uU(3),i.ALo(4,"translate"),i.qZA(),i.O4$(),i.TgZ(5,"svg",42),i._UZ(6,"path",43),i.qZA()(),i.kcU(),i.TgZ(7,"ul",44)(8,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(9,"a",45),i._uU(10),i.ALo(11,"translate"),i.qZA()(),i.TgZ(12,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(13,"a",46),i._uU(14),i.ALo(15,"translate"),i.qZA()(),i.TgZ(16,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(17,"a",46),i._uU(18),i.ALo(19,"translate"),i.qZA()(),i.TgZ(20,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(21,"a",46),i._uU(22),i.ALo(23,"translate"),i.qZA()(),i.TgZ(24,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(25,"a",46),i._uU(26),i.ALo(27,"translate"),i.qZA()(),i.TgZ(28,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(29,"a",46),i._uU(30),i.ALo(31,"translate"),i.qZA()(),i.TgZ(32,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(33,"a",46),i._uU(34),i.ALo(35,"translate"),i.qZA()(),i.TgZ(36,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(37,"a",46),i._uU(38),i.ALo(39,"translate"),i.qZA()(),i.TgZ(40,"li",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().mouseleavemenu()}),i.TgZ(41,"a",47),i.NdJ("click",function(){return i.CHM(f),i.oxw().logout()}),i._uU(42),i.ALo(43,"translate"),i.qZA()()()()}2&T&&(i.xp6(3),i.Oqu(i.lcZ(4,19,"labels.close_panel")),i.xp6(6),i.Q6J("routerLink",i.DdM(39,_)),i.xp6(1),i.Oqu(i.lcZ(11,21,"labels.home")),i.xp6(3),i.Q6J("routerLink",i.DdM(40,b)),i.xp6(1),i.Oqu(i.lcZ(15,23,"labels.staff")),i.xp6(3),i.Q6J("routerLink",i.DdM(41,C)),i.xp6(1),i.hij(" ",i.lcZ(19,25,"labels.add_staff")," "),i.xp6(3),i.Q6J("routerLink",i.DdM(42,Q)),i.xp6(1),i.Oqu(i.lcZ(23,27,"labels.client")),i.xp6(3),i.Q6J("routerLink",i.DdM(43,Y)),i.xp6(1),i.hij(" ",i.lcZ(27,29,"labels.add_client")," "),i.xp6(3),i.Q6J("routerLink",i.DdM(44,B)),i.xp6(1),i.hij(" ",i.lcZ(31,31,"labels.groups.tittle")," "),i.xp6(3),i.Q6J("routerLink",i.DdM(45,ee)),i.xp6(1),i.hij(" ",i.lcZ(35,33,"labels.groups.add_groups")," "),i.xp6(3),i.Q6J("routerLink",i.DdM(46,K)),i.xp6(1),i.hij(" ",i.lcZ(39,35,"labels.analitycs")," "),i.xp6(3),i.Q6J("routerLink",i.DdM(47,ie)),i.xp6(1),i.Oqu(i.lcZ(43,37,"labels.logout")))}function se(T,x){if(1&T){const f=i.EpF();i.TgZ(0,"div",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().cambiartema()}),i.O4$(),i.TgZ(1,"svg",48),i._UZ(2,"path",49),i.qZA()()}}function he(T,x){if(1&T){const f=i.EpF();i.TgZ(0,"div",27),i.NdJ("click",function(){return i.CHM(f),i.oxw().cambiartema()}),i.O4$(),i.TgZ(1,"svg",50),i._UZ(2,"path",51),i.qZA()()}}function oe(T,x){1&T&&(i.TgZ(0,"li",21)(1,"a",52),i._UZ(2,"i",53),i.TgZ(3,"span",19),i._uU(4),i.ALo(5,"translate"),i.qZA()()()),2&T&&(i.Q6J("routerLink",i.DdM(4,b)),i.xp6(4),i.Oqu(i.lcZ(5,2,"labels.staff")))}function ge(T,x){if(1&T){const f=i.EpF();i.O4$(),i.kcU(),i.TgZ(0,"div",54)(1,"form",55)(2,"ul")(3,"li")(4,"ul",56)(5,"li",57),i.NdJ("click",function(){return i.CHM(f),i.oxw().changeLang("en")}),i._uU(6),i.ALo(7,"translate"),i.qZA(),i.TgZ(8,"li",57),i.NdJ("click",function(){return i.CHM(f),i.oxw().changeLang("es")}),i._uU(9),i.ALo(10,"translate"),i.qZA(),i.TgZ(11,"li",57),i.NdJ("click",function(){return i.CHM(f),i.oxw().changeLang("km")}),i._uU(12),i.ALo(13,"translate"),i.qZA()()()()()()}2&T&&(i.xp6(6),i.hij("",i.lcZ(7,3,"language.en")," "),i.xp6(3),i.hij(" ",i.lcZ(10,5,"language.es")," "),i.xp6(3),i.hij("",i.lcZ(13,7,"language.km")," "))}function _e(T,x){if(1&T){const f=i.EpF();i.O4$(),i.kcU(),i.TgZ(0,"div",58),i.NdJ("mouseleave",function(){return i.CHM(f),i.oxw().mouseleave()}),i.TgZ(1,"ul",59)(2,"li")(3,"a",60),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"li")(7,"a",60),i._uU(8),i.ALo(9,"translate"),i.qZA()(),i.TgZ(10,"li"),i._UZ(11,"hr",61),i.qZA(),i.TgZ(12,"li")(13,"a",62),i.NdJ("click",function(){return i.CHM(f),i.oxw().logout()}),i._uU(14),i.ALo(15,"translate"),i.qZA()()()()}2&T&&(i.xp6(3),i.Q6J("routerLink",i.DdM(11,ie)),i.xp6(1),i.Oqu(i.lcZ(5,5,"labels.my_account")),i.xp6(3),i.Q6J("routerLink",i.DdM(12,ie)),i.xp6(1),i.Oqu(i.lcZ(9,7,"labels.notifications")),i.xp6(6),i.Oqu(i.lcZ(15,9,"labels.logout")))}let Ae=(()=>{class T{constructor(f,n,N,M,S){this.translate=f,this.authenticationService=n,this.sanitizer=N,this.AppComponentInst=M,this.ambienteService=S,this.temadark=!1,this.verLang=!1,this.menumobil=!1,this.nombreusuario="",this.menu=!1,this.vermenu=!1,this.menumobil=!1,this.admin=!1,this.support=!1,this.tema=document.documentElement.classList.contains("dark")?"dark":"light"}ngOnInit(){(0,Z.R)(window,"offline").pipe((0,j.b)(100)).subscribe(f=>{this.netStatus=f.type}),(0,Z.R)(window,"online").pipe((0,j.b)(100)).subscribe(f=>{this.netStatus=f.type}),this.ambienteService.getTema$().subscribe(f=>{this.tema=f}),this.getInicializando()}getSantizeUrl(f){return this.sanitizer.bypassSecurityTrustUrl(f)}capitalizeFirstLetter(f){return f.charAt(0).toUpperCase()+f.slice(1)}getInicializando(){var f,n;this.bandera=null===(f=localStorage.getItem("bandera"))||void 0===f?void 0:f.replace(/['"]+/g,""),this.pais=null===(n=localStorage.getItem("pais"))||void 0===n?void 0:n.replace(/['"]+/g,"");let N=localStorage.getItem("user");N&&(this.usuario=JSON.parse(N)),this.usuario.permissions.filter(M=>{(M.includes("ALL_FUNCTIONS")||M.includes("READ_STAFF"))&&(this.admin=!0)}),this.nombreusuario=this.capitalizeFirstLetter(this.usuario.username)}logout(){this.authenticationService.logout()}cerrarmenu(){this.menu=!1}mouseleave(){this.vermenu=!1,this.menumobil=!1}SwitchMenu(){this.menumobil=!this.menumobil}mouseleavemenu(){this.menumobil=!1,this.vermenu=!1}cambiartema(){this.ambienteService.changeTema()}changeLang(f){this.translate.use(f)}cambiar(){this.verLang=!this.verLang}}return T.\u0275fac=function(f){return new(f||T)(i.Y36(F.sK),i.Y36(l.$),i.Y36(h.H7),i.Y36(r.y),i.Y36($.j))},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-header"]],decls:79,vars:50,consts:[[1,"fixed","w-full","z-10","top-0","shadow",3,"ngClass"],[1,"flex","justify-between",3,"mouseleave"],[1,"p-2"],[1,"flex"],[1,"flex","lg:hidden","items-center"],[1,"outline-none","mobile-menu-button",3,"click"],["x-show","!showMenu","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","viewBox","0 0 24 24","stroke","currentColor",1,"w-6","h-6","text-gray-500"],["d","M4 6h16M4 12h16M4 18h16"],[1,"flex","text-gray-100","text-base","xl:text-xl","no-underline","hover:no-underline","font-bold",3,"routerLink"],["src","../../../assets/img/logo/mentorplusicon.svg","alt","Mentor+",1,"h-7","w-7","mx-5"],["class","mobile-menu pt-2 z-40",4,"ngIf"],[1,"p-2","self-center"],[1,"block","text-gray-100","text-base","xl:text-xl","no-underline","hover:no-underline","font-bold","self-center","text-center","items-center"],[3,"click",4,"ngIf"],["id","nav-content",1,"w-full","flex-grow","lg:flex","lg:items-center","lg:w-auto","hidden","mt-2","lg:mt-0","z-20"],[1,"list-reset","lg:flex","flex-1","items-center","px-4","md:px-0"],[1,"mr-6","my-2","md:my-0"],[1,"block","py-1","md:py-3","pl-1","align-middle","text-blue-400","no-underline","hover:text-gray-100","border-b-2","border-blue-400","hover:border-blue-400",3,"routerLink"],[1,"fas","fa-home","fa-fw","mr-3","text-blue-400"],[1,"pb-1","md:pb-0","text-sm"],["class","mr-6 my-2 md:my-0",3,"routerLink",4,"ngIf"],[1,"mr-6","my-2","md:my-0",3,"routerLink"],[1,"block","py-1","md:py-3","pl-1","align-middle","text-gray-500","no-underline","hover:text-gray-100","border-b-2","border-gray-900","hover:border-purple-400"],[1,"fa","fa-envelope","fa-fw","mr-3"],[1,"block","py-1","md:py-3","pl-1","align-middle","text-gray-500","no-underline","hover:text-gray-100","border-b-2","border-gray-900","hover:border-green-400"],[1,"fas","fa-chart-area","fa-fw","mr-3"],[1,"flex","relative","float-right","z-50"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"globe-alt"],["stroke-linecap","round","stroke-linejoin","round","d","M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"],["class","relative top-10",4,"ngIf"],[1,"flex","items-center","focus:outline-none","mr-3"],["alt","Bandera",1,"w-7","mx-2",3,"src"],[1,"hidden","md:inline-block","text-gray-100"],[1,"hidden","sm:flex","relative","text-sm","text-gray-100","group",3,"click"],["id","userButton",1,"flex","items-center","focus:outline-none","mr-3"],["version","1.1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 129 129",0,"xmlns","xlink","http://www.w3.org/1999/xlink","enable-background","new 0 0 129 129",1,"pl-2","h-2","fill-current","text-gray-100"],["d","m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"],["class","pb-6  z-50 rounded shadow-md dark absolute top-0 right-0 min-w-full overflow-auto   group-hover:block",3,"mouseleave",4,"ngIf"],[1,"mobile-menu","pt-2","z-40"],["type","button",1,"absolute","right-0","top-0","m-4","rounded-md","text-white","hover:text-gray-100","focus:ring-2","focus:ring-indigo-500",3,"click"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","aria-hidden","true",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,""],[1,"w-screen","block","text-sm","px-2","py-4","text-white","hover:bg-green-500","transition","duration-300",3,"routerLink"],[1,"block","text-sm","px-2","py-4","text-white","hover:bg-green-500","transition","duration-300",3,"routerLink"],[1,"block","text-sm","px-2","py-4","text-white","hover:bg-green-500","transition","duration-300",3,"routerLink","click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","moon","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-moon","fa-w-16","h-7","w-7"],["fill","currentColor","d","M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","sun","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-sun","fa-w-16","h-7","w-7"],["fill","currentColor","d","M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"],[1,"block","py-1","md:py-3","pl-1","align-middle","text-gray-500","no-underline","hover:text-gray-100","border-b-2","border-gray-900","hover:border-pink-400"],[1,"fas","fa-tasks","fa-fw","mr-3"],[1,"relative","top-10"],[1,"dark","z-50","rounded-b","shadow-md","absolute","top-30","right-10","min-w-full","overflow-auto","group-hover:block"],[1,"overflow-hidden"],[1,"idioma",3,"click"],[1,"pb-6","z-50","rounded","shadow-md","dark","absolute","top-0","right-0","min-w-full","overflow-auto","group-hover:block",3,"mouseleave"],[1,"list-reset","pt-8"],[1,"px-4","py-2","block","text-gray-100","hover:bg-gray-800","no-underline","hover:no-underline",3,"routerLink"],[1,"border-t","mx-2","border-gray-400"],[1,"px-4","py-2","block","text-gray-100","hover:bg-gray-800","no-underline","hover:no-underline",3,"click"]],template:function(f,n){1&f&&(i.TgZ(0,"nav",0)(1,"div",1),i.NdJ("mouseleave",function(){return n.mouseleavemenu()}),i.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),i.NdJ("click",function(){return n.SwitchMenu()}),i.O4$(),i.TgZ(6,"svg",6),i._UZ(7,"path",7),i.qZA()()(),i.kcU(),i.TgZ(8,"a",8),i._UZ(9,"img",9),i.qZA()(),i.YNc(10,le,44,48,"div",10),i.qZA(),i.TgZ(11,"div",11)(12,"a",12),i.YNc(13,se,3,0,"div",13),i.YNc(14,he,3,0,"div",13),i.qZA()(),i.TgZ(15,"div",14)(16,"ul",15)(17,"li",16)(18,"a",17),i._UZ(19,"i",18),i.TgZ(20,"span",19),i._uU(21),i.ALo(22,"translate"),i.qZA()()(),i.YNc(23,oe,6,5,"li",20),i.TgZ(24,"li",21)(25,"a",22),i._UZ(26,"i",23),i.TgZ(27,"span",19),i._uU(28),i.ALo(29,"translate"),i.qZA()()(),i.TgZ(30,"li",21)(31,"a",22),i._UZ(32,"i",23),i.TgZ(33,"span",19),i._uU(34),i.ALo(35,"translate"),i.qZA()()(),i.TgZ(36,"li",21)(37,"a",22),i._UZ(38,"i",23),i.TgZ(39,"span",19),i._uU(40),i.ALo(41,"translate"),i.qZA()()(),i.TgZ(42,"li",21)(43,"a",22),i._UZ(44,"i",23),i.TgZ(45,"span",19),i._uU(46),i.ALo(47,"translate"),i.qZA()()(),i.TgZ(48,"li",21)(49,"a",22),i._UZ(50,"i",23),i.TgZ(51,"span",19),i._uU(52),i.ALo(53,"translate"),i.qZA()()(),i.TgZ(54,"li",21)(55,"a",24),i._UZ(56,"i",25),i.TgZ(57,"span",19),i._uU(58),i.ALo(59,"translate"),i.qZA()()()()(),i.TgZ(60,"div",2)(61,"div",26)(62,"button",27),i.NdJ("click",function(){return n.cambiar()}),i.O4$(),i.TgZ(63,"svg",28),i._UZ(64,"path",29),i.qZA()(),i.YNc(65,ge,14,9,"div",30),i.kcU(),i.TgZ(66,"div",31),i._UZ(67,"img",32),i.TgZ(68,"span",33),i._uU(69),i.qZA()(),i.TgZ(70,"div",34),i.NdJ("click",function(){return n.vermenu=!0}),i.TgZ(71,"button",35)(72,"span",33),i._uU(73),i.ALo(74,"translate"),i.qZA(),i.O4$(),i.TgZ(75,"svg",36)(76,"g"),i._UZ(77,"path",37),i.qZA()()(),i.YNc(78,_e,16,13,"div",38),i.qZA()()()()()),2&f&&(i.Q6J("ngClass","offline"===n.netStatus?" bg-Purple-900":"bg-gray-900 "),i.xp6(8),i.Q6J("routerLink",i.DdM(42,_)),i.xp6(2),i.Q6J("ngIf",n.menumobil),i.xp6(3),i.Q6J("ngIf","dark"!=n.tema),i.xp6(1),i.Q6J("ngIf","dark"==n.tema),i.xp6(4),i.Q6J("routerLink",i.DdM(43,_)),i.xp6(3),i.Oqu(i.lcZ(22,26,"labels.home")),i.xp6(2),i.Q6J("ngIf",n.admin),i.xp6(1),i.Q6J("routerLink",i.DdM(44,C)),i.xp6(4),i.Oqu(i.lcZ(29,28,"labels.add_staff")),i.xp6(2),i.Q6J("routerLink",i.DdM(45,Q)),i.xp6(4),i.Oqu(i.lcZ(35,30,"labels.client")),i.xp6(2),i.Q6J("routerLink",i.DdM(46,Y)),i.xp6(4),i.Oqu(i.lcZ(41,32,"labels.add_client")),i.xp6(2),i.Q6J("routerLink",i.DdM(47,B)),i.xp6(4),i.Oqu(i.lcZ(47,34,"labels.groups.tittle")),i.xp6(2),i.Q6J("routerLink",i.DdM(48,ee)),i.xp6(4),i.Oqu(i.lcZ(53,36,"labels.groups.add_groups")),i.xp6(2),i.Q6J("routerLink",i.DdM(49,K)),i.xp6(4),i.Oqu(i.lcZ(59,38,"labels.analitycs")),i.xp6(7),i.Q6J("ngIf",n.verLang),i.xp6(2),i.Q6J("src",n.bandera,i.LSH),i.xp6(2),i.Oqu(n.pais),i.xp6(4),i.AsE("",i.lcZ(74,40,"labels.hi"),", ",n.nombreusuario,""),i.xp6(5),i.Q6J("ngIf",n.vermenu))},directives:[u.mk,t.yS,u.O5,t.rH],pipes:[F.X$],styles:[".idioma[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity));-webkit-text-decoration-line:none;text-decoration-line:none}.idioma[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity));-webkit-text-decoration-line:none;text-decoration-line:none}.globe-alt[_ngcontent-%COMP%]{height:1.25rem;width:1.25rem;--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity))}"]}),T})();const xe=[{path:"",data:{titulo:"Staff",breadcrumb:[{label:"Home",url:""}]},component:(()=>{class T{constructor(f){this.loadSvc=f,this.loadSvc.cargarSelect(),this.loadSvc.cargarClientes()}}return T.\u0275fac=function(f){return new(f||T)(i.Y36(X.k))},T.\u0275cmp=i.Xpm({type:T,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"nav","print:hidden"],[1,"pt-10","dark:text-white","print:hidden"],[1,"px-3"]],template:function(f,n){1&f&&(i.TgZ(0,"nav",0),i._UZ(1,"app-header"),i.qZA(),i._UZ(2,"summary",1),i.TgZ(3,"main",2),i._UZ(4,"router-outlet"),i.qZA())},directives:[Ae,t.lC],styles:[""]}),T})(),children:[{path:"staff",data:{titulo:"Staff",breadcrumb:[{label:"Home",url:"/"},{label:"Staff",url:"staff"}]},loadChildren:()=>Promise.resolve().then(p.bind(p,6266)).then(T=>T.StaffModule)},{path:"client",data:{titulo:"Cliente",breadcrumb:[{label:"Home",url:"/"},{label:"Client",url:"/client"}]},loadChildren:()=>Promise.all([p.e(592),p.e(997)]).then(p.bind(p,2997)).then(T=>T.ClientModule)},{path:"construction",component:v},{path:"reports",data:{titulo:"Reportes",breadcrumb:[{label:"Home",url:"/"},{label:"Reportes",url:"/reports"}]},loadChildren:()=>Promise.all([p.e(592),p.e(353)]).then(p.bind(p,6353)).then(T=>T.ReportsModule)},{path:"groups",data:{titulo:"Grupos",breadcrumb:[{label:"Home",url:"/"},{label:"Grupos",url:"/groups"}]},loadChildren:()=>p.e(626).then(p.bind(p,626)).then(T=>T.GroupsModule)},{path:"loans",data:{titulo:"Prestamos",breadcrumb:[{label:"Home",url:"/"}]},loadChildren:()=>p.e(154).then(p.bind(p,5154)).then(T=>T.LoansModule)},{path:"",component:d}]}];let be=(()=>{class T{}return T.\u0275fac=function(f){return new(f||T)},T.\u0275mod=i.oAB({type:T}),T.\u0275inj=i.cJS({imports:[[t.Bz.forChild(xe)],t.Bz]}),T})();var Ze=p(6266),w=p(5879);let E=(()=>{class T{}return T.\u0275fac=function(f){return new(f||T)},T.\u0275mod=i.oAB({type:T}),T.\u0275inj=i.cJS({imports:[[u.ez,be,Ze.StaffModule,w.m]]}),T})()},6266:(ae,z,p)=>{p.r(z),p.d(z,{StaffModule:()=>Vt});var u=p(9808),t=p(433),i=p(7285),F=p(5861),v=p(3075),e=p(5e3),k=p(4647),J=p(932),U=p(4682),$=p(2340),A=p(520),P=p(9978),a=p(2290);let m=(()=>{class s{constructor(o,g,L){this.http=o,this.ambiente=g,this.toastSrv=L,this.fecha_hoy=new Date,this.ahora_ano=this.fecha_hoy.getFullYear(),this.ahora_mes=this.fecha_hoy.getMonth()+1,this.ahora_dia=this.fecha_hoy.getDate(),this.formateada=`${this.ahora_ano}-${this.ahora_mes}-${this.ahora_dia}`}guardarstaff(o){const g={officeId:o.officeId,firstname:o.firstname,lastname:o.lastname,isLoanOfficer:o.isLoanOfficer,mobileNo:o.mobileNo,isActive:!0,joiningDate:this.formateada,dateFormat:"yyyy-MM-dd",locale:"en"};return this.http.post(`${this.ambiente.getAmbiente()}${$.N.segundaparte}/staff`,g).toPromise()}}return s.\u0275fac=function(o){return new(o||s)(e.LFG(A.eN),e.LFG(P.j),e.LFG(a._W))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var c=p(7232),I=p(5041);function Z(s,y){if(1&s&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function j(s,y){1&s&&(e.TgZ(0,"p",26),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_office"),""))}function R(s,y){1&s&&(e.TgZ(0,"p",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.first_name_is_required"),""))}function X(s,y){1&s&&(e.TgZ(0,"p",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.last_name_is_required"),""))}function D(s,y){1&s&&(e.TgZ(0,"p",27),e._uU(1),e.qZA()),2&s&&(e.xp6(1),e.hij(" ","errors.number_needs_these_digits",""))}function ue(s,y){if(1&s&&(e.TgZ(0,"button",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw();e.s9C("value",o.formulario.valid),e.Q6J("disabled",!o.formulario.valid),e.xp6(1),e.hij(" ",e.lcZ(2,3,"buttons.save")," ")}}function ce(s,y){1&s&&(e.TgZ(0,"span",29),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"buttons.fill_out_the_form")," "))}let ne=(()=>{class s{constructor(o,g,L,pe,Te,Ie,Pe,we,Se,Ee){this.funcionesSvc=o,this.oficinaSvc=g,this.codesSvc=L,this.router=pe,this.fb=Te,this.officeSvc=Ie,this.staffSvc=Pe,this.toastSrv=we,this.translate=Se,this.AppComponentInst=Ee,this.rolmentor=!1,this.selectoficinas=[],this.LangSelected="";let Ne=localStorage.getItem("user");Ne&&(this.usuario=JSON.parse(Ne)),this.formulario=this.fb.group({officeId:new v.NI("",[v.kI.required]),firstname:new v.NI("",[v.kI.required,v.kI.minLength(2),v.kI.pattern("(^[Aa-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xd1\xf1]).*")]),lastname:new v.NI("",[v.kI.required,v.kI.minLength(2),v.kI.pattern("(^[Aa-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xd1\xf1]).*")]),isLoanOfficer:new v.NI(!1),mobileNo:new v.NI("")})}ngOnInit(){this.cargaroficina(),"MentorProfesional"==this.usuario.roles[0].name?(this.rolmentor=!0,this.formulario.patchValue({officeId:this.usuario.officeId,Staff:this.usuario.staffId,isStaff:!1})):this.rolmentor=!1}cargaroficina(){var o=this;return(0,F.Z)(function*(){o.selectoficinas=yield o.oficinaSvc.getAllOficinas()})()}getTabla(o){return this.codesSvc.getTabla(o)}onSubmit(){var o=this;return(0,F.Z)(function*(){yield o.staffSvc.guardarstaff(o.formulario.value).then(g=>{o.toastSrv.success(o.translate.instant("pop_up.alert.client.created_successfully")),o.router.navigate(["/staff/detalle",g.staffId]),o.formulario.reset()}).catch(g=>{o.toastSrv.error(o.translate.instant("pop_up.alert.client.error_saving"))})})()}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(k.X),e.Y36(J.a),e.Y36(U.a),e.Y36(t.F0),e.Y36(v.qu),e.Y36(J.a),e.Y36(m),e.Y36(a._W),e.Y36(c.sK),e.Y36(I.y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-add"]],decls:60,vars:23,consts:[[1,"flex","align-middle","justify-center",3,"formGroup","ngSubmit"],[1,"bg-gray-100","dark:bg-Stone-800","p-4","rounded-lg","max-w-3xl","md:w-full","justify-around","md:flex","md:flex-wrap"],[1,"md:w-1/2","px-4","py-6"],[1,"text-sm","font-medium","text-gray-500","dark:text-white"],[1,"mt-1","text-sm","text-gray-900"],["formControlName","officeId",1,"detalleinput"],[3,"value",4,"ngFor","ngForOf"],["class","mt-2 text-red-500 dark:text-red-300",4,"ngIf"],[1,"mt-1","text-sm"],[1,"mt-1","text-gray-900"],["formControlName","firstname","type","text",1,"detalleinput"],["class","mt-2 text-red-500",4,"ngIf"],["formControlName","lastname","type","text",1,"detalleinput"],["formControlName","mobileNo","type","tel",1,"detalleinput"],[1,"col-span-1","sm:w-80"],[1,"flex","items-center","justify-center","w-full","mb-12"],["for","toogleA",1,"flex","items-center","cursor-pointer"],[1,"relative"],["formControlName","isLoanOfficer","id","toogleA","type","checkbox",1,"sr-only"],[1,"w-10","h-4","bg-gray-400","rounded-full","shadow-inner"],[1,"dot","absolute","w-6","h-6","bg-white","rounded-full","shadow","-left-1","-top-1","transition"],[1,"ml-3","text-gray-700","font-medium"],[1,"flex","mt-4"],["type","button","type","submit","class","flex-1 bg-indigo-600 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",3,"disabled","value",4,"ngIf"],["class","flex-1 bg-gray-300 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ",4,"ngIf"],[3,"value"],[1,"mt-2","text-red-500","dark:text-red-300"],[1,"mt-2","text-red-500"],["type","button","type","submit",1,"flex-1","bg-indigo-600","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-indigo-500",3,"disabled","value"],[1,"flex-1","bg-gray-300","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500"]],template:function(o,g){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return g.onSubmit()}),e.TgZ(1,"aside",1)(2,"div",2)(3,"dt",3)(4,"small")(5,"b")(6,"i"),e._uU(7),e.ALo(8,"translate"),e.qZA()()()(),e.TgZ(9,"dd",4)(10,"select",5),e.YNc(11,Z,2,2,"option",6),e.qZA(),e.YNc(12,j,3,3,"p",7),e.qZA()(),e.TgZ(13,"div",2)(14,"dt",3)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",8)(21,"div",9),e._UZ(22,"input",10),e.qZA(),e.YNc(23,R,3,3,"p",11),e.qZA()(),e.TgZ(24,"div",2)(25,"dt",3)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",8)(32,"div",9),e._UZ(33,"input",12),e.qZA(),e.YNc(34,X,3,3,"p",11),e.qZA()(),e.TgZ(35,"div",2)(36,"dt",3)(37,"small")(38,"b")(39,"i"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"dd",8)(43,"div",9),e._UZ(44,"input",13),e.qZA(),e.YNc(45,D,2,1,"p",11),e.qZA()(),e.TgZ(46,"div",14)(47,"dd",8)(48,"div",15)(49,"label",16)(50,"div",17),e._UZ(51,"input",18)(52,"div",19)(53,"div",20),e.qZA(),e.TgZ(54,"div",21),e._uU(55),e.ALo(56,"translate"),e.qZA()()()()(),e.TgZ(57,"div",22),e.YNc(58,ue,3,5,"button",23),e.YNc(59,ce,3,3,"span",24),e.qZA()()()),2&o&&(e.Q6J("formGroup",g.formulario),e.xp6(7),e.Oqu(e.lcZ(8,13,"labels.office")),e.xp6(4),e.Q6J("ngForOf",g.selectoficinas),e.xp6(1),e.Q6J("ngIf",g.formulario.controls.officeId.errors&&g.formulario.controls.officeId.touched),e.xp6(6),e.Oqu(e.lcZ(19,15,"labels.first_name")),e.xp6(5),e.Q6J("ngIf",g.formulario.controls.firstname.errors&&g.formulario.controls.firstname.touched),e.xp6(6),e.Oqu(e.lcZ(30,17,"labels.last_name")),e.xp6(5),e.Q6J("ngIf",g.formulario.controls.lastname.errors&&g.formulario.controls.lastname.touched),e.xp6(6),e.Oqu(e.lcZ(41,19,"labels.mobile_number")),e.xp6(5),e.Q6J("ngIf",g.formulario.controls.mobileNo.errors&&g.formulario.controls.mobileNo.touched),e.xp6(10),e.hij(" ",e.lcZ(56,21,"labels.loan_officer")," "),e.xp6(3),e.Q6J("ngIf",g.formulario.valid),e.xp6(1),e.Q6J("ngIf",!g.formulario.valid))},directives:[v._Y,v.JL,v.sg,v.EJ,v.JJ,v.u,u.sg,v.YN,v.Kr,u.O5,v.Fj,v.Wl],pipes:[c.X$],styles:[""]}),s})(),re=(()=>{class s{constructor(o,g){this.http=o,this.ambiente=g}getAll(){return this.http.get(`${this.ambiente.getAmbiente()}${$.N.segundaparte}/staff`).toPromise()}getStaffWithMentoria(){return this.http.get(`${this.ambiente.getAmbiente()}${$.N.segundaparte}/runreports/ReporteClasificacionPorMentorTodos`).toPromise()}getByEstado(o){return this.http.get(`${this.ambiente.getAmbiente()}${$.N.segundaparte}/staff?status=${o}`)}getById(o){return this.http.get(`${this.ambiente.getAmbiente()}${$.N.segundaparte}/staff/${o}`).toPromise()}getMentorBySql(o){const g=(new A.LE).set("R_accountNo",o);return this.http.get(`${this.ambiente.getAmbiente()}${$.N.segundaparte}/runreports/ReporteSeleccionarMentor`,{params:g})}}return s.\u0275fac=function(o){return new(o||s)(e.LFG(A.eN),e.LFG(P.j))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var de=p(2313),me=p(5173),q=p(8045),H=p(887),d=p(5909);function l(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).agregarfoto()}),e.O4$(),e.TgZ(1,"svg",52),e._UZ(2,"path",53),e.qZA()()}}function h(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).cambiarfoto()}),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"path",56),e.qZA()()}}function r(s,y){if(1&s&&(e.TgZ(0,"div",15)(1,"p",17),e._uU(2),e.ALo(3,"translate"),e.ALo(4,"stringToDate"),e.qZA()()),2&s){const o=e.oxw(2);e.xp6(2),e.AsE("",e.lcZ(3,2,"labels.loan.close")," ",null!=o.arrPerfil&&o.arrPerfil.closedon_date?e.lcZ(4,4,null==o.arrPerfil?null:o.arrPerfil.closedon_date):"----------","")}}function _(s,y){if(1&s&&(e.TgZ(0,"div",57)(1,"div",58)(2,"span",59),e.O4$(),e.TgZ(3,"svg",60),e._UZ(4,"path",61),e.qZA()(),e.kcU(),e.TgZ(5,"span",62),e._uU(6),e.qZA()()()),2&s){const o=e.oxw(2);e.xp6(6),e.hij(" ",null!=o.arrPerfil&&o.arrPerfil.nombreGrupo?null==o.arrPerfil?null:o.arrPerfil.nombreGrupo:"----------"," ")}}function b(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"li",63)(1,"div",43)(2,"div")(3,"div",64)(4,"a",65),e._uU(5),e.qZA(),e.TgZ(6,"span",24),e.NdJ("click",function(){const pe=e.CHM(o).$implicit;return e.oxw(2).editarnota(pe)}),e._UZ(7,"img",66),e.qZA()(),e.TgZ(8,"div",67)(9,"p"),e._uU(10),e.qZA()(),e.TgZ(11,"div",68)(12,"span",69),e._uU(13),e.ALo(14,"stringToDate"),e.qZA()()()()()}if(2&s){const o=y.$implicit;e.xp6(5),e.hij(" ",o.updatedByUsername," "),e.xp6(5),e.hij("",o.note," "),e.xp6(3),e.Oqu(e.lcZ(14,3,o.updatedOn))}}function C(s,y){if(1&s&&(e.TgZ(0,"button",70),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.notaform.valid),e.xp6(1),e.Oqu(e.lcZ(2,2,"labels.comments"))}}function Q(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8),e._UZ(6,"img",9),e.qZA(),e.TgZ(7,"div",10)(8,"p",11),e._UZ(9,"span",12),e.qZA(),e.YNc(10,l,3,0,"button",13),e.YNc(11,h,3,0,"button",14),e.qZA(),e.TgZ(12,"div",15)(13,"h3",16),e._uU(14),e.qZA(),e.TgZ(15,"p",17),e._uU(16),e.ALo(17,"stringToDate"),e.qZA()(),e.YNc(18,r,5,6,"div",18),e.TgZ(19,"div",19)(20,"span",20),e.O4$(),e.TgZ(21,"svg",21),e._UZ(22,"path",22),e.qZA()(),e.kcU(),e.TgZ(23,"span",23),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"span",24),e.NdJ("click",function(){return e.CHM(o),e.oxw().editarclasificacion()}),e.O4$(),e.TgZ(27,"svg",25),e._UZ(28,"path",26),e.qZA()()(),e.kcU(),e.TgZ(29,"ul",27)(30,"li",28)(31,"span",29),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"span",30),e.NdJ("click",function(){return e.CHM(o),e.oxw().editarclasificacion()}),e.TgZ(35,"span",31),e._uU(36),e.qZA()()(),e.TgZ(37,"li",28)(38,"span",29),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"span",32),e._uU(42),e.qZA()()()()(),e._UZ(43,"div",33),e.YNc(44,_,7,1,"div",34),e._UZ(45,"div",33),e.TgZ(46,"section",35)(47,"div",36)(48,"div",37)(49,"div",38)(50,"h2",39),e._uU(51),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",38)(54,"ul",40),e.YNc(55,b,15,5,"li",41),e.qZA()()(),e.TgZ(56,"div",42)(57,"div",43)(58,"div",44)(59,"form",45),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitGuardarnota()}),e.TgZ(60,"div"),e._UZ(61,"textarea",46),e.qZA(),e.TgZ(62,"div",47),e._UZ(63,"a",48),e.YNc(64,C,3,4,"button",49),e.qZA()()()()()()()(),e._UZ(65,"div",33),e.TgZ(66,"section",50),e._UZ(67,"router-outlet"),e.qZA()()()}if(2&s){const o=e.oxw();e.xp6(6),e.Q6J("src",o.FotoPerfil?o.FotoPerfil:"assets/images/user_placeholder.png",e.LSH),e.xp6(3),e.Q6J("ngClass",null!=o.arrPerfil&&o.arrPerfil.isActive?"bg-green-500":"bg-red-500"),e.xp6(1),e.Q6J("ngIf",!o.FotoPerfil),e.xp6(1),e.Q6J("ngIf",o.FotoPerfil),e.xp6(3),e.Oqu(null!=o.arrPerfil&&o.arrPerfil.displayName?null==o.arrPerfil?null:o.arrPerfil.displayName:"----------"),e.xp6(2),e.hij("joining Date ",null!=o.arrPerfil&&o.arrPerfil.joiningDate?e.lcZ(17,17,null==o.arrPerfil?null:o.arrPerfil.joiningDate):"----------"," "),e.xp6(2),e.Q6J("ngIf",null==o.arrPerfil?null:o.arrPerfil.closedon_date),e.xp6(6),e.Oqu(e.lcZ(25,19,"labels.mentoring")),e.xp6(8),e.Oqu(e.lcZ(33,21,"labels.id")),e.xp6(4),e.Oqu(null!=o.arrPerfil&&o.arrPerfil.id?null==o.arrPerfil?null:o.arrPerfil.id:"----------"),e.xp6(3),e.Oqu(e.lcZ(40,23,"labels.external_id")),e.xp6(3),e.Oqu(null!=o.arrPerfil&&o.arrPerfil.externalId?null==o.arrPerfil?null:o.arrPerfil.externalId:"----------"),e.xp6(2),e.Q6J("ngIf",null==o.arrPerfil?null:o.arrPerfil.miembros),e.xp6(7),e.Oqu(e.lcZ(52,25,"labels.note.tittle")),e.xp6(4),e.Q6J("ngForOf",o.arrNotas),e.xp6(4),e.Q6J("formGroup",o.notaform),e.xp6(5),e.Q6J("ngIf",o.notaform.valid)}}function Y(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.first_name_is_required")," "))}function B(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.middle_name_is_required")," "))}function ee(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1," pinche error "),e.qZA())}function K(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function ie(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.family_affinity_is_required"),""))}function le(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function se(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.marital_status_is_required"),""))}function he(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function oe(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.gender_is_required"),""))}function ge(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function _e(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.profession_is_required"),""))}function Ae(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.familyform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function ve(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitFamily()}),e.TgZ(12,"dl",79)(13,"div",80)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83),e._UZ(22,"input",84),e.qZA(),e.YNc(23,Y,3,3,"p",85),e.qZA()(),e.TgZ(24,"div",80)(25,"dt",81)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",82)(32,"div",83),e._UZ(33,"input",86),e.qZA(),e.YNc(34,B,3,3,"p",85),e.qZA()(),e.TgZ(35,"div",80)(36,"dt",81)(37,"small")(38,"b")(39,"i"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"dd",82)(43,"div",83),e._UZ(44,"input",87),e.qZA(),e.YNc(45,ee,2,0,"p",85),e.qZA()(),e.TgZ(46,"div",80)(47,"dt",81)(48,"small")(49,"b")(50,"i"),e._uU(51),e.ALo(52,"translate"),e.qZA()()()(),e.TgZ(53,"dd",82)(54,"div",83)(55,"select",88),e.YNc(56,K,2,2,"option",89),e.qZA()(),e.YNc(57,ie,3,3,"p",85),e.qZA()(),e.TgZ(58,"div",80)(59,"dt",81)(60,"small")(61,"b")(62,"i"),e._uU(63),e.ALo(64,"translate"),e.qZA()()()(),e.TgZ(65,"dd",82)(66,"div",83)(67,"select",90),e.YNc(68,le,2,2,"option",89),e.qZA()(),e.YNc(69,se,3,3,"p",85),e.qZA()(),e.TgZ(70,"div",80)(71,"dt",81)(72,"small")(73,"b")(74,"i"),e._uU(75),e.ALo(76,"translate"),e.qZA()()()(),e.TgZ(77,"dd",82)(78,"div",83)(79,"select",91),e.YNc(80,he,2,2,"option",89),e.qZA()(),e.YNc(81,oe,3,3,"p",85),e.qZA()(),e.TgZ(82,"div",80)(83,"dt",81)(84,"small")(85,"b")(86,"i"),e._uU(87),e.ALo(88,"translate"),e.qZA()()()(),e.TgZ(89,"dd",82)(90,"div",83)(91,"select",92),e.YNc(92,ge,2,2,"option",89),e.qZA()(),e.YNc(93,_e,3,3,"p",85),e.qZA()(),e.TgZ(94,"div",93)(95,"dt",81)(96,"small")(97,"b")(98,"i"),e._uU(99),e.ALo(100,"translate"),e.qZA()()()(),e.TgZ(101,"dd",82),e._uU(102),e.ALo(103,"stringToDate"),e.TgZ(104,"div",83),e._UZ(105,"input",94),e.ALo(106,"stringToDate"),e.qZA()()(),e.TgZ(107,"div",93)(108,"dt",81)(109,"small")(110,"b")(111,"i"),e._uU(112),e.ALo(113,"translate"),e.qZA()()()(),e.TgZ(114,"dd",82)(115,"div",83),e._UZ(116,"input",95),e.qZA()()(),e.TgZ(117,"div",96)(118,"dd",82)(119,"div",97)(120,"label",98)(121,"div",99),e._UZ(122,"input",100)(123,"div",101)(124,"div",102),e.qZA(),e.TgZ(125,"div",103),e._uU(126),e.ALo(127,"translate"),e.qZA()()()()()(),e.TgZ(128,"div",104)(129,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(130),e.ALo(131,"translate"),e.qZA(),e.YNc(132,Ae,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,27,"labels.editing_family_info")," "),e.xp6(6),e.Q6J("formGroup",o.familyform),e.xp6(7),e.hij("",e.lcZ(19,29,"labels.first_name")," *"),e.xp6(5),e.Q6J("ngIf",o.familyform.controls.firstName.errors&&o.familyform.controls.firstName.touched),e.xp6(6),e.hij("",e.lcZ(30,31,"labels.middle_name")," *"),e.xp6(5),e.Q6J("ngIf",o.familyform.controls.middleName.errors&&o.familyform.controls.middleName.touched),e.xp6(6),e.hij("",e.lcZ(41,33,"labels.last_name")," "),e.xp6(5),e.Q6J("ngIf",o.familyform.controls.lastName.errors&&o.familyform.controls.lastName.touched),e.xp6(6),e.hij("",e.lcZ(52,35,"labels.family_affinity")," *"),e.xp6(5),e.Q6J("ngForOf",o.selecttiporelacion),e.xp6(1),e.Q6J("ngIf",o.familyform.controls.relationshipId.errors&&o.familyform.controls.relationshipId.touched),e.xp6(6),e.hij("",e.lcZ(64,37,"labels.marital_status")," *"),e.xp6(5),e.Q6J("ngForOf",o.selectestadomarital),e.xp6(1),e.Q6J("ngIf",o.familyform.controls.maritalStatusId.errors&&o.familyform.controls.maritalStatusId.touched),e.xp6(6),e.hij("",e.lcZ(76,39,"labels.gender")," *"),e.xp6(5),e.Q6J("ngForOf",o.selectgenero),e.xp6(1),e.Q6J("ngIf",o.familyform.controls.genderId.errors&&o.familyform.controls.genderId.touched),e.xp6(6),e.hij("",e.lcZ(88,41,"labels.profession")," *"),e.xp6(5),e.Q6J("ngForOf",o.selectprofesion),e.xp6(1),e.Q6J("ngIf",o.familyform.controls.professionId.errors&&o.familyform.controls.professionId.touched),e.xp6(6),e.hij("",e.lcZ(100,43,"labels.date_of_birth")," *"),e.xp6(3),e.hij(" ",e.lcZ(103,45,o.familyform.value.dateOfBirth)," "),e.xp6(3),e.Q6J("value",e.lcZ(106,47,o.familyform.value.dateOfBirth)),e.xp6(7),e.hij("",e.lcZ(113,49,"labels.mobile_number")," *"),e.xp6(14),e.hij(" ",e.lcZ(127,51,"labels.is_dependent")," "),e.xp6(4),e.hij(" ",e.lcZ(131,53,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.familyform.valid)}}function xe(s,y){if(1&s&&e._UZ(0,"img",117),2&s){const o=e.oxw(2);e.Q6J("src",o.FotoPerfil?o.FotoPerfil:"assets/images/user_placeholder.png",e.LSH)}}function be(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"section")(1,"input",118),e.NdJ("change",function(L){return e.CHM(o),e.oxw(2).onselectfile(L)}),e.qZA()()}}function Ze(s,y){1&s&&e._UZ(0,"section")}function w(s,y){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,Ze,1,0,"section",0),e.qZA()),2&s){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.imageUrl)}}function E(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",121)(1,"a",122),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).getcroppedimage()}),e.O4$(),e.TgZ(2,"svg",123),e._UZ(3,"path",124),e.qZA()(),e.kcU(),e.TgZ(4,"a",122),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).rotateleft()}),e.O4$(),e.TgZ(5,"svg",125),e._UZ(6,"path",126),e.qZA()(),e.kcU(),e.TgZ(7,"a",122),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).rotateright()}),e.O4$(),e.TgZ(8,"svg",127),e._UZ(9,"path",128),e.qZA()(),e.kcU(),e.TgZ(10,"a",122),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).zoomout()}),e.O4$(),e.TgZ(11,"svg",129),e._UZ(12,"path",130),e.qZA()(),e.kcU(),e.TgZ(13,"a",122),e.NdJ("click",function(){return e.CHM(o),e.oxw(3).zoomin()}),e.O4$(),e.TgZ(14,"svg",129),e._UZ(15,"path",131),e.qZA()()()}}function T(s,y){if(1&s&&(e.TgZ(0,"div",119),e.YNc(1,E,16,0,"div",120),e.qZA()),2&s){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.verarea)}}function x(s,y){if(1&s&&(e.TgZ(0,"section"),e._UZ(1,"img",132),e.qZA()),2&s){const o=e.oxw(3);e.xp6(1),e.Q6J("src",o.croppedresult,e.LSH)}}function f(s,y){if(1&s&&(e.TgZ(0,"div"),e.YNc(1,x,2,1,"section",0),e.qZA()),2&s){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.croppedresult)}}function n(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(3);e.Q6J("disabled",!o.imagenform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function N(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",104)(1,"div")(2,"button",133),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).volverarecortar()}),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e.YNc(5,n,3,4,"button",106),e.qZA()}if(2&s){const o=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,2,"labels.crop_again")," "),e.xp6(2),e.Q6J("ngIf",o.imagenform.valid)}}function M(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",110),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitImagen()}),e.TgZ(12,"div",111)(13,"div",112)(14,"div",113),e.YNc(15,xe,1,1,"img",114),e.qZA(),e.YNc(16,be,2,0,"section",0),e.YNc(17,w,2,1,"div",0),e.YNc(18,T,2,1,"div",115),e.YNc(19,f,2,1,"div",0),e.qZA()(),e.YNc(20,N,6,4,"div",116),e.qZA()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,8,"labels.profile_picture")," "),e.xp6(6),e.Q6J("formGroup",o.imagenform),e.xp6(4),e.Q6J("ngIf",!o.imageUrl),e.xp6(1),e.Q6J("ngIf",o.verarea),e.xp6(1),e.Q6J("ngIf",o.verarea),e.xp6(1),e.Q6J("ngIf",o.imageUrl),e.xp6(1),e.Q6J("ngIf",!o.verarea),e.xp6(1),e.Q6J("ngIf",!o.verarea)}}function S(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.street_is_required"),""))}function O(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.address_is_required"),""))}function V(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function W(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.state_province_is_required"),""))}function te(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.direccionform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function G(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmit()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83),e._UZ(22,"input",135),e.qZA(),e.YNc(23,S,3,3,"p",85),e.qZA()(),e.TgZ(24,"div",80)(25,"dt",81)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",82)(32,"div",83),e._UZ(33,"input",136),e.qZA(),e.YNc(34,O,3,3,"p",85),e.qZA()(),e.TgZ(35,"div",80)(36,"dt",81)(37,"small")(38,"b")(39,"i"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"dd",82)(43,"div",83),e._UZ(44,"input",137),e.qZA()()(),e.TgZ(45,"div",80)(46,"dt",81)(47,"small")(48,"b")(49,"i"),e._uU(50),e.ALo(51,"translate"),e.qZA()()()(),e.TgZ(52,"dd",82)(53,"div",83),e._UZ(54,"input",138),e.qZA()()(),e.TgZ(55,"div",80)(56,"dt",81)(57,"small")(58,"b")(59,"i"),e._uU(60),e.ALo(61,"translate"),e.qZA()()()(),e.TgZ(62,"dd",82)(63,"div",83)(64,"select",139),e.YNc(65,V,2,2,"option",89),e.qZA()(),e.YNc(66,W,3,3,"p",85),e.qZA()(),e.TgZ(67,"div",93)(68,"dt",81)(69,"small")(70,"b")(71,"i"),e._uU(72),e.ALo(73,"translate"),e.qZA()()()(),e.TgZ(74,"dd",82)(75,"div",83),e._UZ(76,"input",140),e.qZA()()(),e.TgZ(77,"div",96)(78,"dt",81)(79,"small")(80,"b")(81,"i"),e._uU(82),e.ALo(83,"translate"),e.qZA()()()(),e.TgZ(84,"dd",82)(85,"div",97)(86,"label",98)(87,"div",99),e._UZ(88,"input",141)(89,"div",101)(90,"div",102),e.qZA(),e.TgZ(91,"div",103),e._uU(92),e.ALo(93,"translate"),e.qZA()()()()()(),e.TgZ(94,"div",104)(95,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.YNc(98,te,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.AsE(" ",e.lcZ(6,17,"labels.editing")," ",o.tipodireccion," "),e.xp6(6),e.Q6J("formGroup",o.direccionform),e.xp6(7),e.Oqu(e.lcZ(19,19,"labels.street")),e.xp6(5),e.Q6J("ngIf",o.direccionform.controls.street.errors&&o.direccionform.controls.street.touched),e.xp6(6),e.hij("",e.lcZ(30,21,"labels.address_line")," 1 *"),e.xp6(5),e.Q6J("ngIf",o.direccionform.controls.addressLine1.errors&&o.direccionform.controls.addressLine1.touched),e.xp6(6),e.hij("",e.lcZ(41,23,"labels.address_line")," 2"),e.xp6(10),e.hij("",e.lcZ(51,25,"labels.address_line")," 3"),e.xp6(10),e.hij("",e.lcZ(61,27,"labels.state_province")," "),e.xp6(5),e.Q6J("ngForOf",o.selectprovincia),e.xp6(1),e.Q6J("ngIf",o.direccionform.controls.stateProvinceId.errors&&o.direccionform.controls.stateProvinceId.touched),e.xp6(6),e.Oqu(e.lcZ(73,29,"labels.postal_code")),e.xp6(10),e.Oqu(e.lcZ(83,31,"labels.is_active")),e.xp6(10),e.hij(" ",e.lcZ(93,33,"labels.active")," "),e.xp6(4),e.hij(" ",e.lcZ(97,35,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.direccionform.valid)}}function fe(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.street_is_required"),""))}function ye(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.address_is_required"),""))}function Me(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Ce(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.state_province_is_required"),""))}function Le(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function qe(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.address_type_is_required"),""))}function ke(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.direccionform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function De(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",142)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitAgregarDireccion()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83),e._UZ(22,"input",135),e.qZA(),e.YNc(23,fe,3,3,"p",85),e.qZA()(),e.TgZ(24,"div",80)(25,"dt",81)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",82)(32,"div",83),e._UZ(33,"input",136),e.qZA(),e.YNc(34,ye,3,3,"p",85),e.qZA()(),e.TgZ(35,"div",80)(36,"dt",81)(37,"small")(38,"b")(39,"i"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"dd",82)(43,"div",83),e._UZ(44,"input",137),e.qZA()()(),e.TgZ(45,"div",80)(46,"dt",81)(47,"small")(48,"b")(49,"i"),e._uU(50),e.ALo(51,"translate"),e.qZA()()()(),e.TgZ(52,"dd",82)(53,"div",83),e._UZ(54,"input",138),e.qZA()()(),e.TgZ(55,"div",80)(56,"dt",81)(57,"small")(58,"b")(59,"i"),e._uU(60),e.ALo(61,"translate"),e.qZA()()()(),e.TgZ(62,"dd",82)(63,"div",83)(64,"select",139),e.YNc(65,Me,2,2,"option",89),e.qZA()(),e.YNc(66,Ce,3,3,"p",85),e.qZA()(),e.TgZ(67,"div",80)(68,"dt",81)(69,"small")(70,"b")(71,"i"),e._uU(72),e.ALo(73,"translate"),e.qZA()()()(),e.TgZ(74,"dd",82)(75,"div",83)(76,"select",143),e.YNc(77,Le,2,2,"option",89),e.qZA()(),e.YNc(78,qe,3,3,"p",85),e.qZA()(),e.TgZ(79,"div",93)(80,"dt",81)(81,"small")(82,"b")(83,"i"),e._uU(84),e.ALo(85,"translate"),e.qZA()()()(),e.TgZ(86,"dd",82)(87,"div",83),e._UZ(88,"input",140),e.qZA()()()(),e.TgZ(89,"div",104)(90,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.YNc(93,ke,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,17,"labels.adding_address")," "),e.xp6(6),e.Q6J("formGroup",o.direccionform),e.xp6(7),e.Oqu(e.lcZ(19,19,"labels.street")),e.xp6(5),e.Q6J("ngIf",o.direccionform.controls.street.errors&&o.direccionform.controls.street.touched),e.xp6(6),e.hij("",e.lcZ(30,21,"labels.address_line")," 1 *"),e.xp6(5),e.Q6J("ngIf",o.direccionform.controls.addressLine1.errors&&o.direccionform.controls.addressLine1.touched),e.xp6(6),e.hij("",e.lcZ(41,23,"labels.address_line")," 2"),e.xp6(10),e.hij("",e.lcZ(51,25,"labels.address_line")," 3"),e.xp6(10),e.hij("",e.lcZ(61,27,"labels.state_province")," "),e.xp6(5),e.Q6J("ngForOf",o.selectprovincia),e.xp6(1),e.Q6J("ngIf",o.direccionform.controls.stateProvinceId.errors&&o.direccionform.controls.stateProvinceId.touched),e.xp6(6),e.hij("",e.lcZ(73,29,"labels.address_type")," * "),e.xp6(5),e.Q6J("ngForOf",o.selecttipodireccion),e.xp6(1),e.Q6J("ngIf",o.direccionform.controls.addressTypeId.errors&&o.direccionform.controls.addressTypeId.touched),e.xp6(6),e.Oqu(e.lcZ(85,31,"labels.postal_code")),e.xp6(7),e.hij(" ",e.lcZ(92,33,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.direccionform.valid)}}function Fe(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.note.required"),""))}function Je(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.notaform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function Re(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",142)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitActualizarNota()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83),e._UZ(22,"input",144),e.qZA(),e.YNc(23,Fe,3,3,"p",85),e.qZA()()(),e.TgZ(24,"div",104)(25,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.YNc(28,Je,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij("",e.lcZ(6,6,"labels.note.editing")," "),e.xp6(6),e.Q6J("formGroup",o.notaform),e.xp6(7),e.hij("",e.lcZ(19,8,"labels.note.label")," *"),e.xp6(5),e.Q6J("ngIf",o.notaform.controls.nota.errors&&o.notaform.controls.nota.touched),e.xp6(3),e.hij(" ",e.lcZ(27,10,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.notaform.valid)}}function $e(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function He(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.office_is_required"),""))}function je(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.note.required"),""))}function Qe(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.transferenciaform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function Ve(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",145)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitGuardarTransferencia()}),e.TgZ(12,"dl",146)(13,"div",80)(14,"dt",81)(15,"small")(16,"b"),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"dd",82)(20,"div",83)(21,"select",147),e.YNc(22,$e,2,2,"option",89),e.qZA()(),e.YNc(23,He,3,3,"p",85),e.qZA()(),e.TgZ(24,"div")(25,"dt",81)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",82)(32,"div",83),e._UZ(33,"input",144),e.qZA(),e.YNc(34,je,3,3,"p",85),e.qZA()()(),e.TgZ(35,"div",104)(36,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.YNc(39,Qe,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,9,"labels.transfer_client.tittle")," "),e.xp6(6),e.Q6J("formGroup",o.transferenciaform),e.xp6(6),e.hij("",e.lcZ(18,11,"labels.office")," *"),e.xp6(5),e.Q6J("ngForOf",o.selectoficina),e.xp6(1),e.Q6J("ngIf",o.transferenciaform.controls.oficina.errors&&o.transferenciaform.controls.oficina.touched),e.xp6(6),e.hij("",e.lcZ(30,13,"labels.note.tittle")," *"),e.xp6(5),e.Q6J("ngIf",o.transferenciaform.controls.nota.errors&&o.transferenciaform.controls.nota.touched),e.xp6(3),e.hij(" ",e.lcZ(38,15,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.transferenciaform.valid)}}function Ye(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.document_number_is_required"),""))}function Be(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.documentoform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function ze(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitDocumento()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83),e._UZ(22,"input",148),e.qZA(),e.YNc(23,Ye,3,3,"p",85),e.qZA()(),e.TgZ(24,"div",134)(25,"dt",81)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",82)(32,"div",83),e._UZ(33,"input",149),e.qZA()()()(),e.TgZ(34,"div",104)(35,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.YNc(38,Be,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.AsE(" ",e.lcZ(6,8,"labels.editing")," ",o.tipodireccion," "),e.xp6(6),e.Q6J("formGroup",o.documentoform),e.xp6(7),e.hij("",e.lcZ(19,10,"labels.document_number")," *"),e.xp6(5),e.Q6J("ngIf",o.documentoform.controls.documentKey.errors&&o.documentoform.controls.documentKey.touched),e.xp6(6),e.Oqu(e.lcZ(30,12,"labels.description")),e.xp6(7),e.hij(" ",e.lcZ(37,14,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.documentoform.valid)}}function We(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij("",o.name," ")}}function Ke(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.document_number_is_required"),""))}function Ge(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.documentoform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function Xe(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitGuardarDocumento()}),e.TgZ(12,"dl",146)(13,"div")(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83)(22,"select",150),e.YNc(23,We,2,2,"option",89),e.qZA()()()(),e.TgZ(24,"div")(25,"dt",81)(26,"small")(27,"b")(28,"i"),e._uU(29),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"dd",82)(32,"div",83),e._UZ(33,"input",148),e.qZA(),e.YNc(34,Ke,3,3,"p",85),e.qZA()(),e.TgZ(35,"div")(36,"dt",81)(37,"small")(38,"b")(39,"i"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"dd",82)(43,"div",83),e._UZ(44,"input",149),e.qZA()()()(),e.TgZ(45,"div",104)(46,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.YNc(49,Ge,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,9,"labels.adding_document")," "),e.xp6(6),e.Q6J("formGroup",o.documentoform),e.xp6(7),e.hij("",e.lcZ(19,11,"labels.document_type")," *"),e.xp6(5),e.Q6J("ngForOf",o.selectdocumento),e.xp6(6),e.hij("",e.lcZ(30,13,"labels.document_number")," *"),e.xp6(5),e.Q6J("ngIf",o.documentoform.controls.documentKey.errors&&o.documentoform.controls.documentKey.touched),e.xp6(6),e.Oqu(e.lcZ(41,15,"labels.description")),e.xp6(7),e.hij(" ",e.lcZ(48,17,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.documentoform.valid)}}function et(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function tt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_clasification_type"),""))}function it(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function ot(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_client_type")," "))}function at(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.clasificacionform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function nt(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitClasificacion()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83)(22,"select",151),e.YNc(23,et,2,2,"option",89),e.qZA()(),e.YNc(24,tt,3,3,"p",85),e.qZA()(),e.TgZ(25,"div",134)(26,"dt",81)(27,"small")(28,"b")(29,"i"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()(),e.TgZ(32,"dd",82)(33,"div",83)(34,"select",152),e.YNc(35,it,2,2,"option",89),e.qZA(),e.YNc(36,ot,3,3,"p",85),e.qZA()()()(),e.TgZ(37,"div",104)(38,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.YNc(41,at,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,10,"labels.client_clasification")," "),e.xp6(6),e.Q6J("formGroup",o.clasificacionform),e.xp6(7),e.hij("",e.lcZ(19,12,"labels.client_clasification")," *"),e.xp6(5),e.Q6J("ngForOf",o.selectclasificacioncliente),e.xp6(1),e.Q6J("ngIf",o.clasificacionform.controls.clientClassification.errors&&o.clasificacionform.controls.clientClassification.touched),e.xp6(6),e.hij("",e.lcZ(31,14,"labels.client_type")," *"),e.xp6(5),e.Q6J("ngForOf",o.selecttipocliente),e.xp6(1),e.Q6J("ngIf",o.clasificacionform.controls.clientType.errors&&o.clasificacionform.controls.clientType.touched),e.xp6(3),e.hij(" ",e.lcZ(40,16,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.clasificacionform.valid)}}function rt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.personal_data"),"."))}function st(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.last_name_is_required"),""))}function lt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.number_needs_these_digits"),""))}function ct(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.date_of_birth_is_required"),""))}function dt(s,y){if(1&s&&(e.TgZ(0,"option",167),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.hij("",o.name," ")}}function ut(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.gender_is_required"),""))}function pt(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function ft(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_client_type"),""))}function _t(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function mt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_clasification_type"),""))}function ht(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function gt(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function vt(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function xt(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function bt(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.perfilform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function At(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitEditarPerfil()}),e.TgZ(12,"dl",153)(13,"div",80)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83),e._UZ(22,"input",154),e.qZA()()(),e.TgZ(23,"div",93)(24,"dt",81)(25,"small")(26,"b")(27,"i"),e._uU(28),e.ALo(29,"translate"),e.qZA()()()(),e.TgZ(30,"dd",82)(31,"div",83),e._UZ(32,"input",155),e.qZA(),e.YNc(33,rt,3,3,"p",85),e.qZA()(),e.TgZ(34,"div",93)(35,"dt",81)(36,"small")(37,"b")(38,"i"),e._uU(39),e.ALo(40,"translate"),e.qZA()()()(),e.TgZ(41,"dd",82)(42,"div",83),e._UZ(43,"input",156),e.qZA()()(),e.TgZ(44,"div",93)(45,"dt",81)(46,"small")(47,"b")(48,"i"),e._uU(49),e.ALo(50,"translate"),e.qZA()()()(),e.TgZ(51,"dd",82)(52,"div",83),e._UZ(53,"input",157),e.qZA(),e.YNc(54,st,3,3,"p",85),e.qZA()(),e.TgZ(55,"div",93)(56,"dt",81)(57,"small")(58,"b")(59,"i"),e._uU(60),e.ALo(61,"translate"),e.qZA()()()(),e.TgZ(62,"dd",82)(63,"div",83),e._UZ(64,"input",158),e.qZA(),e.YNc(65,lt,3,3,"p",85),e.qZA()(),e.TgZ(66,"div",93)(67,"dt",81)(68,"small")(69,"b")(70,"i"),e._uU(71),e.ALo(72,"translate"),e.qZA()()(),e._uU(73),e.ALo(74,"stringToDate"),e.qZA(),e.TgZ(75,"dd",82)(76,"div",83),e._UZ(77,"input",94),e.ALo(78,"stringToDate"),e.qZA(),e.YNc(79,ct,3,3,"p",85),e.qZA()(),e.TgZ(80,"div",93)(81,"dt",81)(82,"small")(83,"b")(84,"i"),e._uU(85),e.ALo(86,"translate"),e.qZA()()()(),e.TgZ(87,"dd",159)(88,"select",160),e.YNc(89,dt,2,2,"option",161),e.qZA(),e.YNc(90,ut,3,3,"p",85),e.qZA()(),e.TgZ(91,"div",93)(92,"dt",81)(93,"small")(94,"b")(95,"i"),e._uU(96),e.ALo(97,"translate"),e.qZA()()()(),e.TgZ(98,"dd",159)(99,"select",152),e.YNc(100,pt,2,2,"option",89),e.qZA(),e.YNc(101,ft,3,3,"p",85),e.qZA()(),e.TgZ(102,"div",93)(103,"dt",81)(104,"small")(105,"b")(106,"i"),e._uU(107),e.ALo(108,"translate"),e.qZA()()()(),e.TgZ(109,"dd",159)(110,"select",151),e.YNc(111,_t,2,2,"option",89),e.qZA(),e.YNc(112,mt,3,3,"p",85),e.qZA()(),e.TgZ(113,"div",93)(114,"dt",81)(115,"small")(116,"b")(117,"i"),e._uU(118),e.ALo(119,"translate"),e.qZA()()()(),e.TgZ(120,"dd",82)(121,"div",83)(122,"select",162),e.YNc(123,ht,2,2,"option",89),e.qZA()()()(),e.TgZ(124,"div",93)(125,"dt",81)(126,"small")(127,"b")(128,"i"),e._uU(129),e.ALo(130,"translate"),e.qZA()()()(),e.TgZ(131,"dd",82)(132,"div",83),e._UZ(133,"input",163),e.qZA()()(),e.TgZ(134,"div",93)(135,"dt",81)(136,"small")(137,"b")(138,"i"),e._uU(139),e.ALo(140,"translate"),e.qZA()()()(),e.TgZ(141,"dd",82)(142,"div",83)(143,"select",164),e.YNc(144,gt,2,2,"option",89),e.qZA()()()(),e.TgZ(145,"div",93)(146,"dt",81)(147,"small")(148,"b")(149,"i"),e._uU(150),e.ALo(151,"translate"),e.qZA()()()(),e.TgZ(152,"dd",82)(153,"div",83)(154,"select",165),e.YNc(155,vt,2,2,"option",89),e.qZA()()()(),e.TgZ(156,"div",93)(157,"dt",81)(158,"small")(159,"b")(160,"i"),e._uU(161),e.ALo(162,"translate"),e.qZA()()()(),e.TgZ(163,"dd",82)(164,"div",83)(165,"select",166),e.YNc(166,xt,2,2,"option",89),e.qZA()()()()(),e.TgZ(167,"div",104)(168,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(169),e.ALo(170,"translate"),e.qZA(),e.YNc(171,bt,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,34,"labels.editing_personal_data"),""),e.xp6(6),e.Q6J("formGroup",o.perfilform),e.xp6(7),e.Oqu(e.lcZ(19,36,"labels.external_id")),e.xp6(10),e.Oqu(e.lcZ(29,38,"labels.first_name")),e.xp6(5),e.Q6J("ngIf",o.perfilform.controls.firstname.errors&&o.perfilform.controls.firstname.touched),e.xp6(6),e.Oqu(e.lcZ(40,40,"labels.middle_name")),e.xp6(10),e.Oqu(e.lcZ(50,42,"labels.last_name")),e.xp6(5),e.Q6J("ngIf",o.perfilform.controls.lastname.errors&&o.perfilform.controls.lastname.touched),e.xp6(6),e.Oqu(e.lcZ(61,44,"labels.mobile_number")),e.xp6(5),e.Q6J("ngIf",o.perfilform.controls.mobileNo.errors&&o.perfilform.controls.mobileNo.touched),e.xp6(6),e.Oqu(e.lcZ(72,46,"labels.date_of_birth")),e.xp6(2),e.hij(" ",e.lcZ(74,48,o.perfilform.value.dateOfBirth)," "),e.xp6(4),e.Q6J("value",e.lcZ(78,50,o.perfilform.value.dateOfBirth)),e.xp6(2),e.Q6J("ngIf",o.perfilform.controls.dateOfBirth.errors&&o.perfilform.controls.dateOfBirth.touched),e.xp6(6),e.Oqu(e.lcZ(86,52,"labels.gender")),e.xp6(4),e.Q6J("ngForOf",o.selectgenero),e.xp6(1),e.Q6J("ngIf",o.perfilform.controls.gender.errors&&o.perfilform.controls.gender.touched),e.xp6(6),e.Oqu(e.lcZ(97,54,"labels.client_type")),e.xp6(4),e.Q6J("ngForOf",o.selecttipocliente),e.xp6(1),e.Q6J("ngIf",o.perfilform.controls.clientType.errors&&o.perfilform.controls.clientType.touched),e.xp6(6),e.Oqu(e.lcZ(108,56,"labels.client_clasification")),e.xp6(4),e.Q6J("ngForOf",o.selectclasificacioncliente),e.xp6(1),e.Q6J("ngIf",o.perfilform.controls.clientClassification.errors&&o.perfilform.controls.clientClassification.touched),e.xp6(6),e.Oqu(e.lcZ(119,58,"labels.marital_status")),e.xp6(5),e.Q6J("ngForOf",o.selectestadocivil),e.xp6(6),e.Oqu(e.lcZ(130,60,"labels.dependents_people")),e.xp6(10),e.Oqu(e.lcZ(140,62,"labels.educational_status")),e.xp6(5),e.Q6J("ngForOf",o.selectniveleducacion),e.xp6(6),e.Oqu(e.lcZ(151,64,"labels.religion")),e.xp6(5),e.Q6J("ngForOf",o.selectreligion),e.xp6(6),e.Oqu(e.lcZ(162,66,"labels.stake")),e.xp6(5),e.Q6J("ngForOf",o.selectestaca),e.xp6(3),e.hij(" ",e.lcZ(170,68,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.perfilform.valid)}}function Zt(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Tt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_clasification_type"),""))}function It(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function yt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_the_type_of_client"),""))}function Ct(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.date_operations_is_required"),""))}function Mt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.count_employees"),""))}function Pt(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.negocioform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function wt(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitnegocio()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83)(22,"select",168),e.YNc(23,Zt,2,2,"option",89),e.qZA()(),e.YNc(24,Tt,3,3,"p",85),e.qZA()(),e.TgZ(25,"div",134)(26,"dt",81)(27,"small")(28,"b")(29,"i"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()(),e.TgZ(32,"dd",82)(33,"div",83)(34,"select",169),e.YNc(35,It,2,2,"option",89),e.qZA(),e.YNc(36,yt,3,3,"p",85),e.qZA()()(),e.TgZ(37,"div",134)(38,"dt",81)(39,"small")(40,"b")(41,"i"),e._uU(42),e.ALo(43,"translate"),e.qZA()()()(),e.TgZ(44,"dd",82)(45,"div",83),e._uU(46),e.ALo(47,"stringToDate"),e._UZ(48,"input",170),e.ALo(49,"stringToDate"),e.qZA(),e.YNc(50,Ct,3,3,"p",85),e.qZA()(),e.TgZ(51,"div",134)(52,"dt",81)(53,"small")(54,"b")(55,"i"),e._uU(56),e.ALo(57,"translate"),e.qZA()()()(),e.TgZ(58,"dd",82)(59,"div",83),e._UZ(60,"input",171),e.qZA(),e.YNc(61,Mt,3,3,"p",85),e.qZA()()(),e.TgZ(62,"div",104)(63,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.YNc(66,Pt,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,16,"labels.edit_business")," "),e.xp6(6),e.Q6J("formGroup",o.negocioform),e.xp6(7),e.hij("",e.lcZ(19,18,"labels.business_type"),"*"),e.xp6(5),e.Q6J("ngForOf",o.selecttiponegocio),e.xp6(1),e.Q6J("ngIf",o.negocioform.controls.TipodeNegocio_cd_Tipo_de_Negocio.errors&&o.negocioform.controls.TipodeNegocio_cd_Tipo_de_Negocio.touched),e.xp6(6),e.hij("",e.lcZ(31,20,"labels.business"),"*"),e.xp6(5),e.Q6J("ngForOf",o.selectnegocio),e.xp6(1),e.Q6J("ngIf",o.negocioform.controls.Negocio_cd_Negocio.errors&&o.negocioform.controls.Negocio_cd_Negocio.touched),e.xp6(6),e.hij("",e.lcZ(43,22,"labels.start_operation"),"*"),e.xp6(4),e.hij(" ",e.lcZ(47,24,o.negocioform.value.Experiencia)," "),e.xp6(2),e.Q6J("value",e.lcZ(49,26,o.negocioform.value.Experiencia)),e.xp6(2),e.Q6J("ngIf",o.negocioform.controls.Experiencia.errors&&o.negocioform.controls.Experiencia.touched),e.xp6(6),e.hij("",e.lcZ(57,28,"labels.count_employees"),"*"),e.xp6(5),e.Q6J("ngIf",o.negocioform.controls.Empleados.errors&&o.negocioform.controls.Empleados.touched),e.xp6(3),e.hij(" ",e.lcZ(65,30,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.negocioform.valid)}}function St(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Nt(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_legal_form"),""))}function Et(s,y){if(1&s&&(e.TgZ(0,"option",108),e._uU(1),e.qZA()),2&s){const o=y.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(o.name)}}function Ot(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"errors.select_type_of_business"),""))}function Ut(s,y){1&s&&(e.TgZ(0,"p",107),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"labels.partners_is_required"),""))}function Lt(s,y){if(1&s&&(e.TgZ(0,"button",109),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const o=e.oxw(2);e.Q6J("disabled",!o.catalystform.valid),e.xp6(1),e.hij(" ",e.lcZ(2,2,"buttons.save_changes")," ")}}function qt(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h3",16),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.TgZ(8,"span",76),e._uU(9," \xd7 "),e.qZA()()(),e.TgZ(10,"div",77)(11,"form",78),e.NdJ("ngSubmit",function(){return e.CHM(o),e.oxw().onSubmitcatalyst()}),e.TgZ(12,"dl",79)(13,"div",134)(14,"dt",81)(15,"small")(16,"b")(17,"i"),e._uU(18),e.ALo(19,"translate"),e.qZA()()()(),e.TgZ(20,"dd",82)(21,"div",83)(22,"select",172),e.YNc(23,St,2,2,"option",89),e.qZA()(),e.YNc(24,Nt,3,3,"p",85),e.qZA()(),e.TgZ(25,"div",134)(26,"dt",81)(27,"small")(28,"b")(29,"i"),e._uU(30),e.ALo(31,"translate"),e.qZA()()()(),e.TgZ(32,"dd",82)(33,"div",83)(34,"select",173),e.YNc(35,Et,2,2,"option",89),e.qZA(),e.YNc(36,Ot,3,3,"p",85),e.qZA()()(),e.TgZ(37,"div",134)(38,"dt",81)(39,"small")(40,"b")(41,"i"),e._uU(42),e.ALo(43,"translate"),e.qZA()()()(),e.TgZ(44,"dd",82)(45,"div",83),e._UZ(46,"input",174),e.qZA(),e.YNc(47,Ut,3,3,"p",85),e.qZA()()(),e.TgZ(48,"div",104)(49,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.YNc(52,Lt,3,4,"button",106),e.qZA()()()()()()}if(2&s){const o=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,12,"labels.edit_catalyst")," "),e.xp6(6),e.Q6J("formGroup",o.catalystform),e.xp6(7),e.hij("",e.lcZ(19,14,"labels.legal form"),"*"),e.xp6(5),e.Q6J("ngForOf",o.selectformajuridica),e.xp6(1),e.Q6J("ngIf",o.catalystform.controls.formaJuridica.errors&&o.catalystform.controls.formaJuridica.touched),e.xp6(6),e.hij("",e.lcZ(31,16,"labels.family_business"),"*"),e.xp6(5),e.Q6J("ngForOf",o.selectempresafamiliar),e.xp6(1),e.Q6J("ngIf",o.catalystform.controls.empresaFamiliar.errors&&o.catalystform.controls.empresaFamiliar.touched),e.xp6(6),e.hij("",e.lcZ(43,18,"labels.number_of_partners"),"*"),e.xp6(5),e.Q6J("ngIf",o.catalystform.controls.numeroSocios.errors&&o.catalystform.controls.numeroSocios.touched),e.xp6(3),e.hij(" ",e.lcZ(51,20,"buttons.cancel")," "),e.xp6(2),e.Q6J("ngIf",o.catalystform.valid)}}function kt(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"div",175),e.NdJ("click",function(){return e.CHM(o),e.oxw().toggleModal()}),e.qZA()}}let Dt=(()=>{class s{constructor(o,g,L,pe,Te,Ie,Pe,we,Se,Ee,Ne){this.translate=o,this.router=g,this.mentorsservice=L,this.activatedRoute=pe,this.codesSvc=Te,this.sanitizer=Ie,this.catalystSvc=Pe,this.toastSrv=we,this.oficinaSvc=Se,this.transferenciaSvc=Ee,this.gruposSvc=Ne,this.tipocargafoto=!1,this.arrPerfil={},this.imageUrl="",this.croppedresult="",this.showModal=!1,this.showModalidentidad=!1,this.showModalAgregarIdentidad=!1,this.showModalImagen=!1,this.showModalclasificacion=!1,this.showModalBlack=!1,this.showModalAgregarDireccion=!1,this.showModalAgregarNota=!1,this.showModalDatosPersonales=!1,this.showModalEditarNota=!1,this.showModalNegocio=!1,this.showModalOtrosDatos=!1,this.showModalCatalyst=!1,this.showModalTransferencia=!1,this.showModalFamily=!1,this.showModalAgregarFamily=!1,this.config={zoomable:!0,aspectRatio:1,maxWidth:400,maxHeight:600},this.tiponegocio="",this.negocio="",this.estadocivil="",this.educacion="",this.religion="",this.estaca="",this.arrDirecciones=[],this.arrFamily=[],this.arrNotas=[],this.arrDocumentos=[],this.clientesGrupos=[],this.selectclasificacioncliente=[],this.selecttipocliente=[],this.selecttipodireccion=[],this.selecttiponegocio=[],this.selectestaca=[],this.selectnegocio=[],this.selectestadocivil=[],this.selectniveleducacion=[],this.selectgenero=[],this.selectreligion=[],this.selectprovincia=[],this.selectdocumento=[],this.selectformajuridica=[],this.selectempresafamiliar=[],this.selectoficina=[],this.selecttiporelacion=[],this.selectestadomarital=[],this.selectprofesion=[],this.MentorSolucion=!1,this.mentorProfesional=!1;let Ue=localStorage.getItem("user");Ue&&(this.usuario=JSON.parse(Ue)),this.estadofiltro="Perfil",this.verarea=!0,this.transferenciaform=new v.cw({oficina:new v.NI("",[v.kI.required]),nota:new v.NI("",[v.kI.required]),idcliente:new v.NI("",[v.kI.required])}),this.familyform=new v.cw({id:new v.NI(""),clientId:new v.NI("",[v.kI.required]),firstName:new v.NI("",[v.kI.required]),middleName:new v.NI("",[v.kI.required]),lastName:new v.NI("",[v.kI.required]),relationshipId:new v.NI("",[v.kI.required]),maritalStatusId:new v.NI("",[v.kI.required]),genderId:new v.NI("",[v.kI.required]),dateOfBirth:new v.NI("",[v.kI.required]),professionId:new v.NI("",[v.kI.required]),mobileNumber:new v.NI("",[v.kI.required]),isDependent:new v.NI("")}),this.negocioform=new v.cw({TipodeNegocio_cd_Tipo_de_Negocio:new v.NI("",[v.kI.required]),Negocio_cd_Negocio:new v.NI("",[v.kI.required]),Experiencia:new v.NI("",[v.kI.required]),Empleados:new v.NI("",[v.kI.required])}),this.catalystform=new v.cw({numeroSocios:new v.NI("",[v.kI.required]),empresaFamiliar:new v.NI("",[v.kI.required]),formaJuridica:new v.NI("",[v.kI.required])}),this.perfilform=new v.cw({externalId:new v.NI(""),firstname:new v.NI("",[v.kI.required,v.kI.minLength(2),v.kI.pattern("(^[Aa-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xd1\xf1]).*")]),middlename:new v.NI("",v.kI.pattern("(^[Aa-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xd1\xf1]).*")),lastname:new v.NI("",[v.kI.required,v.kI.minLength(2),v.kI.pattern("(^[Aa-zA-Z\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda\xd1\xf1]).*")]),mobileNo:new v.NI("",[v.kI.minLength(7)]),dateOfBirth:new v.NI("",[v.kI.required]),gender:new v.NI("",[v.kI.required]),clientType:new v.NI("",[v.kI.required]),clientClassification:new v.NI("",[v.kI.required]),EstadoCivil_cd_Estado_Civil:new v.NI("",[v.kI.required]),Dependientes:new v.NI(""),NivelEducacion_cd_Nivel_de_Educacion:new v.NI("",[v.kI.required]),Religion_cd_Religion:new v.NI("",[v.kI.required]),Estacas_cd_Estaca:new v.NI("")}),this.clasificacionform=new v.cw({clientId:new v.NI(""),clientClassification:new v.NI("",[v.kI.required]),clientType:new v.NI("",[v.kI.required])}),this.documentoform=new v.cw({clientId:new v.NI(""),identifierId:new v.NI(""),documentTypeId:new v.NI("",[v.kI.required]),documentKey:new v.NI("",[v.kI.required]),description:new v.NI("")}),this.imagenform=new v.cw({foto:new v.NI("",[v.kI.required])}),this.direccionform=new v.cw({client_id:new v.NI(""),addressTypeId:new v.NI("",[v.kI.required]),addressId:new v.NI(""),isActive:new v.NI(""),street:new v.NI("",[v.kI.required]),addressLine1:new v.NI("",[v.kI.required]),addressLine2:new v.NI(""),addressLine3:new v.NI(""),stateProvinceId:new v.NI("",[v.kI.required]),postalCode:new v.NI("")}),this.notaform=new v.cw({client_id:new v.NI(""),nota:new v.NI("",[v.kI.required]),idnota:new v.NI("")})}obtenerGrupos(){return(0,F.Z)(function*(){})()}ngOnInit(){var o;this.idcliente=null===(o=this.activatedRoute.parent)||void 0===o?void 0:o.params.subscribe(g=>g.clientId),this.mentorsservice.getById(this.idstaff).then(g=>this.arrPerfil=g),this.notaform.patchValue({client_id:this.idcliente}),this.codesSvc.codesindividual("ClientClassification").then(g=>{this.selectclasificacioncliente=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_client_classification"),g)),this.codesSvc.codesindividual("ClientType").then(g=>{this.selecttipocliente=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_client_type"),g)),this.codesSvc.codesindividual("RELATIONSHIP").then(g=>this.selecttiporelacion=g),this.codesSvc.codesindividual("MARITAL STATUS").then(g=>this.selectestadomarital=g),this.codesSvc.codesindividual("PROFESSION").then(g=>this.selectprofesion=g),this.codesSvc.codesindividual("STATE").then(g=>this.selectprovincia=g),this.codesSvc.codesindividual("ADDRESS_TYPE").then(g=>this.selecttipodireccion=g),this.oficinaSvc.getAllOficinas().then(g=>this.selectoficina=g),this.codesSvc.codesindividual("EstadoCivil").then(g=>{this.selectestadocivil=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_marital_status"),g)),this.codesSvc.codesindividual("NivelEducacion").then(g=>{this.selectniveleducacion=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_educational_level"),g)),this.codesSvc.codesindividual("Religion").then(g=>{this.selectreligion=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_religion"),g)),this.codesSvc.codesindividual("Estacas").then(g=>{this.selectestaca=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_stakes"),g)),this.codesSvc.codesindividual("TipodeNegocio").then(g=>{this.selecttiponegocio=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_business_types"),g)),this.codesSvc.codesindividual("Negocio").then(g=>{this.selectnegocio=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_business"),g)),this.codesSvc.codesindividual("formaJuridica").then(g=>{this.selectformajuridica=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_legals_form"),g)),this.codesSvc.codesindividual("YesNo").then(g=>{this.selectempresafamiliar=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_yesno"),g)),this.codesSvc.codesindividual("Gender").then(g=>{this.selectgenero=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_gender"),g)),this.codesSvc.codesindividual("ClientClassification").then(g=>{this.selectclasificacioncliente=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_client_classification"),g)),this.codesSvc.codesindividual("ClientType").then(g=>{this.selecttipocliente=g}).catch(g=>this.toastSrv.error(this.translate.instant("pop_up.alert.codes.error_client_type"),g)),this.codesSvc.codesindividual("ADDRESS_TYPE").then(g=>this.selecttipodireccion=g),this.codesSvc.codesindividual("STATE").then(g=>this.selectprovincia=g),this.codesSvc.codesindividual("Customer Identifier").then(g=>this.selectdocumento=g)}onChangeBig(o){this.estadofiltro=o}editarclasificacion(){this.showModalclasificacion=!this.showModalclasificacion,this.showModalBlack=!0,this.clasificacionform.reset(),this.clasificacionform.patchValue({clientId:this.arrPerfil.id,clientClassification:this.arrPerfil.clientCassifId,clientType:this.arrPerfil.clientTypeId})}editarfamily(o){this.showModalFamily=!this.showModalFamily,this.showModalBlack=!0,this.familyform.reset(),this.familyform.patchValue(o),this.familyform.patchValue({dateOfBirth:this.cambiar(o.dateOfBirth)})}transferircliente(){this.showModalTransferencia=!this.showModalTransferencia,this.showModalBlack=!0,this.clasificacionform.reset(),this.transferenciaform.patchValue({idcliente:this.idcliente})}editardatospersonales(){this.showModalDatosPersonales=!this.showModalDatosPersonales,this.showModalBlack=!0,this.perfilform.patchValue({externalId:this.arrPerfil.external_id?this.arrPerfil.external_id:"",firstname:this.arrPerfil.firstname?this.arrPerfil.firstname:"",middlename:this.arrPerfil.middlename?this.arrPerfil.middlename:"",lastname:this.arrPerfil.lastname?this.arrPerfil.lastname:"",mobileNo:this.arrPerfil.mobile_no?this.arrPerfil.mobile_no:"",dateOfBirth:this.arrPerfil.date_of_birth?this.arrPerfil.date_of_birth:"",gender:this.arrPerfil.generId?this.arrPerfil.generId:"",clientType:this.arrPerfil.clientTypeId?this.arrPerfil.clientTypeId:"",clientClassification:this.arrPerfil.clientCassifId?this.arrPerfil.clientCassifId:"",EstadoCivil_cd_Estado_Civil:this.arrPerfil.estadoCivilId?this.arrPerfil.estadoCivilId:"",Dependientes:this.arrPerfil.Dependientes?this.arrPerfil.Dependientes:"",NivelEducacion_cd_Nivel_de_Educacion:this.arrPerfil.nivelEducacionId?this.arrPerfil.nivelEducacionId:"",Religion_cd_Religion:this.arrPerfil.ReligionId?this.arrPerfil.ReligionId:"",Estacas_cd_Estaca:this.arrPerfil.EstacaId?this.arrPerfil.EstacaId:""})}editarnegocio(){this.showModalNegocio=!this.showModalNegocio,this.showModalBlack=!0,this.negocioform.patchValue({TipodeNegocio_cd_Tipo_de_Negocio:this.arrPerfil.tipoNegocioId?this.arrPerfil.tipoNegocioId:"",Negocio_cd_Negocio:this.arrPerfil.NegocioId?this.arrPerfil.NegocioId:"",Experiencia:this.cambiar(this.arrPerfil.iniOperacion?this.arrPerfil.iniOperacion:""),Empleados:this.arrPerfil.Empleados?this.arrPerfil.Empleados:""})}editarcatalyst(){this.showModalCatalyst=!this.showModalCatalyst,this.showModalBlack=!0,this.catalystform.patchValue({numeroSocios:this.arrPerfil.numeroSocios?this.arrPerfil.numeroSocios:"",empresaFamiliar:this.arrPerfil.empFamiliarId?this.arrPerfil.empFamiliarId:"",formaJuridica:this.arrPerfil.formaJuridicaId?this.arrPerfil.formaJuridicaId:""})}editarotrosdatos(){this.showModalOtrosDatos=!this.showModalOtrosDatos,this.showModalBlack=!0}editardireccion(o){this.showModal=!this.showModal,this.showModalBlack=!0,this.tipodireccion=o.addressType,this.direccionform.reset(),this.direccionform.patchValue(o),this.idcliente=o.client_id,this.iddireccion=o.addressId}agregarDireccion(){this.showModalAgregarDireccion=!0,this.showModalBlack=!0,this.direccionform.reset(),this.direccionform.patchValue({isActive:!0,client_id:this.idcliente})}agregarDocumentos(){this.showModalAgregarIdentidad=!0,this.showModalBlack=!0}editarImagen(){this.showModalImagen=!0}editardocumento(o){this.showModalidentidad=!this.showModalidentidad,this.showModalBlack=!0,this.tipodireccion=o.documentType.name,this.documentoform.reset(),this.documentoform.patchValue({clientId:o.clientId,documentTypeId:o.documentType.id,documentKey:o.documentKey,description:o.description,identifierId:o.id}),this.idcliente=o.clientId,this.iddocumento=o.id}toggleModal(){this.showModal=!1,this.showModalidentidad=!1,this.showModalImagen=!1,this.showModalclasificacion=!1,this.showModalBlack=!1,this.showModalAgregarDireccion=!1,this.showModalAgregarIdentidad=!1,this.showModalDatosPersonales=!1,this.showModalNegocio=!1,this.showModalOtrosDatos=!1,this.showModalCatalyst=!1,this.showModalEditarNota=!1,this.showModalAgregarNota=!1,this.showModalTransferencia=!1,this.showModalFamily=!1,this.showModalAgregarFamily=!1,this.catalystform.reset(),this.negocioform.reset(),this.perfilform.reset(),this.direccionform.reset(),this.notaform.reset(),this.notaform.patchValue({client_id:this.idcliente})}onRefresh(){this.router.routeReuseStrategy.shouldReuseRoute=function(){return!1},this.router.navigateByUrl(this.router.url+"?").then(()=>{this.router.navigated=!1,this.router.navigate([this.router.url])})}onSubmit(){this.toggleModal()}onSubmitFamily(){this.toggleModal()}onSubmitAgregarFamily(){this.toggleModal()}onSubmitAgregarDireccion(){this.toggleModal()}onSubmitImagen(){this.toggleModal()}onSubmitGuardarnota(){this.toggleModal()}onSubmitGuardarTransferencia(){this.transferenciaSvc.transferircliente(this.transferenciaform.value),this.toggleModal()}onSubmitActualizarNota(){this.toggleModal()}onSubmitDocumento(){this.toggleModal()}onSubmitGuardarDocumento(){this.toggleModal()}onSubmitClasificacion(){this.toggleModal()}onSubmitEditarPerfil(){this.toggleModal()}onSubmitnegocio(){this.toggleModal()}onSubmitcatalyst(){this.catalystSvc.updateCatalyst(this.catalystform.value,this.idcliente),this.toggleModal()}onselectfile(o){if(o.target.files&&o.target.files[0]){this.foto=o.target.files[0];const g=new FileReader;g.readAsDataURL(o.target.files[0]),g.onload=()=>{this.imageUrl=g.result,this.imagenform.patchValue({foto:this.sanitizer.bypassSecurityTrustResourceUrl(this.imageUrl)})}}}volverarecortar(){this.verarea=!0}getcroppedimage(){}rotateleft(){}rotateright(){}zoomout(){}zoomin(){}agregarfoto(){this.showModalImagen=!0,this.tipocargafoto=!1}cambiarfoto(){this.showModalImagen=!0,this.tipocargafoto=!0}cambiar(o){let L=o.toString().split(",");return L[1]<10&&(L[1]="0"+L[1]),L[2]<10&&(L[2]="0"+L[2]),L=L.join(),L=L.replace(",","-"),L=L.replace(",","-"),L}editarnota(o){this.showModalEditarNota=!this.showModal,this.showModalBlack=!0,this.notaform.reset(),this.notaform.patchValue({client_id:o.clientId,nota:o.note,idnota:o.id}),this.idcliente=o.client_id}agregarNota(){this.showModalAgregarNota=!0,this.showModalBlack=!0,this.notaform.reset(),this.notaform.patchValue({client_id:this.idcliente})}agregarFamily(){this.showModalAgregarFamily=!0,this.showModalBlack=!0,this.familyform.reset(),this.familyform.patchValue({clientId:this.idcliente,isDependent:!1})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(c.sK),e.Y36(t.F0),e.Y36(re),e.Y36(t.gz),e.Y36(U.a),e.Y36(de.H7),e.Y36(me.b),e.Y36(a._W),e.Y36(J.a),e.Y36(q.O),e.Y36(H.J))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-perfil"]],inputs:{idstaff:"idstaff"},decls:15,vars:14,consts:[[4,"ngIf"],[1,"mt-6","pb-8","max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],["class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex ",4,"ngIf"],["class","opacity-25 fixed inset-0 z-40 bg-black",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","sm:no-wrap"],[1,"w-full","md:w-3/12","md:mx-2","order-1"],[1,"flex","justify-center","items-center"],[1,"container","mx-auto","max-w-sm","rounded-lg","overflow-hidden","shadow-lg","my-2","dark:bg-Stone-700"],[1,"relative",2,"clip-path","polygon(0 0, 100% 0, 100% 100%, 0 calc(100% - 5vw))"],["alt","Profile image",1,"w-full",3,"src"],[1,"relative","flex","justify-between","items-center","flex-row","px-6","-mt-10"],[1,"flex","items-center","text-gray-400"],[1,"inline-block","w-3","h-3","rounded-full","mr-2",3,"ngClass"],["class","p-4 bg-red-600 rounded-full hover:bg-red-500 focus:bg-red-700 transition ease-in duration-200 focus:outline-none",3,"click",4,"ngIf"],["class","p-4 bg-green-600  dark:bg-blue-700 rounded-full hover:bg-green-500 focus:bg-green-700 transition ease-in duration-200 focus:outline-none",3,"click",4,"ngIf"],[1,"pt-6","pb-8","text-gray-600","text-center","dark:text-white"],[1,"text-gray-900","font-bold","text-xl","leading-8","my-1"],[1,"text-sm","dark:text-white"],["class","pt-6 pb-8 text-gray-600 text-center dark:text-white",4,"ngIf"],[1,"flex","items-center","space-x-2","font-semibold","text-gray-900","leading-8","dark:bg-gray-600"],["clas","text-green-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"tracking-wide","dark:text-white"],[3,"click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","pencil-alt","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-pencil-alt","fa-w-16","w-10","text-blue-700","dark:text-Yellow-300","h-10","p-2"],["fill","currentColor","d","M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"],[1,"bg-gray-100","dark:bg-Slate-800","text-gray-600","hover:text-gray-700","hover:shadow","py-2","px-3","mt-3","divide-y","rounded","shadow-sm"],[1,"flex","items-center","py-3"],[1,"dark:text-white"],[1,"ml-auto",3,"click"],[1,"bg-green-500","dark:bg-blue-700","py-1","px-2","rounded","text-white","text-sm"],[1,"ml-auto","dark:text-white"],[1,"my-4"],["class","bg-white dark:bg-Stone-700 p-3 hover:shadow",4,"ngIf"],["aria-labelledby","notes-title"],[1,"bg-white","dark:bg-Slate-800","dark:text-white","shadow","sm:rounded-lg","sm:overflow-hidden"],[1,"divide-y","divide-gray-200"],[1,"p-2"],["id","notes-title",1,"text-lg","font-medium","text-gray-900","dark:text-white"],["role","list",1,"space-y-2"],["class","py-2",4,"ngFor","ngForOf"],[1,"bg-gray-50","dark:bg-gray-800","px-4","py-6","sm:px-6"],[1,"flex","space-x-3"],[1,"min-w-0","flex-1"],[3,"formGroup","ngSubmit"],["id","comment","name","comment","rows","3","formControlName","nota","placeholder","Add a note",1,"shadow-sm","block","w-full","inputsearch","focus:ring-blue-500","focus:border-blue-500","sm:text-sm","border","border-gray-300","rounded-md"],[1,"mt-3","flex","items-center","justify-between"],["href","#",1,"group","inline-flex","items-start","text-sm","space-x-2","text-gray-500","hover:text-gray-900"],["type","submit","class","inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",3,"disabled",4,"ngIf"],[1,"w-full","md:mx-2","order-3","sm:order-2"],[1,"p-4","bg-red-600","rounded-full","hover:bg-red-500","focus:bg-red-700","transition","ease-in","duration-200","focus:outline-none",3,"click"],["viewBox","0 0 20 20","enable-background","new 0 0 20 20",1,"w-6","h-6"],["fill","#FFFFFF","d","M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601\n                                            C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399\n                                            C15.952,9,16,9.447,16,10z"],[1,"p-4","bg-green-600","dark:bg-blue-700","rounded-full","hover:bg-green-500","focus:bg-green-700","transition","ease-in","duration-200","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"h-6","w-6","dark:text-gray-800"],["fill","#FFFFFF","d","M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"],[1,"bg-white","dark:bg-Stone-700","p-3","hover:shadow"],[1,"flex","items-center","space-x-1","font-semibold","text-gray-900","text-xl","leading-8"],[1,"text-green-500"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","fill-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"text-gray-700","dark:text-white","font-xs","text-semibold","leading-6","pb-4"],[1,"py-2"],[1,"text-sm","flex"],[1,"font-medium","text-gray-900","dark:text-gray-200"],["src","assets/img/iconos/editar.svg","alt","Mentor+",1,"h-5","w-5","mx-5"],[1,"mt-1","text-sm","text-gray-700","dark:text-white"],[1,"mt-2","text-sm","space-x-2"],[1,"text-gray-500","dark:text-white","font-medium"],["type","submit",1,"inline-flex","items-center","justify-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"disabled"],[1,"overflow-x-hidden","overflow-y-auto","fixed","inset-0","z-50","outline-none","focus:outline-none","justify-center","items-center","flex"],[1,"relative","w-auto","my-6","mx-auto","max-w-6xl","min-w-6"],[1,"border-0","rounded-lg","shadow-lg","relative","flex","flex-col","w-full","bg-white","dark:bg-Gray-900","outline-none","focus:outline-none"],[1,"flex","items-start","justify-between","p-5","border-b","border-solid","border-blueGray-200","rounded-t"],[1,"p-1","ml-auto","border-0","text-black","dark:text-white","float-right","text-3xl","leading-none","font-semibold","outline-none","focus:outline-none",3,"click"],[1,"h-6","w-6","text-2xl","block","outline-none","focus:outline-none"],[1,"relative","p-6"],[1,"pb-10",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","gap-x-4","gap-y-8","sm:grid-cols-2"],[1,"col-span-1"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-sm"],[1,"mt-1","text-gray-900"],["formControlName","firstName","type","text",1,"detalleinput"],["class","mt-2 text-red-500",4,"ngIf"],["formControlName","middleName","type","text",1,"detalleinput"],["formControlName","lastName","type","text",1,"detalleinput"],["formControlName","relationshipId",1,"detalleinput"],[3,"value",4,"ngFor","ngForOf"],["formControlName","maritalStatusId",1,"detalleinput"],["formControlName","genderId",1,"detalleinput"],["formControlName","professionId",1,"detalleinput"],[1,"sm:col-span-1"],["formControlName","dateOfBirth","type","date",1,"detalleinput",3,"value"],["formControlName","mobileNumber","type","number",1,"detalleinput"],[1,"col-span-1","sm:w-80"],[1,"flex","items-center","justify-center","w-full","mb-12"],["for","toogleA",1,"flex","items-center","cursor-pointer"],[1,"relative"],["formControlName","isDependent","id","toogleA","type","checkbox",1,"sr-only"],[1,"w-10","h-4","bg-gray-400","rounded-full","shadow-inner"],[1,"dot","absolute","w-6","h-6","bg-white","rounded-full","shadow","-left-1","-top-1","transition"],[1,"ml-3","text-gray-700","font-medium"],[1,"flex","items-center","justify-end","p-6","border-t","border-solid","border-blueGray-200","rounded-b"],["type","button",1,"text-red-500","background-transparent","font-bold","uppercase","px-6","py-2","text-sm","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],["class","bg-Orange-500 text-white active:bg-Orange-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150","type","button","type","submit",3,"disabled",4,"ngIf"],[1,"mt-2","text-red-500"],[3,"value"],["type","button","type","submit",1,"bg-Orange-500","text-white","active:bg-Orange-600","font-bold","uppercase","text-sm","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"disabled"],[1,"text-3xl","font-semibold"],[1,"w-96"],[1,"bg-white","p-3","border-t-4","border-green-400"],[1,"image","overflow-hidden"],["class","h-auto w-52 mx-auto ","alt","",3,"src",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",4,"ngIf"],["alt","",1,"h-auto","w-52","mx-auto",3,"src"],["input","","type","file","accept","images/*",3,"change"],[1,"mt-2"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],[1,"inline-block","px-5","py-2","mx-2","text-white","bg-blue-600","rounded-full","hover:bg-blue-700","md:mx-0",3,"click"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","crop","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-crop","fa-w-16","h-5","w-5"],["fill","currentColor","d","M488 352h-40V109.25l59.31-59.31c6.25-6.25 6.25-16.38 0-22.63L484.69 4.69c-6.25-6.25-16.38-6.25-22.63 0L402.75 64H192v96h114.75L160 306.75V24c0-13.26-10.75-24-24-24H88C74.75 0 64 10.74 64 24v40H24C10.75 64 0 74.74 0 88v48c0 13.25 10.75 24 24 24h40v264c0 13.25 10.75 24 24 24h232v-96H205.25L352 205.25V488c0 13.25 10.75 24 24 24h48c13.25 0 24-10.75 24-24v-40h40c13.25 0 24-10.75 24-24v-48c0-13.26-10.75-24-24-24z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","undo","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-undo","fa-w-16","h-5","w-5"],["fill","currentColor","d","M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"],["aria-hidden","true","focusable","false","data-prefix","fas","data-icon","redo","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"svg-inline--fa","fa-redo","fa-w-16","h-5","w-5"],["fill","currentColor","d","M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z","clip-rule","evenodd"],["fill-rule","evenodd","d","M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule","evenodd"],["alt","...",3,"src"],["type","button",1,"text-blue-500","background-transparent","font-bold","uppercase","px-6","py-2","text-sm","outline-none","focus:outline-none","mr-1","mb-1","ease-linear","transition-all","duration-150",3,"click"],[1,"col-span-2"],["formControlName","street","type","text",1,"detalleinput"],["formControlName","addressLine1","type","text",1,"detalleinput"],["formControlName","addressLine2","type","text",1,"detalleinput"],["formControlName","addressLine3","type","text",1,"detalleinput"],["formControlName","stateProvinceId",1,"detalleinput"],["formControlName","postalCode","type","text",1,"detalleinput"],["formControlName","isActive","id","toogleA","type","checkbox",1,"sr-only"],[1,"relative","w-full","my-6","mx-auto","max-w-md","min-w-6"],["formControlName","addressTypeId",1,"detalleinput"],["formControlName","nota","type","text",1,"detalleinput"],[1,"relative","w-full","max-w-sm","my-6","mx-auto","min-w-6"],[1,"flex","flex-col","gap-x-4","gap-y-8"],["formControlName","oficina",1,"detalleinput"],["formControlName","documentKey","type","text",1,"detalleinput"],["formControlName","description","type","text",1,"detalleinput"],["formControlName","documentTypeId",1,"detalleinput"],["formControlName","clientClassification",1,"detalleinput"],["formControlName","clientType",1,"detalleinput"],[1,"grid","grid-cols-1","gap-x-4","gap-y-8","sm:grid-cols-3"],["formControlName","externalId","type","text",1,"detalleinput","dark:header"],["formControlName","firstname","type","text",1,"detalleinput"],["formControlName","middlename","type","text",1,"detalleinput"],["formControlName","lastname","type","text",1,"detalleinput"],["formControlName","mobileNo","type","cel",1,"detalleinput","py-2"],[1,"mt-1","text-sm","text-gray-900"],["formControlName","gender",1,"detalleinput"],["class","text-gray-900",3,"value",4,"ngFor","ngForOf"],["formControlName","EstadoCivil_cd_Estado_Civil",1,"detalleinput"],["formControlName","Dependientes","type","number","min","0",1,"detalleinput"],["formControlName","NivelEducacion_cd_Nivel_de_Educacion",1,"detalleinput"],["formControlName","Religion_cd_Religion",1,"detalleinput"],["formControlName","Estacas_cd_Estaca",1,"detalleinput"],[1,"text-gray-900",3,"value"],["formControlName","TipodeNegocio_cd_Tipo_de_Negocio",1,"detalleinput"],["formControlName","Negocio_cd_Negocio",1,"detalleinput"],["formControlName","Experiencia","type","date",1,"detalleinput",3,"value"],["formControlName","Empleados","type","text",1,"detalleinput"],["formControlName","formaJuridica",1,"detalleinput"],["formControlName","empresaFamiliar",1,"detalleinput"],["formControlName","numeroSocios","type","text","min","0",1,"detalleinput"],[1,"opacity-25","fixed","inset-0","z-40","bg-black",3,"click"]],template:function(o,g){1&o&&(e.YNc(0,Q,68,27,"div",0),e.TgZ(1,"div",1),e.YNc(2,ve,133,55,"div",2),e.YNc(3,M,21,10,"div",2),e.YNc(4,G,99,37,"div",2),e.YNc(5,De,94,35,"div",2),e.YNc(6,Re,29,12,"div",2),e.YNc(7,Ve,40,17,"div",2),e.YNc(8,ze,39,16,"div",2),e.YNc(9,Xe,50,19,"div",2),e.YNc(10,nt,42,18,"div",2),e.YNc(11,At,172,70,"div",2),e.YNc(12,wt,67,32,"div",2),e.YNc(13,qt,53,22,"div",2),e.YNc(14,kt,1,0,"div",3),e.qZA()),2&o&&(e.Q6J("ngIf",g.arrPerfil),e.xp6(2),e.Q6J("ngIf",g.showModalFamily),e.xp6(1),e.Q6J("ngIf",g.showModalImagen),e.xp6(1),e.Q6J("ngIf",g.showModal),e.xp6(1),e.Q6J("ngIf",g.showModalAgregarDireccion),e.xp6(1),e.Q6J("ngIf",g.showModalEditarNota),e.xp6(1),e.Q6J("ngIf",g.showModalTransferencia),e.xp6(1),e.Q6J("ngIf",g.showModalidentidad),e.xp6(1),e.Q6J("ngIf",g.showModalAgregarIdentidad),e.xp6(1),e.Q6J("ngIf",g.showModalclasificacion),e.xp6(1),e.Q6J("ngIf",g.showModalDatosPersonales),e.xp6(1),e.Q6J("ngIf",g.showModalNegocio),e.xp6(1),e.Q6J("ngIf",g.showModalCatalyst),e.xp6(1),e.Q6J("ngIf",g.showModalBlack))},directives:[u.O5,u.mk,u.sg,v._Y,v.JL,v.sg,v.Fj,v.JJ,v.u,t.lC,v.EJ,v.YN,v.Kr,v.wV,v.Wl,v.qQ],pipes:[d.K,c.X$],styles:[""]}),s})(),Ft=(()=>{class s{constructor(o,g,L){this.translate=o,this.mentoresservice=g,this.activatedRoute=L,this.profile_staff="labels.profile_staff",this.vermentor=!1,this.vermentorado=!0,this.textobotonmentor=this.profile_staff}ngOnInit(){var o=this;this.activatedRoute.params.subscribe(function(){var g=(0,F.Z)(function*(L){return o.staff=L.staffId});return function(L){return g.apply(this,arguments)}}())}onclick(){this.vermentorado=!this.vermentorado,this.vermentor=!this.vermentor,this.textobotonmentor=this.translate.instant(this.vermentorado?"labels.profile_staff":"labels.clients")}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(c.sK),e.Y36(re),e.Y36(t.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-detalle"]],decls:5,vars:1,consts:[[1,"p-2","w-full"],[1,"mt-8","grid","grid-cols-1","gap-6"],[1,"space-y-6"],["aria-labelledby","applicant-information-title"],[3,"idstaff"]],template:function(o,g){1&o&&(e.TgZ(0,"main",0)(1,"div",1)(2,"div",2)(3,"section",3),e._UZ(4,"app-perfil",4),e.qZA()()()()),2&o&&(e.xp6(4),e.Q6J("idstaff",g.staff))},directives:[Dt],styles:[""]}),s})();var Jt=p(590),Oe=p(9685);function Rt(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"ul",39),e.NdJ("click",function(){const pe=e.CHM(o).$implicit;return e.oxw().goStaff(pe)}),e.TgZ(1,"span",40),e._uU(2),e.qZA(),e.TgZ(3,"li",41)(4,"a",42)(5,"div",43)(6,"p",44),e._uU(7),e.qZA(),e.TgZ(8,"div",45)(9,"p",46),e._uU(10),e.ALo(11,"translate"),e.qZA()()(),e.TgZ(12,"div",47)(13,"div",48)(14,"p",49),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",49),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()(),e.TgZ(20,"li",50)(21,"a",42)(22,"div",51)(23,"div",52)(24,"p",53),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"p",53),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"p",53),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"p",53),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"p",53),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"p",53),e._uU(40),e.ALo(41,"translate"),e.qZA()()()()()()}if(2&s){const o=y.$implicit,g=y.index;e.xp6(2),e.hij(" ",g+1," "),e.xp6(5),e.Oqu(o.displayName),e.xp6(2),e.Q6J("ngClass","true"==o.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),e.xp6(1),e.hij(" ",e.lcZ(11,20,"true"==o.isActive?"labels.active":"labels.inactive"),""),e.xp6(5),e.AsE(" ",e.lcZ(16,22,"labels.id"),": ",o.id," "),e.xp6(3),e.AsE(" ",e.lcZ(19,24,"labels.office"),": ",o.officeName," "),e.xp6(7),e.AsE("",e.lcZ(26,26,"labels.filterstate.REFERENCE"),": ",o.Referencia,""),e.xp6(3),e.AsE("",e.lcZ(29,28,"labels.filterstate.IN_PREPARATION"),": ",o.Preparacion,""),e.xp6(3),e.AsE("",e.lcZ(32,30,"labels.filterstate.FOCUS"),": ",o.Enfoque,""),e.xp6(3),e.AsE("",e.lcZ(35,32,"labels.filterstate.SUCCESSFULL"),": ",o.Exitoso,""),e.xp6(3),e.AsE("",e.lcZ(38,34,"labels.filterstate.SUCCESSFUL_RETIRED"),": ",o.ExitosoRetirado,""),e.xp6(3),e.AsE("",e.lcZ(41,36,"labels.filterstate.INACTIVE"),": ",o.Inactivo,"")}}function $t(s,y){if(1&s){const o=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){return e.CHM(o),e.oxw().onScrollTop()}),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"rect",56)(3,"path",57),e.qZA()()}}const Ht=[{path:"",component:(()=>{class s{constructor(o,g,L,pe,Te,Ie,Pe,we,Se){this.mentoresservice=o,this.activatedroute=g,this.document=L,this.fb=pe,this.codesSvc=Te,this.translate=Ie,this.AppComponentInst=Pe,this.funcionesSvc=we,this.router=Se,this.loading=!1,this.statusfiltrado=!1,this.clasificacionCliente=[],this.mostrarmenuordenar=!1,this.textodesupaleft=1,this.verBarra=!0,this.verBarraDerecha=!0,this.showButton=!1,this.scrollHeight=500,this.total=0,this.parar=!1,this.estadofiltro="ALL",this.linesToWrite=new Array,this.formulario=this.fb.group({palabra:new v.NI("",[v.kI.required])})}ngOnInit(){this.getStaff(),this.cargarMetodos(),this.loading=!0}getStaff(){this.mentoresservice.getStaffWithMentoria().then(o=>{const g=this.funcionesSvc.arregloDobleAIndividual(o);this.users=g,this.arrFinal=g,this.add40lines(10)})}filtrarcodigos(o){return this.codigos.filter(g=>g.name===o)}cargarMetodos(){var o=this;return(0,F.Z)(function*(){o.codesSvc.getCodes().then(g=>{o.codigos=g;const L=o.filtrarcodigos("ClientClassification");o.codesSvc.getTabla(L[0].id).then(pe=>o.clasificacionCliente=pe)})})()}add40lines(o){var g,L;const pe=(null===(g=this.arrFinal)||void 0===g?void 0:g.length)?(null===(L=this.arrFinal)||void 0===L?void 0:L.length)-this.total:1;pe<10&&(o=pe);let Te=this.linesToWrite.length;if(this.arrFinal.length>0)for(let Ie=this.total;Ie<this.total+o;Ie++)this.arrFinal.indexOf(this.arrFinal[Ie])+1==this.arrFinal.length&&(this.parar=!0),this.linesToWrite.push(this.arrFinal[Ie]),Te++;this.total=Te}cambiarestado(){this.mostrarmenuordenar=!this.mostrarmenuordenar}onIdRecibido(o){this.textodesupaleft=o}onVerBarraRecibido(o){this.verBarra=o}onScrollTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}onScroll(){0==this.parar&&this.add40lines(10)}onWindowScroll(){const o=window.pageYOffset;this.showButton=(o||this.document.documentElement.scrollTop)>this.scrollHeight}onChange(o){const g=o.target.value;"ALL"==g?(this.arrFinal=this.users,this.estadofiltro="ALL"):(this.statusfiltrado=g,this.arrFinal=this.users.filter(L=>{if(L.clientClassification.name==this.statusfiltrado)return L}),this.estadofiltro=o.name),this.loading=!1,this.linesToWrite.length=0,this.total=0,this.parar=!1,this.add40lines(10)}onChangeBig(o){"ALL"==o?(this.arrFinal=this.users,this.estadofiltro="ALL"):(this.arrFinal=this.users.filter(g=>{if(g.isActive==String(o))return g}),this.estadofiltro=1==o?"ACTIVE":"INACTIVE"),this.loading=!1,this.linesToWrite.length=0,this.total=0,this.parar=!1,this.add40lines(10)}goStaff(o){this.router.navigate(["/staff/detalle/",o.id],{queryParams:{officeid:o.oficinaId}})}onSubmit(){""==this.formulario.value.palabra.trim()?(this.linesToWrite.length=0,this.total=0,this.parar=!1,this.arrFinal=this.users,this.add40lines(10)):this.mentoresservice.getMentorBySql(this.formulario.value.palabra).pipe((0,Jt.P)()).subscribe(o=>{const g=this.funcionesSvc.arregloDobleAIndividual(o);this.sqlcliente=g,this.linesToWrite.length=0,this.total=0,this.parar=!1,this.arrFinal=g,this.add40lines(10)})}}return s.\u0275fac=function(o){return new(o||s)(e.Y36(re),e.Y36(t.gz),e.Y36(u.K0),e.Y36(v.qu),e.Y36(U.a),e.Y36(c.sK),e.Y36(I.y),e.Y36(k.X),e.Y36(t.F0))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-staff"]],hostBindings:function(o,g){1&o&&e.NdJ("scroll",function(){return g.onWindowScroll()},!1,e.Jf7)},decls:70,vars:47,consts:[[1,"w-full"],[1,"text-sm","text-gray-500","group-hover:text-gray-900","font-medium","dark:text-white"],[1,"flex","justify-center"],[1,"mt-2","flex","items-center",3,"formGroup","ngSubmit"],[1,"relative","pull-right","pl-4","pr-4","md:pr-0"],["type","search","placeholder","Search","formControlName","palabra","name","search","id","search",1,"w-full","inputsearch","text-sm","text-gray-400","transition","border","bg-gray-200","dark:bg-gray-600","dark:border-gray-800","focus:outline-none","focus:border-gray-600","rounded","py-1","px-2","pl-10","appearance-none","leading-normal"],[1,"absolute","search-icon",2,"top","0.375rem","left","1.75rem"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20",1,"fill-current","pointer-events-none","text-gray-500","w-4","h-4"],["d","M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"],[1,"flex"],["for","search",1,"sr-only"],["type","submit",1,"inline-flex","px-3.5","py-2","text-sm","font-medium","rounded-md","text-gray-700","bg-white","dark:bg-gray-900","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-pink-500",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-4","w-4","text-gray-400","hover:text-gray-800","dark:hover:text-gray-100"],["fill-rule","evenodd","d","M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z","clip-rule","evenodd"],[1,"sr-only"],[1,"flex","align-middle","justify-center","mt-6","max-w-3xl"],[1,"rounded-lg","w-full","p-5","dark:text-white"],[1,"flex","items-center"],[1,"sm:hidden","w-full","dark:text-blue-900","p-3"],["for","tabs",1,"sr-only"],["id","tabs","name","tabs",1,"block","w-full","focus:ring-indigo-500","focus:border-indigo-500","border-gray-300","rounded-md","dark:text-white","dark:bg-Slate-900",3,"change"],["value","ALL"],["value","ACTIVE"],["value","INACTIVE"],[1,"hidden","sm:block"],[1,"border-b","border-gray-200"],["aria-label","Tabs",1,"-mb-px","flex","space-x-8"],["aria-current","page",1,"cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"-ml-0.5","mr-2","h-5","w-5",3,"ngClass"],["d","M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"],[1,"dark:text-white",3,"ngClass"],[1,"cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"group-hover:text-gray-500","-ml-0.5","mr-2","h-5","w-5",3,"ngClass"],["d","M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"],["fill-rule","evenodd","d","M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule","evenodd"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],["infiniteScroll","",3,"scrolled"],["class","relative z-0 divide-y divide-gray-200 border-b border-gray-200 dark:sborder-gray-900 flex",3,"click",4,"ngFor","ngForOf"],["class","boton ",3,"click",4,"ngIf"],[1,"relative","z-0","divide-y","divide-gray-200","border-b","border-gray-200","dark:sborder-gray-900","flex",3,"click"],[1,"text-xs","hidden","sm:flex","bg-Teal-600","w-9","items-center","justify-center","text-white","border-2","border-slate-100","dark:border-gray-700","shadow-lg"],[1,"relative","hover:bg-gray-50","p-2","dark:hover:bg-gray-500","w-full"],[1,"block"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-indigo-600","dark:text-yellow-300","truncate"],[1,"ml-2","flex-shrink-0","flex"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full",3,"ngClass"],[1,"mt-2","sm:flex","sm:justify-between"],[1,"flex","space-x-2"],[1,"flex","items-center","text-sm","text-gray-500","dark:text-white"],[1,"relative","p-2","w-full"],[1,"mt-2"],[1,"grid","grid-cols-2"],[1,"text-xs","dark:text-white"],[1,"boton",3,"click"],["xmlns","http://www.w3.org/2000/svg","enable-background","new 0 0 20 20","height","36px","viewBox","0 0 20 20","width","36px","fill","currentcolor"],["fill","none","height","20","width","20"],["d","M10,2c-4.42,0-8,3.58-8,8s3.58,8,8,8s8-3.58,8-8S14.42,2,10,2z M10,12.6L6.63,9.23l1.06-1.06L10,10.48l2.31-2.31l1.06,1.06 L10,12.6z"]],template:function(o,g){1&o&&(e.TgZ(0,"h3",0),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",1),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",2)(7,"form",3),e.NdJ("ngSubmit",function(){return g.onSubmit()}),e.TgZ(8,"div",4),e._UZ(9,"input",5),e.TgZ(10,"div",6),e.O4$(),e.TgZ(11,"svg",7),e._UZ(12,"path",8),e.qZA()()(),e.kcU(),e.TgZ(13,"div",9)(14,"label",10),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"label",10),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",11),e.O4$(),e.TgZ(21,"svg",12),e._UZ(22,"path",13),e.qZA(),e.kcU(),e.TgZ(23,"span",14),e._uU(24),e.ALo(25,"translate"),e.qZA()()()(),e.TgZ(26,"div",2)(27,"div",15)(28,"div",16)(29,"div",17)(30,"div",17)(31,"div",18)(32,"label",19),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"select",20),e.NdJ("change",function(pe){return g.onChange(pe)}),e.TgZ(36,"option",21),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"option",22),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"option",23),e._uU(43),e.ALo(44,"translate"),e.qZA()()(),e.TgZ(45,"div",24)(46,"div",25)(47,"nav",26)(48,"a",27),e.NdJ("click",function(){return g.onChangeBig("ALL")}),e.O4$(),e.TgZ(49,"svg",28),e._UZ(50,"path",29),e.qZA(),e.kcU(),e.TgZ(51,"span",30),e._uU(52),e.ALo(53,"translate"),e.qZA()(),e.TgZ(54,"a",31),e.NdJ("click",function(){return g.onChangeBig(!0)}),e.O4$(),e.TgZ(55,"svg",32),e._UZ(56,"path",33)(57,"path",34),e.qZA(),e.kcU(),e.TgZ(58,"span",30),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"a",31),e.NdJ("click",function(){return g.onChangeBig(!1)}),e.O4$(),e.TgZ(62,"svg",32),e._UZ(63,"path",35),e.qZA(),e.kcU(),e.TgZ(64,"span",30),e._uU(65),e.ALo(66,"translate"),e.qZA()()()()()()(),e.TgZ(67,"div",36),e.NdJ("scrolled",function(){return g.onScroll()}),e.YNc(68,Rt,42,38,"ul",37),e.qZA(),e.YNc(69,$t,4,0,"button",38),e.qZA()()()),2&o&&(e.xp6(1),e.AsE("",e.lcZ(2,23,"labels.total_mentors"),": ",null!=g.arrFinal&&g.arrFinal.length?g.arrFinal.length:"?"," "),e.xp6(3),e.Oqu(e.lcZ(5,25,"labels.filterstate."+g.estadofiltro)),e.xp6(3),e.Q6J("formGroup",g.formulario),e.xp6(8),e.Oqu(e.lcZ(16,27,"labels.search_by_name")),e.xp6(3),e.Oqu(e.lcZ(19,29,"labels.search")),e.xp6(2),e.Q6J("disabled",!g.formulario.valid),e.xp6(4),e.Oqu(e.lcZ(25,31,"labels.search")),e.xp6(9),e.Oqu(e.lcZ(34,33,"labels.select_a_tab")),e.xp6(4),e.Oqu(e.lcZ(38,35,"labels.filterstate.ALL")),e.xp6(3),e.Oqu(e.lcZ(41,37,"labels.filterstate.ACTIVE")),e.xp6(3),e.Oqu(e.lcZ(44,39,"labels.filterstate.INACTIVE")),e.xp6(6),e.Q6J("ngClass","ALL"===g.estadofiltro?"text-blue-700":"text-gray-700"),e.xp6(2),e.Q6J("ngClass","ALL"===g.estadofiltro?"text-blue-700":"text-gray-700"),e.xp6(1),e.Oqu(e.lcZ(53,41,"labels.filterstate.ALL")),e.xp6(3),e.Q6J("ngClass","ACTIVE"===g.estadofiltro?"text-blue-700":"text-gray-700"),e.xp6(3),e.Q6J("ngClass","ACTIVE"===g.estadofiltro?"text-blue-700":"text-gray-700"),e.xp6(1),e.Oqu(e.lcZ(60,43,"labels.filterstate.ACTIVE")),e.xp6(3),e.Q6J("ngClass","INACTIVE"===g.estadofiltro?"text-indigo-500":"text-gray-500"),e.xp6(2),e.Q6J("ngClass","INACTIVE"===g.estadofiltro?"text-blue-700":"text-gray-700"),e.xp6(1),e.Oqu(e.lcZ(66,45,"labels.filterstate.INACTIVE")),e.xp6(3),e.Q6J("ngForOf",g.linesToWrite),e.xp6(1),e.Q6J("ngIf",g.showButton))},directives:[v._Y,v.JL,v.sg,v.Fj,v.JJ,v.u,v.YN,v.Kr,u.mk,Oe.Ry,u.sg,u.O5],pipes:[c.X$],styles:[".boton[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:30px;z-index:3;background-color:tomato;color:#fff;cursor:pointer;font-size:1.5rem;width:50px;height:50px;display:flex;justify-content:center;align-items:center;border-color:tomato;border-radius:30%;transform:rotate(180deg);transition:all .4s ease-in-out}.boton[_ngcontent-%COMP%]:hover{background-color:#8c43e6;font-size:2rem}"]}),s})(),data:{titulo:"Staff"}},{path:"detalle/:staffId",component:Ft,children:[{path:"",component:i.H,data:{titulo:"Detalle Staff",breadcrumb:[{label:"Home",url:"/"},{label:"Staff",url:"/staff"},{label:"Detalle Staff",url:""}]}}]},{path:"addstaff",component:ne,data:{titulo:"Agregar Staff",breadcrumb:[{label:"Home",url:"/"},{label:"Agregar Staff",url:"/addclient"}]}}];let jt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[t.Bz.forChild(Ht)],t.Bz]}),s})();var Qt=p(5879);let Vt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[u.ez,jt,Oe.Rq,c.aw,v.UX,Qt.m]]}),s})()},575:(ae,z,p)=>{p.d(z,{s:()=>h});var u=p(5861),t=p(5e3),i=p(7232),F=p(433),v=p(2593),e=p(2313);let k=(()=>{class r{constructor(b,C,Q){this.translate=b,this.clienteSvc=C,this.domSanitizer=Q}}return r.\u0275fac=function(b){return new(b||r)(t.LFG(i.sK),t.LFG(v.a),t.LFG(e.H7))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var J=p(4647),U=p(8045),$=p(4682),A=p(9808),P=p(8489),a=p(3075);function m(r,_){if(1&r){const b=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(){return t.CHM(b),t.oxw().toggleModal()}),t.qZA()}}function c(r,_){if(1&r){const b=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"div",20)(5,"div",21)(6,"app-agregar-visita",22),t.NdJ("cierrame",function(){return t.CHM(b),t.oxw().toggleModal()}),t.qZA()()()()()()()}if(2&r){const b=t.oxw();t.xp6(6),t.Q6J("foo",b.foo)}}function I(r,_){if(1&r&&(t.TgZ(0,"span")(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&r){const b=t.oxw(3);t.xp6(2),t.hij(" ",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].DiasInicial,""),t.xp6(1),t.hij(" ",t.lcZ(4,2,"labels.tarjeta_cliente.desde_primer_visita")," ")}}function Z(r,_){if(1&r&&(t.TgZ(0,"p",30),t.YNc(1,I,5,4,"span",31),t.qZA()),2&r){const b=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].DiasInicial)&&!(null!=b.diasSinVisitar[0]&&b.diasSinVisitar[0].DiasMensual))}}function j(r,_){if(1&r&&(t.TgZ(0,"span")(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&r){const b=t.oxw(3);t.xp6(2),t.hij(" ",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].DiasMensual,""),t.xp6(1),t.hij(" ",t.lcZ(4,2,"labels.tarjeta_cliente.dias_sin_visita_mensual")," ")}}function R(r,_){if(1&r&&(t.TgZ(0,"p",30),t.YNc(1,j,5,4,"span",31),t.qZA()),2&r){const b=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].DiasMensual)}}function X(r,_){if(1&r&&(t.TgZ(0,"span")(1,"b"),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()),2&r){const b=t.oxw(3);t.xp6(2),t.hij(" ",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].DiasSeguimiento,""),t.xp6(1),t.hij(" ",t.lcZ(4,2,"labels.tarjeta_cliente.dias_sin_visita_seguimiento")," ")}}function D(r,_){if(1&r&&(t.TgZ(0,"p",30),t.YNc(1,X,5,4,"span",31),t.qZA()),2&r){const b=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].DiasSeguimiento)}}function ue(r,_){if(1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"b"),t._uU(4),t.qZA()()),2&r){const b=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,2,"labels.next_date_of_visit"),": "),t.xp6(3),t.hij(" ",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].Proxima,"")}}function ce(r,_){if(1&r&&(t.TgZ(0,"p",30),t.YNc(1,ue,5,4,"span",31),t.qZA()),2&r){const b=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==b.diasSinVisitar[0]?null:b.diasSinVisitar[0].Proxima)}}function ne(r,_){if(1&r&&(t.TgZ(0,"div",23)(1,"article",24)(2,"a",25),t.O4$(),t.TgZ(3,"svg",26),t._UZ(4,"path",27),t.qZA(),t._uU(5),t.qZA(),t.kcU(),t.TgZ(6,"b",28),t._uU(7),t.qZA()(),t.YNc(8,Z,2,1,"p",29),t.YNc(9,R,2,1,"p",29),t.YNc(10,D,2,1,"p",29),t.YNc(11,ce,2,1,"p",29),t.qZA()),2&r){const b=t.oxw();t.Q6J("ngClass","detalle"==b.opcion?"flex  space-x-5":"grid "),t.xp6(2),t.Q6J("href","tel:"+(null==b.foo?null:b.foo.mobileNo),t.LSH),t.xp6(3),t.hij(" ",null!=b.foo&&b.foo.mobileNo?null==b.foo?null:b.foo.mobileNo:"N/T"," "),t.xp6(2),t.hij("",null!=b.foo&&b.foo.officeName?null==b.foo?null:b.foo.officeName:null==b.foo?null:b.foo.parentName," "),t.xp6(1),t.Q6J("ngIf",b.diasSinVisitar&&b.visitas),t.xp6(1),t.Q6J("ngIf",b.diasSinVisitar&&b.visitas),t.xp6(1),t.Q6J("ngIf",b.diasSinVisitar&&b.visitas),t.xp6(1),t.Q6J("ngIf",b.diasSinVisitar&&b.visitas)}}function re(r,_){if(1&r&&(t.TgZ(0,"p",34)(1,"span")(2,"b"),t._uU(3),t.qZA()()()),2&r){const b=_.$implicit,C=t.oxw(2);t.Q6J("ngClass",b.id==C.idproyecto?"text-blue-600 dark:text-yellow-300 ":"text-gray-400 dark:text-gray-600 "),t.xp6(3),t.Oqu(b.name)}}function de(r,_){if(1&r&&(t.TgZ(0,"div",32),t.YNc(1,re,4,2,"p",33),t.qZA()),2&r){const b=t.oxw();t.xp6(1),t.Q6J("ngForOf",b.proyectos)}}function me(r,_){if(1&r&&(t.TgZ(0,"div",35)(1,"div",36)(2,"div",37)(3,"a",38)(4,"span",39),t._uU(5),t.ALo(6,"translate"),t.qZA()()()()()),2&r){const b=t.oxw();t.Q6J("ngClass","detalle"==b.opcion?"mb-2":"mb-0 "),t.xp6(5),t.Oqu(t.lcZ(6,2,"errors.clasificacion_requerida_para_agregar_visita"))}}function q(r,_){if(1&r){const b=t.EpF();t.TgZ(0,"div",42),t.NdJ("click",function(){return t.CHM(b),t.oxw(2).agregarVisita()}),t.TgZ(1,"a",43),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"path",45),t.qZA(),t.kcU(),t.TgZ(4,"span",39),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}2&r&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"labels.add_visit")))}function H(r,_){if(1&r){const b=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){return t.CHM(b),t.oxw(2).agregarCatalyst()}),t.TgZ(1,"a",47),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"path",45),t.qZA(),t.kcU(),t.TgZ(4,"span",39),t._uU(5),t.ALo(6,"translate"),t.qZA()()()}2&r&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"labels.add_catalyst")))}function d(r,_){if(1&r&&(t.TgZ(0,"div",35)(1,"div",36),t.YNc(2,q,7,3,"div",40),t.YNc(3,H,7,3,"div",41),t.qZA()()),2&r){const b=t.oxw();t.Q6J("ngClass","detalle"==b.opcion?"mb-1":"mb-0 "),t.xp6(2),t.Q6J("ngIf",b.mentorProfesional),t.xp6(1),t.Q6J("ngIf",b.MentorSolucion)}}function l(r,_){if(1&r){const b=t.EpF();t.TgZ(0,"div",48),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"div",49)(4,"div",50)(5,"form",51)(6,"div",52)(7,"label",53),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"textarea",54,55),t.qZA(),t.TgZ(12,"div",56)(13,"div",57),t.NdJ("click",function(){t.CHM(b);const Q=t.MAs(11);return t.oxw().aceptarTransferencia(Q.value)}),t.TgZ(14,"a",58)(15,"span",59)(16,"span",60),t._uU(17),t.ALo(18,"translate"),t.qZA(),t._UZ(19,"span",61),t.qZA()()(),t.TgZ(20,"div",57),t.NdJ("click",function(){t.CHM(b);const Q=t.MAs(11);return t.oxw().rechazarTransferencia(Q.value)}),t.TgZ(21,"a",58)(22,"span",59)(23,"span",60),t._uU(24),t.ALo(25,"translate"),t.qZA(),t._UZ(26,"span",61),t.qZA()()()()()()()()}2&r&&(t.xp6(1),t.hij(" ",t.lcZ(2,4,"labels.note.label")," "),t.xp6(7),t.Oqu(t.lcZ(9,6,"labels.note.adding")),t.xp6(9),t.Oqu(t.lcZ(18,8,"labels.transfer_client.accept_transfer")),t.xp6(7),t.Oqu(t.lcZ(25,10,"labels.transfer_client.reject_transfer")))}let h=(()=>{class r{constructor(b,C,Q,Y,B,ee,K,ie){this.translate=b,this.router=C,this.procesos=Q,this.sanitizer=Y,this.clientsservice=B,this.funciones=ee,this.transferenciaSvc=K,this.codesSvc=ie,this.MentorSolucion=!1,this.mentorProfesional=!1,this.AllRead=!1;let le=localStorage.getItem("user");le&&(this.usuario=JSON.parse(le)),this.visitas=!0,this.botones=!0,this.transferir=!1,this.modo=0,this.opcion="",this.showModalAgregarVisita=!1,this.vermenu=!1}ngOnInit(){var C,Q,Y,b=this;1===(this.clientId=(null===(C=this.foo)||void 0===C?void 0:C.id)?null===(Q=this.foo)||void 0===Q?void 0:Q.id:null===(Y=this.foo)||void 0===Y?void 0:Y.entityId,this.clientsservice.getDiasSinVisitarCliente(this.clientId).subscribe(B=>{this.diasSinVisitar=this.funciones.arregloDobleAIndividual(B)},B=>this.diasSinVisitar=""),this.clientsservice.getHistoricoProyecto(this.clientId).subscribe(function(){var B=(0,u.Z)(function*(ee){ee.length>0&&(b.idproyecto=ee.filter(K=>!K.fechaFinal)[0].tipoProyecto_cd_idTipoProyecto,yield b.codesSvc.codesindividual("tipoProyecto").then(K=>{b.proyectos=K}))});return function(ee){return B.apply(this,arguments)}}()),this.modo)&&(this.vermenu=!1),this.usuario.permissions.find(B=>{this.AllRead="ALL_FUNCTIONS_READ"==B}),this.usuario.roles.find(B=>{"Super user"==B.name&&(this.MentorSolucion=!0,this.mentorProfesional=!0),"CountryManager"==B.name&&(this.MentorSolucion=!0,this.mentorProfesional=!0),"MentorCatalyst"==B.name&&(this.MentorSolucion=!0),"MentorProfesional"==B.name&&(this.mentorProfesional=!0)}),this.clientsservice.getClientProfileImagePromesa(this.clientId).then(B=>{B&&(this.valor=this.sanitizer.bypassSecurityTrustResourceUrl(B))},B=>{this.valor="assets/images/user_placeholder.png"})}verCliente(){this.router.navigate(["/client/detalle",this.clientId,"perfil"])}agregarVisita(){this.showModalAgregarVisita=!0}toggleModal(){this.showModalAgregarVisita=!1}agregarCatalyst(){this.router.navigate(["/client/detalle",this.clientId,"agregarCatalyst"])}editarPerfil(){}ocultar(){this.vermenu=1!=this.modo}aceptarTransferencia(b){this.transferenciaSvc.aceptarTransferencia(this.foo.id,this.foo.IdMentorActual,b,this.foo.IdTransferirAOficina)}rechazarTransferencia(b){this.transferenciaSvc.rechazarTransferencia(this.foo.id,b,this.foo.IdTransferirAOficina)}}return r.\u0275fac=function(b){return new(b||r)(t.Y36(i.sK),t.Y36(F.F0),t.Y36(k),t.Y36(e.H7),t.Y36(v.a),t.Y36(J.X),t.Y36(U.O),t.Y36($.a))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-client-tarjeta"]],inputs:{foo:"foo",visitas:"visitas",botones:"botones",transferir:"transferir",indice:"indice",modo:"modo",opcion:"opcion"},decls:19,vars:15,consts:[["class","opacity-25 fixed inset-0 z-40 cursor-pointer",3,"click",4,"ngIf"],["class","fixed inset-0 overflow-hidden z-50 ","aria-labelledby","slide-over-title","role","dialog","aria-modal","true",4,"ngIf"],[1,"col-span-1","rounded-lg","shadow","divide-y","divide-gray-200","dark:divide-gray-700"],[1,"w-full","flex","items-center","justify-between","p-2","space-x-6",3,"dblclick"],[1,"flex-1","truncate"],[1,"flex","items-center","space-x-3"],[1,"text-gray-900","dark:text-yellow-300","text-sm","font-medium","truncate"],[1,"flex-shrink-0","inline-block","px-2","py-0.5","text-green-800","text-xs","font-medium","bg-green-100","rounded-full"],[3,"ngClass",4,"ngIf"],["class","flex space-x-2",4,"ngIf"],[1,"flex-shrink-0","inline-block","relative"],["alt","",1,"h-16","w-16","rounded-full",3,"src"],["aria-hidden","true",1,"absolute","top-0","right-0","block","h-2.5","w-2.5","rounded-full","ring-2","ring-white",3,"ngClass"],["class","print:hidden",3,"ngClass",4,"ngIf"],["class","col-span-6 md:col-span-2",4,"ngIf"],[1,"opacity-25","fixed","inset-0","z-40","cursor-pointer",3,"click"],["aria-labelledby","slide-over-title","role","dialog","aria-modal","true",1,"fixed","inset-0","overflow-hidden","z-50"],[1,"absolute","inset-0","overflow-hidden"],["aria-hidden","true",1,"absolute","inset-0"],[1,"fixed","inset-y-0","right-0","pl-10","max-w-full","flex","sm:pl-16"],[1,"w-screen","max-w-md"],[1,"h-full","flex","flex-col","bg-white","dark:bg-BlueGray-800","dark:text-white","shadow-xl","overflow-y-scroll","p-3"],[3,"foo","cierrame"],[3,"ngClass"],[1,"text-gray-500","dark:text-green-300","text-sm","truncate","flex","space-x-1","items-center","text-center"],[1,"mt-1","text-gray-500","dark:text-green-300","text-sm","truncate","flex","space-x-1",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-3","w-3","mx-2","mt-1"],["d","M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"],[1,"select-none"],["class","mt-1 text-gray-500 dark:text-white text-xs truncate",4,"ngIf"],[1,"mt-1","text-gray-500","dark:text-white","text-xs","truncate"],[4,"ngIf"],[1,"flex","space-x-2"],["class","mt-1 text-xs truncate",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-1","text-xs","truncate",3,"ngClass"],[1,"print:hidden",3,"ngClass"],[1,"-mt-px","flex","divide-x","divide-gray-200","dark:divide-gray-700"],[1,"w-0","flex-1","flex","cursor-pointer"],[1,"relative","-mr-px","w-0","flex-1","inline-flex","items-center","justify-center","py-4","text-sm","text-gray-700","dark:text-gray-100","font-medium","border","border-transparent","rounded-bl-lg","hover:text-gray-500","dark:hover:text-gray-50"],[1,"ml-3"],["class","w-0 flex-1 flex cursor-pointer ",3,"click",4,"ngIf"],["class","-ml-px w-0 flex-1 flex cursor-pointer ",3,"click",4,"ngIf"],[1,"w-0","flex-1","flex","cursor-pointer",3,"click"],[1,"relative","-mr-px","w-0","flex-1","inline-flex","items-center","justify-center","py-2","text-sm","text-gray-700","dark:text-gray-100","font-medium","border","border-transparent","rounded-bl-lg","hover:text-gray-500","dark:hover:text-gray-50"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule","evenodd"],[1,"-ml-px","w-0","flex-1","flex","cursor-pointer",3,"click"],[1,"relative","w-0","flex-1","inline-flex","items-center","justify-center","py-2","text-sm","text-gray-700","dark:text-gray-100","font-medium","border","border-transparent","rounded-br-lg","hover:text-gray-500","dark:hover:text-gray-50"],[1,"col-span-6","md:col-span-2"],[1,"flex","items-start","space-x-4"],[1,"min-w-0","flex-1"],["action","#"],[1,"border-b","border-gray-200","focus-within:border-indigo-600"],["for","comment",1,"sr-only"],["rows","3","placeholder","Agrega una nota...",1,"dark:border-gray-800","dark:text-white","block","w-full","border-0","border-b","border-transparent","p-0","pb-2","resize-none","focus:ring-0","focus:border-indigo-600","sm:text-sm"],["nota",""],[1,"pt-2","flex","justify-end"],[1,"flex-1","group",3,"click"],[1,"flex","items-end","justify-center","text-center","mx-auto","w-full","text-gray-600","group-hover:text-indigo-500"],[1,"block","px-1","pt-1","pb-1"],[1,"block","text-xs","pb-2","dark:text-white"],[1,"block","w-5","mx-auto","h-1","group-hover:bg-indigo-500","dark:group-hover:bg-white","rounded-full"]],template:function(b,C){1&b&&(t.YNc(0,m,1,0,"div",0),t.YNc(1,c,7,1,"div",1),t.TgZ(2,"div",2)(3,"div",3),t.NdJ("dblclick",function(){return C.verCliente()}),t.TgZ(4,"div",4)(5,"div",5)(6,"h3",6),t._uU(7),t.ALo(8,"slice"),t.qZA(),t.TgZ(9,"span",7),t._uU(10),t.qZA()(),t.YNc(11,ne,12,8,"div",8),t.YNc(12,de,2,1,"div",9),t.qZA(),t.TgZ(13,"span",10),t._UZ(14,"img",11)(15,"span",12),t.qZA()(),t.YNc(16,me,7,4,"div",13),t.YNc(17,d,4,3,"div",13),t.qZA(),t.YNc(18,l,27,12,"div",14)),2&b&&(t.Q6J("ngIf",C.showModalAgregarVisita),t.xp6(1),t.Q6J("ngIf",C.showModalAgregarVisita),t.xp6(6),t.hij(" ",null!=C.foo&&C.foo.displayName?null==C.foo?null:C.foo.displayName:t.Dn7(8,11,null==C.foo?null:C.foo.entityName,0,23)," "),t.xp6(3),t.Oqu(null!=C.foo&&C.foo.accountNo?null==C.foo?null:C.foo.accountNo:null==C.foo?null:C.foo.id),t.xp6(1),t.Q6J("ngIf",!C.transferir),t.xp6(1),t.Q6J("ngIf",!C.transferir),t.xp6(2),t.Q6J("src",C.valor?C.valor:"assets/images/user_placeholder.png",t.LSH),t.xp6(1),t.Q6J("ngClass",!0===(null==C.foo?null:C.foo.active)?"bg-green-400":"bg-red-400"),t.xp6(1),t.Q6J("ngIf",C.botones&&!C.foo.clientClassification.id),t.xp6(1),t.Q6J("ngIf",C.botones&&C.foo.clientClassification.id&&1==(null==C.foo?null:C.foo.active)),t.xp6(1),t.Q6J("ngIf",C.transferir))},directives:[A.O5,P.R,A.mk,A.sg,a._Y,a.JL],pipes:[A.OU,i.X$],styles:[""]}),r})()},5909:(ae,z,p)=>{p.d(z,{K:()=>t});var u=p(5e3);let t=(()=>{class i{transform(v){let k=v.toString().split(",");return k[1]<10&&(k[1]="0"+k[1]),k[2]<10&&(k[2]="0"+k[2]),k=k.join(),k=k.replace(",","-"),k=k.replace(",","-"),k.substring(0,10),k.substring(0,10)}}return i.\u0275fac=function(v){return new(v||i)},i.\u0275pipe=u.Yjl({name:"stringToDate",type:i,pure:!0}),i})()},5879:(ae,z,p)=>{p.d(z,{m:()=>N});var u=p(5e3),t=p(9808),i=p(433);const v=[{path:"",component:p(8636).G}];let e=(()=>{class M{}return M.\u0275fac=function(O){return new(O||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({imports:[[i.Bz.forChild(v)],i.Bz]}),M})();var k=p(3075),J=p(40),U=p(7232),$=p(520),A=p(2073),P=p(3877),a=p(9770),m=p(2843),c=p(4968),I=p(9646),Z=p(7272),j=p(7579),R=p(8306),X=p(5032);const D=new R.y(X.Z);var ce=p(6451),ne=p(4004),re=p(9300),de=p(3900),me=p(4033),q=p(576),H=p(2076),d=p(4482);const h={connector:()=>new j.x};function r(M,S=h){const{connector:O}=S;return(0,d.e)((V,W)=>{const te=O();(0,H.D)(M(function l(M){return new R.y(S=>M.subscribe(S))}(te))).subscribe(W),W.add(V.subscribe(te))})}var C=p(5698),Q=p(8505),Y=p(4049),B=p(5403),ie=p(5577);function le(M,S){return S?O=>(0,Z.z)(S.pipe((0,C.q)(1),function ee(){return(0,d.e)((M,S)=>{M.subscribe((0,B.x)(S,X.Z))})}()),O.pipe(le(M))):(0,ie.z)((O,V)=>M(O,V).pipe((0,C.q)(1),function K(M){return(0,ne.U)(()=>M)}(O)))}var se=p(5963);const oe="Service workers are disabled or not supported by this browser";class _e{constructor(S){if(this.serviceWorker=S,S){const V=(0,c.R)(S,"controllerchange").pipe((0,ne.U)(()=>S.controller)),W=(0,a.P)(()=>(0,I.of)(S.controller)),te=(0,Z.z)(W,V);this.worker=te.pipe((0,re.h)(Ce=>!!Ce)),this.registration=this.worker.pipe((0,de.w)(()=>S.getRegistration()));const Me=(0,c.R)(S,"message").pipe((0,ne.U)(Ce=>Ce.data)).pipe((0,re.h)(Ce=>Ce&&Ce.type)).pipe(function b(M){return M?S=>r(M)(S):S=>function _(M,S){const O=(0,q.m)(M)?M:()=>M;return(0,q.m)(S)?r(S,{connector:O}):V=>new me.c(V,O)}(new j.x)(S)}());Me.connect(),this.events=Me}else this.worker=this.events=this.registration=function ge(M){return(0,a.P)(()=>(0,m._)(new Error(M)))}(oe)}postMessage(S,O){return this.worker.pipe((0,C.q)(1),(0,Q.b)(V=>{V.postMessage(Object.assign({action:S},O))})).toPromise().then(()=>{})}postMessageWithOperation(S,O,V){const W=this.waitForOperationCompleted(V),te=this.postMessage(S,O);return Promise.all([te,W]).then(([,G])=>G)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(S){let O;return O="string"==typeof S?V=>V.type===S:V=>S.includes(V.type),this.events.pipe((0,re.h)(O))}nextEventOfType(S){return this.eventsOfType(S).pipe((0,C.q)(1))}waitForOperationCompleted(S){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,re.h)(O=>O.nonce===S),(0,C.q)(1),(0,ne.U)(O=>{if(void 0!==O.result)return O.result;throw new Error(O.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Ae=(()=>{class M{constructor(O){if(this.sw=O,this.subscriptionChanges=new j.x,!O.isEnabled)return this.messages=D,this.notificationClicks=D,void(this.subscription=D);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ne.U)(W=>W.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ne.U)(W=>W.data)),this.pushManager=this.sw.registration.pipe((0,ne.U)(W=>W.pushManager));const V=this.pushManager.pipe((0,de.w)(W=>W.getSubscription()));this.subscription=(0,ce.T)(V,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(O){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));const V={userVisibleOnly:!0};let W=this.decodeBase64(O.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),te=new Uint8Array(new ArrayBuffer(W.length));for(let G=0;G<W.length;G++)te[G]=W.charCodeAt(G);return V.applicationServerKey=te,this.pushManager.pipe((0,de.w)(G=>G.subscribe(V)),(0,C.q)(1)).toPromise().then(G=>(this.subscriptionChanges.next(G),G))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,C.q)(1),(0,de.w)(V=>{if(null===V)throw new Error("Not subscribed to push notifications.");return V.unsubscribe().then(W=>{if(!W)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(oe))}decodeBase64(O){return atob(O)}}return M.\u0275fac=function(O){return new(O||M)(u.LFG(_e))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})(),ve=(()=>{class M{constructor(O){if(this.sw=O,!O.isEnabled)return this.versionUpdates=D,this.available=D,this.activated=D,void(this.unrecoverable=D);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,re.h)(V=>"VERSION_READY"===V.type),(0,ne.U)(V=>({type:"UPDATE_AVAILABLE",current:V.currentVersion,available:V.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));const O=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:O},O)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(oe));const O=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:O},O)}}return M.\u0275fac=function(O){return new(O||M)(u.LFG(_e))},M.\u0275prov=u.Yz7({token:M,factory:M.\u0275fac}),M})();class xe{}const be=new u.OlP("NGSW_REGISTER_SCRIPT");function Ze(M,S,O,V){return()=>{if(!(0,t.NF)(V)||!("serviceWorker"in navigator)||!1===O.enabled)return;let te;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof O.registrationStrategy)te=O.registrationStrategy();else{const[fe,...ye]=(O.registrationStrategy||"registerWhenStable:30000").split(":");switch(fe){case"registerImmediately":te=(0,I.of)(null);break;case"registerWithDelay":te=w(+ye[0]||0);break;case"registerWhenStable":te=ye[0]?(0,ce.T)(E(M),w(+ye[0])):E(M);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${O.registrationStrategy}`)}}M.get(u.R0b).runOutsideAngular(()=>te.pipe((0,C.q)(1)).subscribe(()=>navigator.serviceWorker.register(S,{scope:O.scope}).catch(fe=>console.error("Service worker registration failed with:",fe))))}}function w(M){return(0,I.of)(null).pipe(function he(M,S=Y.z){const O=(0,se.H)(M,S);return le(()=>O)}(M))}function E(M){return M.get(u.z2F).isStable.pipe((0,re.h)(O=>O))}function T(M,S){return new _e((0,t.NF)(S)&&!1!==M.enabled?navigator.serviceWorker:void 0)}let x=(()=>{class M{static register(O,V={}){return{ngModule:M,providers:[{provide:be,useValue:O},{provide:xe,useValue:V},{provide:_e,useFactory:T,deps:[xe,u.Lbi]},{provide:u.ip1,useFactory:Ze,deps:[u.zs3,be,xe,u.Lbi],multi:!0}]}}}return M.\u0275fac=function(O){return new(O||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({providers:[Ae,ve]}),M})();var f=p(2340);function n(M){return new J.w(M)}let N=(()=>{class M{}return M.\u0275fac=function(O){return new(O||M)},M.\u0275mod=u.oAB({type:M}),M.\u0275inj=u.cJS({providers:[{provide:u.soG,useValue:"es"},{provide:$.TP,useClass:A.OT,multi:!0},{provide:$.TP,useClass:A.aQ,multi:!0}],imports:[[t.ez,P.QG,t.ez,e,U.aw,k.UX,U.aw.forChild({loader:{provide:U.Zw,useFactory:n,deps:[$.eN]},isolate:!1}),x.register("ngsw-worker.js",{enabled:f.N.production,registrationStrategy:"registerWhenStable:30000"})],P.QG,U.aw]}),M})()},5963:(ae,z,p)=>{p.d(z,{H:()=>v});var u=p(8306),t=p(4049),i=p(3532);function v(e=0,k,J=t.P){let U=-1;return null!=k&&((0,i.K)(k)?J=k:U=k),new u.y($=>{let A=function F(e){return e instanceof Date&&!isNaN(e)}(e)?+e-J.now():e;A<0&&(A=0);let P=0;return J.schedule(function(){$.closed||($.next(P++),0<=U?this.schedule(void 0,U):$.complete())},A)})}},8372:(ae,z,p)=>{p.d(z,{b:()=>F});var u=p(4049),t=p(4482),i=p(5403);function F(v,e=u.z){return(0,t.e)((k,J)=>{let U=null,$=null,A=null;const P=()=>{if(U){U.unsubscribe(),U=null;const m=$;$=null,J.next(m)}};function a(){const m=A+v,c=e.now();if(c<m)return U=this.schedule(void 0,m-c),void J.add(U);P()}k.subscribe((0,i.x)(J,m=>{$=m,A=e.now(),U||(U=e.schedule(a,v),J.add(U))},()=>{P(),J.complete()},void 0,()=>{$=U=null}))})}},4049:(ae,z,p)=>{p.d(z,{P:()=>$,z:()=>U});var u=p(727);class t extends u.w0{constructor(P,a){super()}schedule(P,a=0){return this}}const i={setInterval(A,P,...a){const{delegate:m}=i;return(null==m?void 0:m.setInterval)?m.setInterval(A,P,...a):setInterval(A,P,...a)},clearInterval(A){const{delegate:P}=i;return((null==P?void 0:P.clearInterval)||clearInterval)(A)},delegate:void 0};var F=p(8737),e=p(6063);class k{constructor(P,a=k.now){this.schedulerActionCtor=P,this.now=a}schedule(P,a=0,m){return new this.schedulerActionCtor(this,P).schedule(m,a)}}k.now=e.l.now;const U=new class J extends k{constructor(P,a=k.now){super(P,a),this.actions=[],this._active=!1,this._scheduled=void 0}flush(P){const{actions:a}=this;if(this._active)return void a.push(P);let m;this._active=!0;do{if(m=P.execute(P.state,P.delay))break}while(P=a.shift());if(this._active=!1,m){for(;P=a.shift();)P.unsubscribe();throw m}}}(class v extends t{constructor(P,a){super(P,a),this.scheduler=P,this.work=a,this.pending=!1}schedule(P,a=0){if(this.closed)return this;this.state=P;const m=this.id,c=this.scheduler;return null!=m&&(this.id=this.recycleAsyncId(c,m,a)),this.pending=!0,this.delay=a,this.id=this.id||this.requestAsyncId(c,this.id,a),this}requestAsyncId(P,a,m=0){return i.setInterval(P.flush.bind(P,this),m)}recycleAsyncId(P,a,m=0){if(null!=m&&this.delay===m&&!1===this.pending)return a;i.clearInterval(a)}execute(P,a){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const m=this._execute(P,a);if(m)return m;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(P,a){let c,m=!1;try{this.work(P)}catch(I){m=!0,c=I||new Error("Scheduled action threw falsy error")}if(m)return this.unsubscribe(),c}unsubscribe(){if(!this.closed){const{id:P,scheduler:a}=this,{actions:m}=a;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(m,this),null!=P&&(this.id=this.recycleAsyncId(a,P,null)),this.delay=null,super.unsubscribe()}}}),$=U},3877:(ae,z,p)=>{p.d(z,{QG:()=>de,ap:()=>re});var u=p(5e3),t=p(655),i=p(2313),F=p(9808);const v=["wrapper"],e=["sourceImage"];function k(q,H){if(1&q){const d=u.EpF();u.TgZ(0,"img",4,5),u.NdJ("load",function(){return u.CHM(d),u.oxw().imageLoadedInView()}),u.qZA()}if(2&q){const d=u.oxw();u.Udp("visibility",d.imageVisible?"visible":"hidden")("transform",d.safeTransformStyle),u.Q6J("src",d.safeImgDataUrl,u.LSH)}}function J(q,H){if(1&q){const d=u.EpF();u.ynx(0),u.TgZ(1,"span",9),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"topleft")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"topleft")}),u._UZ(2,"span",10),u.qZA(),u.TgZ(3,"span",11),u._UZ(4,"span",10),u.qZA(),u.TgZ(5,"span",12),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"topright")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"topright")}),u._UZ(6,"span",10),u.qZA(),u.TgZ(7,"span",13),u._UZ(8,"span",10),u.qZA(),u.TgZ(9,"span",14),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"bottomright")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"bottomright")}),u._UZ(10,"span",10),u.qZA(),u.TgZ(11,"span",15),u._UZ(12,"span",10),u.qZA(),u.TgZ(13,"span",16),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"bottomleft")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"bottomleft")}),u._UZ(14,"span",10),u.qZA(),u.TgZ(15,"span",17),u._UZ(16,"span",10),u.qZA(),u.TgZ(17,"span",18),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"top")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"top")}),u.qZA(),u.TgZ(18,"span",19),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"right")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"right")}),u.qZA(),u.TgZ(19,"span",20),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"bottom")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"bottom")}),u.qZA(),u.TgZ(20,"span",21),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"left")})("touchstart",function(h){u.CHM(d);const r=u.oxw(2);return r.startMove(h,r.moveTypes.Resize,"left")}),u.qZA(),u.BQk()}}function U(q,H){if(1&q){const d=u.EpF();u.TgZ(0,"div",6),u.NdJ("keydown",function(h){return u.CHM(d),u.oxw().keyboardAccess(h)}),u.TgZ(1,"div",7),u.NdJ("mousedown",function(h){u.CHM(d);const r=u.oxw();return r.startMove(h,r.moveTypes.Move)})("touchstart",function(h){u.CHM(d);const r=u.oxw();return r.startMove(h,r.moveTypes.Move)}),u.qZA(),u.YNc(2,J,21,0,"ng-container",8),u.qZA()}if(2&q){const d=u.oxw();u.Udp("top",d.cropper.y1,"px")("left",d.cropper.x1,"px")("width",d.cropper.x2-d.cropper.x1,"px")("height",d.cropper.y2-d.cropper.y1,"px")("margin-left","center"===d.alignImage?d.marginLeft:null)("visibility",d.imageVisible?"visible":"hidden"),u.ekj("ngx-ic-round",d.roundCropper),u.xp6(2),u.Q6J("ngIf",!d.hideResizeSquares)}}class ${constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=null,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(H){Object.keys(H).filter(d=>d in this).forEach(d=>this[d]=H[d]),this.validateOptions()}setOptionsFromChanges(H){Object.keys(H).filter(d=>d in this).forEach(d=>this[d]=H[d].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}var A=(()=>{return(q=A||(A={})).Move="move",q.Resize="resize",q.Pinch="pinch",A;var q})();function I(q,H){return q/100*H}let Z=(()=>{class q{crop(d,l,h,r){const _=this.getImagePosition(d,l,h,r),b=_.x2-_.x1,C=_.y2-_.y1,Q=document.createElement("canvas");Q.width=b,Q.height=C;const Y=Q.getContext("2d");if(!Y)return null;null!=r.backgroundColor&&(Y.fillStyle=r.backgroundColor,Y.fillRect(0,0,b,C));const B=(r.transform.scale||1)*(r.transform.flipH?-1:1),ee=(r.transform.scale||1)*(r.transform.flipV?-1:1),K=l.transformed;Y.setTransform(B,0,0,ee,K.size.width/2,K.size.height/2),Y.translate(-_.x1/B,-_.y1/ee),Y.rotate((r.transform.rotate||0)*Math.PI/180);const ie=r.transform.translateH?I(r.transform.translateH,K.size.width):0,le=r.transform.translateV?I(r.transform.translateV,K.size.height):0;Y.drawImage(K.image,ie-K.size.width/2,le-K.size.height/2);const se={width:b,height:C,imagePosition:_,cropperPosition:Object.assign({},h)};r.containWithinAspectRatio&&(se.offsetImagePosition=this.getOffsetImagePosition(d,l,h,r));const he=this.getResizeRatio(b,C,r);return 1!==he&&(se.width=Math.round(b*he),se.height=r.maintainAspectRatio?Math.round(se.width/r.aspectRatio):Math.round(C*he),function c(q,H,d){const l=q.width,h=q.height,r=l/(H=Math.round(H)),_=h/(d=Math.round(d)),b=Math.ceil(r/2),C=Math.ceil(_/2),Q=q.getContext("2d");if(Q){const Y=Q.getImageData(0,0,l,h),B=Q.createImageData(H,d),ee=Y.data,K=B.data;for(let ie=0;ie<d;ie++)for(let le=0;le<H;le++){const se=4*(le+ie*H),he=ie*_;let oe=0,ge=0,_e=0,Ae=0,ve=0,xe=0,be=0;const Ze=Math.floor(le*r),w=Math.floor(ie*_);let E=Math.ceil((le+1)*r),T=Math.ceil((ie+1)*_);E=Math.min(E,l),T=Math.min(T,h);for(let x=w;x<T;x++){const f=Math.abs(he-x)/C,n=le*r,N=f*f;for(let M=Ze;M<E;M++){const S=Math.abs(n-M)/b,O=Math.sqrt(N+S*S);if(O>=1)continue;oe=2*O*O*O-3*O*O+1;const V=4*(M+x*l);be+=oe*ee[V+3],_e+=oe,ee[V+3]<255&&(oe=oe*ee[V+3]/250),Ae+=oe*ee[V],ve+=oe*ee[V+1],xe+=oe*ee[V+2],ge+=oe}}K[se]=Ae/ge,K[se+1]=ve/ge,K[se+2]=xe/ge,K[se+3]=be/_e}q.width=H,q.height=d,Q.putImageData(B,0,0)}}(Q,se.width,se.height)),se.base64=Q.toDataURL("image/"+r.format,this.getQuality(r)),se}getImagePosition(d,l,h,r){const b=l.transformed.size.width/d.nativeElement.offsetWidth,C={x1:Math.round(h.x1*b),y1:Math.round(h.y1*b),x2:Math.round(h.x2*b),y2:Math.round(h.y2*b)};return r.containWithinAspectRatio||(C.x1=Math.max(C.x1,0),C.y1=Math.max(C.y1,0),C.x2=Math.min(C.x2,l.transformed.size.width),C.y2=Math.min(C.y2,l.transformed.size.height)),C}getOffsetImagePosition(d,l,h,r){const C=l.transformed.size.width/d.nativeElement.offsetWidth;let Q,Y;(r.canvasRotation+l.exifTransform.rotate)%2?(Q=(l.transformed.size.width-l.original.size.height)/2,Y=(l.transformed.size.height-l.original.size.width)/2):(Q=(l.transformed.size.width-l.original.size.width)/2,Y=(l.transformed.size.height-l.original.size.height)/2);const B={x1:Math.round(h.x1*C)-Q,y1:Math.round(h.y1*C)-Y,x2:Math.round(h.x2*C)-Q,y2:Math.round(h.y2*C)-Y};return r.containWithinAspectRatio||(B.x1=Math.max(B.x1,0),B.y1=Math.max(B.y1,0),B.x2=Math.min(B.x2,l.transformed.size.width),B.y2=Math.min(B.y2,l.transformed.size.height)),B}getResizeRatio(d,l,h){const r=h.resizeToWidth/d,_=h.resizeToHeight/l,b=new Array;h.resizeToWidth>0&&b.push(r),h.resizeToHeight>0&&b.push(_);const C=0===b.length?1:Math.min(...b);return C>1&&!h.onlyScaleDown?C:Math.min(C,1)}getQuality(d){return Math.min(1,Math.max(0,d.imageQuality/100))}}return q.\u0275fac=function(d){return new(d||q)},q.\u0275prov=u.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),j=(()=>{class q{resetCropperPosition(d,l,h){if(!(null==d?void 0:d.nativeElement))return;const r=d.nativeElement;if(h.cropperStaticHeight&&h.cropperStaticWidth)l.x1=0,l.x2=r.offsetWidth>h.cropperStaticWidth?h.cropperStaticWidth:r.offsetWidth,l.y1=0,l.y2=r.offsetHeight>h.cropperStaticHeight?h.cropperStaticHeight:r.offsetHeight;else{const _=Math.min(h.cropperScaledMaxWidth,r.offsetWidth),b=Math.min(h.cropperScaledMaxHeight,r.offsetHeight);if(h.maintainAspectRatio)if(r.offsetWidth/h.aspectRatio<r.offsetHeight){l.x1=0,l.x2=_;const C=_/h.aspectRatio;l.y1=(r.offsetHeight-C)/2,l.y2=l.y1+C}else{l.y1=0,l.y2=b;const C=b*h.aspectRatio;l.x1=(r.offsetWidth-C)/2,l.x2=l.x1+C}else l.x1=0,l.x2=_,l.y1=0,l.y2=b}}move(d,l,h){const r=this.getClientX(d)-l.clientX,_=this.getClientY(d)-l.clientY;h.x1=l.x1+r,h.y1=l.y1+_,h.x2=l.x2+r,h.y2=l.y2+_}resize(d,l,h,r,_){const b=this.getClientX(d)-l.clientX,C=this.getClientY(d)-l.clientY;switch(l.position){case"left":h.x1=Math.min(Math.max(l.x1+b,h.x2-_.cropperScaledMaxWidth),h.x2-_.cropperScaledMinWidth);break;case"topleft":h.x1=Math.min(Math.max(l.x1+b,h.x2-_.cropperScaledMaxWidth),h.x2-_.cropperScaledMinWidth),h.y1=Math.min(Math.max(l.y1+C,h.y2-_.cropperScaledMaxHeight),h.y2-_.cropperScaledMinHeight);break;case"top":h.y1=Math.min(Math.max(l.y1+C,h.y2-_.cropperScaledMaxHeight),h.y2-_.cropperScaledMinHeight);break;case"topright":h.x2=Math.max(Math.min(l.x2+b,h.x1+_.cropperScaledMaxWidth),h.x1+_.cropperScaledMinWidth),h.y1=Math.min(Math.max(l.y1+C,h.y2-_.cropperScaledMaxHeight),h.y2-_.cropperScaledMinHeight);break;case"right":h.x2=Math.max(Math.min(l.x2+b,h.x1+_.cropperScaledMaxWidth),h.x1+_.cropperScaledMinWidth);break;case"bottomright":h.x2=Math.max(Math.min(l.x2+b,h.x1+_.cropperScaledMaxWidth),h.x1+_.cropperScaledMinWidth),h.y2=Math.max(Math.min(l.y2+C,h.y1+_.cropperScaledMaxHeight),h.y1+_.cropperScaledMinHeight);break;case"bottom":h.y2=Math.max(Math.min(l.y2+C,h.y1+_.cropperScaledMaxHeight),h.y1+_.cropperScaledMinHeight);break;case"bottomleft":h.x1=Math.min(Math.max(l.x1+b,h.x2-_.cropperScaledMaxWidth),h.x2-_.cropperScaledMinWidth),h.y2=Math.max(Math.min(l.y2+C,h.y1+_.cropperScaledMaxHeight),h.y1+_.cropperScaledMinHeight);break;case"center":const Q=d.scale,Y=Math.min(Math.max(_.cropperScaledMinWidth,Math.abs(l.x2-l.x1)*Q),_.cropperScaledMaxWidth),B=Math.min(Math.max(_.cropperScaledMinHeight,Math.abs(l.y2-l.y1)*Q),_.cropperScaledMaxHeight);h.x1=l.clientX-Y/2,h.x2=l.clientX+Y/2,h.y1=l.clientY-B/2,h.y2=l.clientY+B/2,h.x1<0?(h.x2-=h.x1,h.x1=0):h.x2>r.width&&(h.x1-=h.x2-r.width,h.x2=r.width),h.y1<0?(h.y2-=h.y1,h.y1=0):h.y2>r.height&&(h.y1-=h.y2-r.height,h.y2=r.height)}_.maintainAspectRatio&&this.checkAspectRatio(l.position,h,r,_)}checkAspectRatio(d,l,h,r){let _=0,b=0;switch(d){case"top":l.x2=l.x1+(l.y2-l.y1)*r.aspectRatio,_=Math.max(l.x2-h.width,0),b=Math.max(0-l.y1,0),(_>0||b>0)&&(l.x2-=b*r.aspectRatio>_?b*r.aspectRatio:_,l.y1+=b*r.aspectRatio>_?b:_/r.aspectRatio);break;case"bottom":l.x2=l.x1+(l.y2-l.y1)*r.aspectRatio,_=Math.max(l.x2-h.width,0),b=Math.max(l.y2-h.height,0),(_>0||b>0)&&(l.x2-=b*r.aspectRatio>_?b*r.aspectRatio:_,l.y2-=b*r.aspectRatio>_?b:_/r.aspectRatio);break;case"topleft":l.y1=l.y2-(l.x2-l.x1)/r.aspectRatio,_=Math.max(0-l.x1,0),b=Math.max(0-l.y1,0),(_>0||b>0)&&(l.x1+=b*r.aspectRatio>_?b*r.aspectRatio:_,l.y1+=b*r.aspectRatio>_?b:_/r.aspectRatio);break;case"topright":l.y1=l.y2-(l.x2-l.x1)/r.aspectRatio,_=Math.max(l.x2-h.width,0),b=Math.max(0-l.y1,0),(_>0||b>0)&&(l.x2-=b*r.aspectRatio>_?b*r.aspectRatio:_,l.y1+=b*r.aspectRatio>_?b:_/r.aspectRatio);break;case"right":case"bottomright":l.y2=l.y1+(l.x2-l.x1)/r.aspectRatio,_=Math.max(l.x2-h.width,0),b=Math.max(l.y2-h.height,0),(_>0||b>0)&&(l.x2-=b*r.aspectRatio>_?b*r.aspectRatio:_,l.y2-=b*r.aspectRatio>_?b:_/r.aspectRatio);break;case"left":case"bottomleft":l.y2=l.y1+(l.x2-l.x1)/r.aspectRatio,_=Math.max(0-l.x1,0),b=Math.max(l.y2-h.height,0),(_>0||b>0)&&(l.x1+=b*r.aspectRatio>_?b*r.aspectRatio:_,l.y2-=b*r.aspectRatio>_?b:_/r.aspectRatio);break;case"center":l.x2=l.x1+(l.y2-l.y1)*r.aspectRatio,l.y2=l.y1+(l.x2-l.x1)/r.aspectRatio;const C=Math.max(0-l.x1,0),Q=Math.max(l.x2-h.width,0),Y=Math.max(l.y2-h.height,0),B=Math.max(0-l.y1,0);(C>0||Q>0||Y>0||B>0)&&(l.x1+=Y*r.aspectRatio>C?Y*r.aspectRatio:C,l.x2-=B*r.aspectRatio>Q?B*r.aspectRatio:Q,l.y1+=B*r.aspectRatio>Q?B:Q/r.aspectRatio,l.y2-=Y*r.aspectRatio>C?Y:C/r.aspectRatio)}}getClientX(d){var l;return(null===(l=d.touches)||void 0===l?void 0:l[0].clientX)||d.clientX||0}getClientY(d){var l;return(null===(l=d.touches)||void 0===l?void 0:l[0].clientY)||d.clientY||0}}return q.\u0275fac=function(d){return new(d||q)},q.\u0275prov=u.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();let ne=(()=>{class q{constructor(){this.autoRotateSupported=function X(){return new Promise(q=>{const H=new Image;H.onload=()=>{q(1===H.width&&2===H.height)},H.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}()}loadImageFile(d,l){return new Promise((h,r)=>{const _=new FileReader;_.onload=b=>{this.loadImage(b.target.result,d.type,l).then(h).catch(r)},_.readAsDataURL(d)})}loadImage(d,l,h){return this.isValidImageType(l)?this.loadBase64Image(d,h):Promise.reject(new Error("Invalid image type"))}isValidImageType(d){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp|x-icon|vnd.microsoft.icon)/.test(d)}loadImageFromURL(d,l){return new Promise((h,r)=>{const _=new Image;_.onerror=()=>r,_.onload=()=>{const b=document.createElement("canvas"),C=b.getContext("2d");b.width=_.width,b.height=_.height,null==C||C.drawImage(_,0,0),this.loadBase64Image(b.toDataURL(),l).then(h)},_.crossOrigin="anonymous",_.src=d})}loadBase64Image(d,l){return new Promise((h,r)=>{const _=new Image;_.onload=()=>h({originalImage:_,originalBase64:d}),_.onerror=r,_.src=d}).then(h=>this.transformImageBase64(h,l))}transformImageBase64(d,l){return(0,t.mG)(this,void 0,void 0,function*(){const h=yield this.autoRotateSupported,r=yield function D(q){switch("string"==typeof q&&(q=function ue(q){const H=new DataView(function ce(q){q=q.replace(/^data\:([^\;]+)\;base64,/gim,"");const H=atob(q),d=H.length,l=new Uint8Array(d);for(let h=0;h<d;h++)l[h]=H.charCodeAt(h);return l.buffer}(q));if(65496!==H.getUint16(0,!1))return-2;const d=H.byteLength;let l=2;for(;l<d;){if(H.getUint16(l+2,!1)<=8)return-1;const h=H.getUint16(l,!1);if(l+=2,65505==h){if(1165519206!==H.getUint32(l+=2,!1))return-1;const r=18761==H.getUint16(l+=6,!1);l+=H.getUint32(l+4,r);const _=H.getUint16(l,r);l+=2;for(let b=0;b<_;b++)if(274==H.getUint16(l+12*b,r))return H.getUint16(l+12*b+8,r)}else{if(65280!=(65280&h))break;l+=H.getUint16(l,!1)}}return-1}(q)),q){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(h?-1:d.originalBase64);return d.originalImage&&d.originalImage.complete?this.transformLoadedImage({original:{base64:d.originalBase64,image:d.originalImage,size:{width:d.originalImage.naturalWidth,height:d.originalImage.naturalHeight}},exifTransform:r},l):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(d,l){return(0,t.mG)(this,void 0,void 0,function*(){const h=l.canvasRotation+d.exifTransform.rotate,r={width:d.original.image.naturalWidth,height:d.original.image.naturalHeight};if(0===h&&!d.exifTransform.flip&&!l.containWithinAspectRatio)return{original:{base64:d.original.base64,image:d.original.image,size:Object.assign({},r)},transformed:{base64:d.original.base64,image:d.original.image,size:Object.assign({},r)},exifTransform:d.exifTransform};const _=this.getTransformedSize(r,d.exifTransform,l),b=document.createElement("canvas");b.width=_.width,b.height=_.height;const C=b.getContext("2d");null==C||C.setTransform(d.exifTransform.flip?-1:1,0,0,1,b.width/2,b.height/2),null==C||C.rotate(Math.PI*(h/2)),null==C||C.drawImage(d.original.image,-r.width/2,-r.height/2);const Q=b.toDataURL(),Y=yield this.loadImageFromBase64(Q);return{original:{base64:d.original.base64,image:d.original.image,size:Object.assign({},r)},transformed:{base64:Q,image:Y,size:{width:Y.width,height:Y.height}},exifTransform:d.exifTransform}})}loadImageFromBase64(d){return new Promise((l,h)=>{const r=new Image;r.onload=()=>l(r),r.onerror=h,r.src=d})}getTransformedSize(d,l,h){const r=h.canvasRotation+l.rotate;if(h.containWithinAspectRatio){if(r%2){const b=d.height/h.aspectRatio;return{width:Math.max(d.height,d.width*h.aspectRatio),height:Math.max(d.width,b)}}{const b=d.width/h.aspectRatio;return{width:Math.max(d.width,d.height*h.aspectRatio),height:Math.max(d.height,b)}}}return r%2?{height:d.width,width:d.height}:{width:d.width,height:d.height}}}return q.\u0275fac=function(d){return new(d||q)},q.\u0275prov=u.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),re=(()=>{class q{constructor(d,l,h,r,_){this.cropService=d,this.cropperPositionService=l,this.loadImageService=h,this.sanitizer=r,this.cd=_,this.Hammer=(null==window?void 0:window.Hammer)||null,this.settings=new $,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.maxSize={width:0,height:0},this.moveTypes=A,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new u.vpe,this.startCropImage=new u.vpe,this.imageLoaded=new u.vpe,this.cropperReady=new u.vpe,this.loadImageFailed=new u.vpe,this.reset()}ngOnChanges(d){var l;this.onChangesUpdateSettings(d),this.onChangesInputImage(d),(null===(l=this.loadedImage)||void 0===l?void 0:l.original.image.complete)&&(d.containWithinAspectRatio||d.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(h=>this.setLoadedImage(h)).catch(h=>this.loadImageError(h)),(d.cropper||d.maintainAspectRatio||d.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(d.maintainAspectRatio||d.aspectRatio)?this.resetCropperPosition():d.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),d.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesUpdateSettings(d){this.settings.setOptionsFromChanges(d),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(d){(d.imageChangedEvent||d.imageURL||d.imageBase64||d.imageFile)&&this.reset(),d.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),d.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),d.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),d.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){var d,l,h;return(null===(h=null===(l=null===(d=this.imageChangedEvent)||void 0===d?void 0:d.target)||void 0===l?void 0:l.files)||void 0===h?void 0:h.length)>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+`deg)translate(${this.transform.translateH||0}%, ${this.transform.translateV||0}%)`)}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=void 0,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(d){this.loadImageService.loadImageFile(d,this.settings).then(l=>this.setLoadedImage(l)).catch(l=>this.loadImageError(l))}loadBase64Image(d){this.loadImageService.loadBase64Image(d,this.settings).then(l=>this.setLoadedImage(l)).catch(l=>this.loadImageError(l))}loadImageFromURL(d){this.loadImageService.loadImageFromURL(d,this.settings).then(l=>this.setLoadedImage(l)).catch(l=>this.loadImageError(l))}setLoadedImage(d){this.loadedImage=d,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(d.transformed.base64),this.cd.markForCheck()}loadImageError(d){console.error(d),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){var d,l;return(null===(l=null===(d=this.sourceImage)||void 0===d?void 0:d.nativeElement)||void 0===l?void 0:l.offsetWidth)>0}onResize(){!this.loadedImage||(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const d=new this.Hammer(this.wrapper.nativeElement);d.get("pinch").set({enable:!0}),d.on("pinchmove",this.onPinch.bind(this)),d.on("pinchend",this.pinchStop.bind(this)),d.on("pinchstart",this.startPinch.bind(this))}else(0,u.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const d=this.sourceImage.nativeElement;(this.maxSize.width!==d.offsetWidth||this.maxSize.height!==d.offsetHeight)&&(this.cropper.x1=this.cropper.x1*d.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*d.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*d.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*d.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(d){this.changeKeyboardStepSize(d),this.keyboardMoveCropper(d)}changeKeyboardStepSize(d){const l=+d.key;l>=1&&l<=9&&(this.settings.stepSize=l)}keyboardMoveCropper(d){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(d.key))return;const h=d.shiftKey?A.Resize:A.Move,r=d.altKey?function a(q){switch(q){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";default:return"right"}}(d.key):function P(q){switch(q){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";default:return"left"}}(d.key),_=function m(q,H){switch(q){case"ArrowUp":return{clientX:0,clientY:-1*H};case"ArrowRight":return{clientX:H,clientY:0};case"ArrowDown":return{clientX:0,clientY:H};default:return{clientX:-1*H,clientY:0}}}(d.key,this.settings.stepSize);d.preventDefault(),d.stopPropagation(),this.startMove({clientX:0,clientY:0},h,r),this.moveImg(_),this.moveStop()}startMove(d,l,h=null){var r,_;(null===(r=this.moveStart)||void 0===r?void 0:r.active)&&(null===(_=this.moveStart)||void 0===_?void 0:_.type)===A.Pinch||(d.preventDefault&&d.preventDefault(),this.moveStart=Object.assign({active:!0,type:l,position:h,clientX:this.cropperPositionService.getClientX(d),clientY:this.cropperPositionService.getClientY(d)},this.cropper))}startPinch(d){!this.safeImgDataUrl||(d.preventDefault&&d.preventDefault(),this.moveStart=Object.assign({active:!0,type:A.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(d){this.moveStart.active&&(d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault(),this.moveStart.type===A.Move?(this.cropperPositionService.move(d,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===A.Resize&&(!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(d,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(d){this.moveStart.active&&(d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault(),this.moveStart.type===A.Pinch&&(this.cropperPositionService.resize(d,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const d=this.sourceImage.nativeElement;this.maxSize.width=d.offsetWidth,this.maxSize.height=d.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){var d,l;(null===(l=null===(d=this.loadedImage)||void 0===d?void 0:d.transformed)||void 0===l?void 0:l.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){var d,l;if(null===(l=null===(d=this.loadedImage)||void 0===d?void 0:d.transformed)||void 0===l?void 0:l.image){const h=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/h:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/h:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(d=!1){this.cropper.x1<0&&(this.cropper.x2-=d?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=d?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=d?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=d?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){var d,l;if(null!=(null===(l=null===(d=this.loadedImage)||void 0===d?void 0:d.transformed)||void 0===l?void 0:l.image)){this.startCropImage.emit();const h=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=h&&this.imageCropped.emit(h),h}return null}}return q.\u0275fac=function(d){return new(d||q)(u.Y36(Z),u.Y36(j),u.Y36(ne),u.Y36(i.H7),u.Y36(u.sBO))},q.\u0275cmp=u.Xpm({type:q,selectors:[["image-cropper"]],viewQuery:function(d,l){if(1&d&&(u.Gf(v,7),u.Gf(e,5)),2&d){let h;u.iGM(h=u.CRH())&&(l.wrapper=h.first),u.iGM(h=u.CRH())&&(l.sourceImage=h.first)}},hostVars:4,hostBindings:function(d,l){1&d&&u.NdJ("resize",function(){return l.onResize()},!1,u.Jf7)("mousemove",function(r){return l.moveImg(r)},!1,u.evT)("touchmove",function(r){return l.moveImg(r)},!1,u.evT)("mouseup",function(){return l.moveStop()},!1,u.evT)("touchend",function(){return l.moveStop()},!1,u.evT),2&d&&(u.Udp("text-align",l.alignImage),u.ekj("disabled",l.disabled))},inputs:{imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile",format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[u.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","ngx-ic-source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"ngx-ic-overlay"],["class","ngx-ic-cropper","tabindex","0",3,"ngx-ic-round","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"ngx-ic-source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"ngx-ic-cropper",3,"keydown"],[1,"ngx-ic-move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"ngx-ic-resize","ngx-ic-topleft",3,"mousedown","touchstart"],[1,"ngx-ic-square"],[1,"ngx-ic-resize","ngx-ic-top"],[1,"ngx-ic-resize","ngx-ic-topright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-right"],[1,"ngx-ic-resize","ngx-ic-bottomright",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-bottom"],[1,"ngx-ic-resize","ngx-ic-bottomleft",3,"mousedown","touchstart"],[1,"ngx-ic-resize","ngx-ic-left"],[1,"ngx-ic-resize-bar","ngx-ic-top",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-right",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-bottom",3,"mousedown","touchstart"],[1,"ngx-ic-resize-bar","ngx-ic-left",3,"mousedown","touchstart"]],template:function(d,l){1&d&&(u.TgZ(0,"div",null,0),u.YNc(2,k,2,5,"img",1),u._UZ(3,"div",2),u.YNc(4,U,3,15,"div",3),u.qZA()),2&d&&(u.Udp("background",l.imageVisible&&l.backgroundColor),u.xp6(2),u.Q6J("ngIf",l.safeImgDataUrl),u.xp6(1),u.Udp("width",l.maxSize.width,"px")("height",l.maxSize.height,"px")("margin-left","center"===l.alignImage?l.marginLeft:null),u.xp6(1),u.Q6J("ngIf",l.imageVisible))},directives:[F.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.ngx-ic-source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .ngx-ic-overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color, white) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:transparent;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color, rgba(255, 255, 255, .3)) solid 100vw;touch-action:none}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]{outline-width:100vh}}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:dashed 1px;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]:focus   .ngx-ic-move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%]   .ngx-ic-square[_ngcontent-%COMP%]{display:inline-block;background:#53535C;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize.ngx-ic-left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar.ngx-ic-left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw #ffffff4d;box-shadow:0 0 0 100vw var(--cropper-outline-color, rgba(255, 255, 255, .3))}@media (orientation: portrait){[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh #ffffff4d;box-shadow:0 0 0 100vh var(--cropper-outline-color, rgba(255, 255, 255, .3))}}[_nghost-%COMP%]   .ngx-ic-cropper.ngx-ic-round[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-resize-bar[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .ngx-ic-cropper[_ngcontent-%COMP%]   .ngx-ic-move[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),q})(),de=(()=>{class q{}return q.\u0275fac=function(d){return new(d||q)},q.\u0275mod=u.oAB({type:q}),q.\u0275inj=u.cJS({imports:[[F.ez]]}),q})()},9685:(ae,z,p)=>{p.d(z,{Ry:()=>be,Rq:()=>Ze});var u=p(5e3),t=p(9646),i=p(4968),F=p(4049),v=p(4482),e=p(5403),k=p(8421);const J={leading:!0,trailing:!1};var $=p(5963);var P=p(5577),a=p(4004),m=p(8505),c=p(9300);function Z(w,E,T,x){const f=window&&!!window.document&&window.document.documentElement;let n=f&&E?window:T;if(w&&(n=w&&f&&"string"==typeof w?function j(w,E,T){return(T?window.document:E).querySelector(w)}(w,T.nativeElement,x):w,!n))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return n}function R(w){return w&&!w.firstChange}const D={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},ue={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class ce{constructor(E=!0){this.vertical=E,this.propsMap=E?D:ue}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function me(w){return["Window","global"].some(T=>Object.prototype.toString.call(w).includes(T))}function q(w,E){return w?E.document.documentElement:null}function H(w,E){const T=function r({container:w,isWindow:E,axis:T}){const{offsetHeightKey:x,clientHeightKey:f}=h(T);return _(w,E,x,f)}(E);return E.isWindow?function d(w,E,T){const{axis:x,container:f,isWindow:n}=T,{offsetHeightKey:N,clientHeightKey:M}=h(x),S=w+C(q(n,f),x,n),O=_(E.nativeElement,n,N,M),V=function b(w,E,T){const x=E.topKey();if(w.getBoundingClientRect)return w.getBoundingClientRect()[x]+C(w,E,T)}(E.nativeElement,x,n)+O;return{height:w,scrolled:S,totalToScroll:V,isWindow:n}}(T,w,E):function l(w,E,T){const{axis:x,container:f}=T;return{height:w,scrolled:f[x.scrollTopKey()],totalToScroll:f[x.scrollHeightKey()],isWindow:!1}}(T,0,E)}function h(w){return{offsetHeightKey:w.offsetHeightKey(),clientHeightKey:w.clientHeightKey()}}function _(w,E,T,x){if(isNaN(w[T])){const f=q(E,w);return f?f[x]:0}return w[T]}function C(w,E,T){const x=E.pageYOffsetKey(),f=E.scrollTopKey(),n=E.offsetTopKey();return isNaN(window.pageYOffset)?q(T,w)[f]:w.ownerDocument?w.ownerDocument.defaultView[x]:w[n]}function Q(w,E={down:0,up:0},T){let x,f;if(w.totalToScroll<=0)return!1;const n=w.isWindow?w.scrolled:w.height+w.scrolled;return T?(x=(w.totalToScroll-n)/w.totalToScroll,f=((null==E?void 0:E.down)?E.down:0)/10):(x=w.scrolled/(w.scrolled+(w.totalToScroll-n)),f=((null==E?void 0:E.up)?E.up:0)/10),x<=f}class oe{constructor({totalToScroll:E}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=E}updateScrollPosition(E){return this.lastScrollPosition=E}updateTotalToScroll(E){this.lastTotalToScroll!==E&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=E)}updateScroll(E,T){this.updateScrollPosition(E),this.updateTotalToScroll(T)}updateTriggeredFlag(E,T){T?this.triggered.down=E:this.triggered.up=E}isTriggeredScroll(E,T){return T?this.triggered.down===E:this.triggered.up===E}}function ge(w){const{scrollContainer:E,scrollWindow:T,element:x,fromRoot:f}=w,n=function re({windowElement:w,axis:E}){return function de(w,E){const T=w.isWindow||E&&!E.nativeElement?E:E.nativeElement;return Object.assign(Object.assign({},w),{container:T})}({axis:E,isWindow:me(w)},w)}({axis:new ce(!w.horizontal),windowElement:Z(E,T,x,f)}),N=new oe({totalToScroll:H(x,n)}),S={up:w.upDistance,down:w.downDistance};return function _e(w){let E=(0,i.R)(w.container,"scroll");return w.throttle&&(E=E.pipe(function A(w,E=F.z,T=J){const x=(0,$.H)(w,E);return function U(w,E=J){return(0,v.e)((T,x)=>{const{leading:f,trailing:n}=E;let N=!1,M=null,S=null,O=!1;const V=()=>{null==S||S.unsubscribe(),S=null,n&&(G(),O&&x.complete())},W=()=>{S=null,O&&x.complete()},te=fe=>S=(0,k.Xf)(w(fe)).subscribe((0,e.x)(x,V,W)),G=()=>{if(N){N=!1;const fe=M;M=null,x.next(fe),!O&&te(fe)}};T.subscribe((0,e.x)(x,fe=>{N=!0,M=fe,(!S||S.closed)&&(f?G():te(fe))},()=>{O=!0,(!(n&&N&&S)||S.closed)&&x.complete()}))})}(()=>x,T)}(w.throttle,void 0,{leading:!0,trailing:!0}))),E}({container:n.container,throttle:w.throttle}).pipe((0,P.z)(()=>(0,t.of)(H(x,n))),(0,a.U)(O=>function Ae(w,E,T){const{scrollDown:x,fire:f}=function B(w,E,T){const x=function Y(w,E){return w<E.scrolled}(w,E);return{fire:Q(E,T,x),scrollDown:x}}(w,E,T);return{scrollDown:x,fire:f,stats:E}}(N.lastScrollPosition,O,S)),(0,m.b)(({stats:O})=>N.updateScroll(O.scrolled,O.totalToScroll)),(0,c.h)(({fire:O,scrollDown:V,stats:{totalToScroll:W}})=>function ne(w,E,T){return!!(w&&E||!T&&E)}(w.alwaysCallback,O,N.isTriggeredScroll(W,V))),(0,m.b)(({scrollDown:O,stats:{totalToScroll:V}})=>{N.updateTriggeredFlag(V,O)}),(0,a.U)(xe))}function xe(w){const{scrollDown:E,stats:{scrolled:T}}=w;return{type:E?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:T}}}let be=(()=>{class w{constructor(T,x){this.element=T,this.zone=x,this.scrolled=new u.vpe,this.scrolledUp=new u.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:T,infiniteScrollDisabled:x,infiniteScrollDistance:f}){const n=R(T),N=R(x),M=R(f),S=!N&&!this.infiniteScrollDisabled||N&&!x.currentValue||M;(n||N||M)&&(this.destroyScroller(),S&&this.setup())}setup(){(function X(){return"undefined"!=typeof window})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=ge({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(T=>this.zone.run(()=>this.handleOnScroll(T)))})}handleOnScroll({type:T,payload:x}){switch(T){case"[NGX_ISE] DOWN":return this.scrolled.emit(x);case"[NGX_ISE] UP":return this.scrolledUp.emit(x);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return w.\u0275fac=function(T){return new(T||w)(u.Y36(u.SBq),u.Y36(u.R0b))},w.\u0275dir=u.lG2({type:w,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[u.TTD]}),w})(),Ze=(()=>{class w{}return w.\u0275fac=function(T){return new(T||w)},w.\u0275mod=u.oAB({type:w}),w.\u0275inj=u.cJS({providers:[],imports:[[]]}),w})()},5861:(ae,z,p)=>{function u(i,F,v,e,k,J,U){try{var $=i[J](U),A=$.value}catch(P){return void v(P)}$.done?F(A):Promise.resolve(A).then(e,k)}function t(i){return function(){var F=this,v=arguments;return new Promise(function(e,k){var J=i.apply(F,v);function U(A){u(J,e,k,U,$,"next",A)}function $(A){u(J,e,k,U,$,"throw",A)}U(void 0)})}}p.d(z,{Z:()=>t})}}]);